2024-11-11 22:48:43.031 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 22:48:43.777 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-11 22:48:43.778 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-11 22:48:43.782 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 22:48:43.783 +03:00 [INF] Hosting environment: Development
2024-11-11 22:48:43.783 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-12 15:37:52.365 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-12 15:37:56.664 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-12 15:38:07.531 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-12 15:38:07.796 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-12 15:38:07.818 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-12 15:38:07.834 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-12 15:38:07.857 +03:00 [INF] Applying migration '20241112123756_add_mig_11'.
2024-11-12 15:38:07.905 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Files" ADD "Showcase" boolean NULL;
2024-11-12 15:38:07.907 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241112123756_add_mig_11', '6.0.35');
2024-11-13 00:44:18.087 +03:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-11-13 00:44:18.286 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:44:18.313 +03:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-11-13 00:45:30.696 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:46:19.894 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:46:20.088 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:46:20.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:46:20.112 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 00:46:20.129 +03:00 [INF] Applying migration '20241112214530_add_mig_12'.
2024-11-13 00:46:20.181 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_AspNetUsers_UserId1";
2024-11-13 00:47:47.064 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:47:47.249 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:47:47.261 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:47:47.269 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 00:47:47.289 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-11-13 00:47:59.492 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:48:22.396 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:48:22.578 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:48:22.590 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:48:22.598 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 00:48:22.612 +03:00 [INF] Applying migration '20241112214759_add_mig_12'.
2024-11-13 00:48:22.644 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241112214759_add_mig_12', '6.0.35');
2024-11-13 00:52:26.106 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:52:35.245 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:52:35.427 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:52:35.439 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:52:35.447 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 00:52:35.461 +03:00 [INF] Applying migration '20241112215226_add_mig_13'.
2024-11-13 00:52:35.521 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Baskets" (
    "Id" uuid NOT NULL,
    "UserId" text NOT NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Baskets" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Baskets_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-11-13 00:52:35.523 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BasketItems" (
    "Id" uuid NOT NULL,
    "BasketId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Quantity" integer NOT NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_BasketItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_BasketItems_Baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES "Baskets" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_BasketItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2024-11-13 00:52:35.524 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_BasketId" ON "BasketItems" ("BasketId");
2024-11-13 00:52:35.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_ProductId" ON "BasketItems" ("ProductId");
2024-11-13 00:52:35.526 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Baskets_UserId" ON "Baskets" ("UserId");
2024-11-13 00:52:35.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241112215226_add_mig_13', '6.0.35');
2024-11-13 01:42:14.040 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 01:42:22.963 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 01:42:23.153 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 01:42:23.168 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 01:42:23.176 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 01:42:23.191 +03:00 [INF] Applying migration '20241112224214_add_mig_14'.
2024-11-13 01:42:23.232 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "OrderId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-13 01:42:23.233 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" ADD "OrderId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-13 01:42:23.236 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Baskets_OrderId" ON "Baskets" ("OrderId");
2024-11-13 01:42:23.242 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" ADD CONSTRAINT "FK_Baskets_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE;
2024-11-13 01:42:23.243 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241112224214_add_mig_14', '6.0.35');
2024-11-13 01:48:57.022 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 01:49:03.531 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 01:49:03.810 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 01:49:03.828 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 01:49:03.839 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 01:49:03.857 +03:00 [INF] Applying migration '20241112224857_add_mig_15'.
2024-11-13 01:49:03.904 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_Orders_OrderId";
2024-11-13 01:49:03.905 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Baskets_OrderId";
2024-11-13 01:49:03.906 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "OrderId";
2024-11-13 01:49:03.908 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP COLUMN "OrderId";
2024-11-13 01:49:03.910 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_Baskets_Id" FOREIGN KEY ("Id") REFERENCES "Baskets" ("Id") ON DELETE CASCADE;
2024-11-13 01:49:03.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241112224857_add_mig_15', '6.0.35');
2024-11-13 03:00:51.053 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:00:51.402 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:00:51.403 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:00:51.406 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:00:51.406 +03:00 [INF] Hosting environment: Development
2024-11-13 03:00:51.407 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:01:03.340 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:01:03.427 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:01:03.468 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:01:04.783 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:01:05.237 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:01:06.008 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:01:06.027 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:01:06.161 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:01:06.215 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:01:06.252 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2778.5815ms
2024-11-13 03:01:06.255 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:01:06.274 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2936.7176ms
2024-11-13 03:01:10.401 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-13 03:01:10.647 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:01:10.655 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-13 03:01:10.702 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:01:10.746 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-13 03:01:10.766 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:01:10.767 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:01:10.787 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-13 03:01:10.796 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-13 03:01:10.818 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 161.5487ms
2024-11-13 03:01:10.819 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:01:10.820 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 419.4774ms
2024-11-13 03:01:51.911 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-13 03:01:51.916 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:01:51.921 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-13 03:01:51.931 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:01:51.937 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-13 03:01:51.939 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:01:51.940 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:01:51.944 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-13 03:01:51.946 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-13 03:01:51.948 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 25.3699ms
2024-11-13 03:01:51.949 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:01:51.950 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 39.5341ms
2024-11-13 03:06:18.335 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:06:18.337 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:06:18.341 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:06:18.516 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 174.0025ms
2024-11-13 03:06:18.519 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:06:18.547 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ETicaretServer.Persistence.Services.BasketService.ContextUser() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 69
   at ETicaretServer.Persistence.Services.BasketService.GetBasketItemsAsync() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 102
   at ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryHandler.Handle(GetBasketItemsQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Basket\GetBasketItems\GetBasketItemsQueruHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.BasketsController.GetBasketItem(GetBasketItemsQueryRequest getBasketItemsQueryRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-13 03:06:18.626 +03:00 [ERR] Beklenmeyen bir hata ile karşılaşıldı
2024-11-13 03:06:18.634 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 500 - application/json 299.0456ms
2024-11-13 03:06:25.364 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:06:25.366 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:06:25.369 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:06:25.373 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:06:25.380 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:06:25.386 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:06:25.391 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:06:25.395 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:06:25.399 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:06:25.401 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 30.852ms
2024-11-13 03:06:25.402 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:06:25.404 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 39.1749ms
2024-11-13 03:06:28.266 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:06:28.267 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:06:28.269 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:06:28.372 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 101.5907ms
2024-11-13 03:06:28.373 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:06:28.393 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ETicaretServer.Persistence.Services.BasketService.ContextUser() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 69
   at ETicaretServer.Persistence.Services.BasketService.GetBasketItemsAsync() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 102
   at ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryHandler.Handle(GetBasketItemsQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Basket\GetBasketItems\GetBasketItemsQueruHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.BasketsController.GetBasketItem(GetBasketItemsQueryRequest getBasketItemsQueryRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-13 03:06:28.400 +03:00 [ERR] Beklenmeyen bir hata ile karşılaşıldı
2024-11-13 03:06:28.401 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 500 - application/json 134.4470ms
2024-11-13 03:08:14.061 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets?productId=c185ab26-7c85-478e-9263-e15e8c445543&Quantity=4 - 0
2024-11-13 03:08:14.067 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:08:14.071 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:08:14.077 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-11-13 03:08:14.086 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 13.4327ms
2024-11-13 03:08:14.087 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:08:14.088 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets?productId=c185ab26-7c85-478e-9263-e15e8c445543&Quantity=4 - 0 - 415 - application/problem+json;+charset=utf-8 29.8842ms
2024-11-13 03:08:39.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-13 03:08:39.381 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 132.6221ms
2024-11-13 03:08:42.263 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-13 03:08:42.263 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-13 03:08:42.272 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 8.7755ms
2024-11-13 03:08:42.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.6244ms
2024-11-13 03:08:42.421 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-13 03:08:42.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.5442ms
2024-11-13 03:08:51.827 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Baskets - -
2024-11-13 03:08:51.828 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:08:51.829 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:08:51.926 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 96.0724ms
2024-11-13 03:08:51.928 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:08:51.945 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ETicaretServer.Persistence.Services.BasketService.ContextUser() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 69
   at ETicaretServer.Persistence.Services.BasketService.GetBasketItemsAsync() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 102
   at ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryHandler.Handle(GetBasketItemsQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Basket\GetBasketItems\GetBasketItemsQueruHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.BasketsController.GetBasketItem(GetBasketItemsQueryRequest getBasketItemsQueryRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-13 03:08:51.953 +03:00 [ERR] Beklenmeyen bir hata ile karşılaşıldı
2024-11-13 03:08:51.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Baskets - - - 500 - application/json 127.5508ms
2024-11-13 03:09:21.024 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:09:21.026 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:09:21.026 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:09:21.134 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 106.6645ms
2024-11-13 03:09:21.136 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:09:21.155 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ETicaretServer.Persistence.Services.BasketService.ContextUser() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 69
   at ETicaretServer.Persistence.Services.BasketService.AddItemToBasketAsync(VM_Create_BasketItem model) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 76
   at ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandHandler.Handle(AddItemToBasketCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Basket\AddItemToBasket\AddItemToBasketCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.BasketsController.AddItemToBasket(AddItemToBasketCommandRequest addItemToBasketCommandRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-13 03:09:21.162 +03:00 [ERR] Beklenmeyen bir hata ile karşılaşıldı
2024-11-13 03:09:21.162 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 500 - application/json 137.8684ms
2024-11-13 03:09:33.152 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:09:33.407 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:09:33.407 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:09:33.410 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:09:33.410 +03:00 [INF] Hosting environment: Development
2024-11-13 03:09:33.411 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:09:40.292 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:09:40.358 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:09:40.390 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:09:41.666 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:09:42.118 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:09:42.416 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:09:42.431 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:09:42.557 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:09:42.609 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:09:42.645 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2249.4015ms
2024-11-13 03:09:42.648 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:09:42.669 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2379.9909ms
2024-11-13 03:09:46.858 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:09:46.862 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:09:46.866 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:09:47.038 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 170.1231ms
2024-11-13 03:09:47.040 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:09:47.064 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ETicaretServer.Persistence.Services.BasketService.ContextUser() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 69
   at ETicaretServer.Persistence.Services.BasketService.AddItemToBasketAsync(VM_Create_BasketItem model) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 76
   at ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandHandler.Handle(AddItemToBasketCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Basket\AddItemToBasket\AddItemToBasketCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.BasketsController.AddItemToBasket(AddItemToBasketCommandRequest addItemToBasketCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\BasketsController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-13 03:09:47.122 +03:00 [ERR] Beklenmeyen bir hata ile karşılaşıldı
2024-11-13 03:09:47.133 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 500 - application/json 274.1522ms
2024-11-13 03:09:58.514 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:09:58.518 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:09:58.519 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:11:20.440 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:11:20.753 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:11:20.754 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:11:20.758 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:11:20.758 +03:00 [INF] Hosting environment: Development
2024-11-13 03:11:20.759 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:11:27.676 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:11:27.760 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:11:27.803 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:11:29.134 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:11:29.565 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:11:29.860 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:11:29.877 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:11:30.035 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:11:30.093 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:11:30.126 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2316.8194ms
2024-11-13 03:11:30.128 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:11:30.148 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2475.2505ms
2024-11-13 03:11:33.725 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:11:33.727 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:11:33.731 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:13:23.156 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:13:23.462 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:13:23.462 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:13:23.465 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:13:23.466 +03:00 [INF] Hosting environment: Development
2024-11-13 03:13:23.467 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:13:26.981 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:13:27.127 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:13:27.135 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:13:27.149 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 401 0 - 171.5662ms
2024-11-13 03:13:33.194 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:13:33.202 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:13:33.234 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:13:34.481 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:13:34.946 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:13:35.207 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:13:35.223 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:13:35.350 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:13:35.406 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:13:35.436 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2195.9487ms
2024-11-13 03:13:35.438 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:13:35.455 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2261.5605ms
2024-11-13 03:13:37.571 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:13:37.574 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:13:37.576 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:13:37.577 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 401 0 - 5.4697ms
2024-11-13 03:13:49.851 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-13 03:13:49.927 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:13:49.934 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-13 03:13:49.984 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:13:50.026 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-13 03:13:50.041 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:13:50.042 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:13:50.059 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-13 03:13:50.066 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-13 03:13:50.083 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 146.7026ms
2024-11-13 03:13:50.084 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:13:50.085 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 233.7806ms
2024-11-13 03:13:53.118 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:13:53.119 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:13:53.120 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:13:53.121 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 401 0 - 3.0510ms
2024-11-13 03:14:09.483 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:14:09.484 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:14:09.485 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:14:09.486 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 401 0 - 3.0512ms
2024-11-13 03:14:45.095 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:14:45.096 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:14:45.100 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:14:47.334 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:14:47.503 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:14:47.605 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2024-11-13 03:14:47.644 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 03:14:47.648 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 03:14:47.651 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 2549.9655ms
2024-11-13 03:14:47.652 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:14:47.654 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 2559.2166ms
2024-11-13 03:14:54.163 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:14:54.165 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:14:54.169 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:15:02.831 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:15:02.845 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:15:02.855 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:15:02.861 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:15:02.864 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:15:02.865 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 8694.846ms
2024-11-13 03:15:02.866 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:15:02.867 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 8703.8068ms
2024-11-13 03:15:07.143 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:15:07.144 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:15:07.145 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:15:09.098 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:15:09.103 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:15:09.108 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:15:09.111 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:15:09.116 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 03:15:09.118 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 03:15:09.119 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 1972.8085ms
2024-11-13 03:15:09.121 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:15:09.122 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 1979.0808ms
2024-11-13 03:17:01.629 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:17:01.993 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:17:01.994 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:17:01.997 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:17:01.998 +03:00 [INF] Hosting environment: Development
2024-11-13 03:17:01.998 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:17:47.388 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:17:47.692 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:17:47.726 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:18:00.151 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:18:00.815 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:18:01.013 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:18:01.021 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:18:01.090 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:18:01.116 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 13383.0913ms
2024-11-13 03:18:01.119 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:18:01.141 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 13754.7278ms
2024-11-13 03:18:37.033 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:18:37.050 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:18:37.051 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:18:37.086 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:18:37.093 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:18:37.100 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:18:37.103 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:19:01.198 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:19:01.201 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 24147.4258ms
2024-11-13 03:19:01.202 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:19:01.204 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 24171.0806ms
2024-11-13 03:19:02.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-13 03:19:02.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 120.5888ms
2024-11-13 03:19:02.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-13 03:19:02.443 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 8.2455ms
2024-11-13 03:19:02.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-13 03:19:02.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.8387ms
2024-11-13 03:19:02.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-13 03:19:02.768 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.9994ms
2024-11-13 03:19:03.610 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:19:03.613 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:19:03.617 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:19:03.637 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:19:03.649 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:19:03.655 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:19:03.657 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:19:03.684 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:19:03.823 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-13 03:19:03.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:19:03.862 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 242.6451ms
2024-11-13 03:19:03.862 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:19:03.864 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 253.8598ms
2024-11-13 03:19:18.169 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:19:18.171 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:19:18.174 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:19:18.181 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:19:18.184 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:19:18.189 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:19:18.192 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:19:18.222 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 03:19:18.241 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 03:19:18.249 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 73.048ms
2024-11-13 03:19:18.250 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:19:18.251 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 82.1751ms
2024-11-13 03:20:20.216 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-13 03:20:20.229 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 12.8445ms
2024-11-13 03:20:20.275 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-13 03:20:20.278 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-13 03:20:20.284 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.4393ms
2024-11-13 03:20:20.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.1079ms
2024-11-13 03:20:20.361 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-13 03:20:20.368 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.2676ms
2024-11-13 03:21:06.337 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80
2024-11-13 03:21:06.338 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:21:06.345 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:21:06.346 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80 - 401 0 - 9.1189ms
2024-11-13 03:21:09.847 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:21:09.849 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:21:09.852 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:21:09.864 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:21:09.872 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:21:09.917 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:21:09.935 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:21:09.960 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:21:09.974 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:21:09.983 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 129.2064ms
2024-11-13 03:21:09.985 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:21:09.987 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 139.7493ms
2024-11-13 03:21:12.378 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80
2024-11-13 03:21:12.379 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:21:12.380 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:21:12.381 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80 - 401 0 - 2.8011ms
2024-11-13 03:21:25.978 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/15cdb3d0-3792-43d0-8a8d-2af5887e7949 - -
2024-11-13 03:21:25.980 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:21:25.985 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetById.GetByIdProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-13 03:21:25.994 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:21:26.003 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2024-11-13 03:21:26.008 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetById.GetByIdProductQueryResponse'.
2024-11-13 03:21:26.012 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 25.5598ms
2024-11-13 03:21:26.013 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:21:26.014 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/15cdb3d0-3792-43d0-8a8d-2af5887e7949 - - - 200 - application/json;+charset=utf-8 36.4533ms
2024-11-13 03:21:30.281 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80
2024-11-13 03:21:30.282 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:21:30.283 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:21:30.284 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80 - 401 0 - 2.5841ms
2024-11-13 03:22:25.332 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets?BasketItemId=6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:22:25.337 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-13 03:22:25.338 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-13 03:22:25.339 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets?BasketItemId=6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 405 0 - 7.3030ms
2024-11-13 03:22:28.469 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:22:28.470 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:22:28.471 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:22:28.473 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:22:28.479 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:22:28.482 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:22:28.485 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:22:28.493 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 03:22:28.495 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 03:22:28.496 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 23.3563ms
2024-11-13 03:22:28.497 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:22:28.498 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 28.9425ms
2024-11-13 03:22:52.194 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets?BasketItemId=6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:22:52.195 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-13 03:22:52.196 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-13 03:22:52.197 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets?BasketItemId=6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 405 0 - 2.7818ms
2024-11-13 03:23:30.055 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:23:30.056 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:23:30.057 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:23:30.058 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 401 0 - 2.8840ms
2024-11-13 03:23:34.523 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:23:34.525 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:23:34.526 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:23:34.529 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:23:34.537 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:23:34.544 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:23:34.547 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:23:34.557 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:23:34.562 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:23:34.563 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 35.9161ms
2024-11-13 03:23:34.565 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:23:34.566 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 43.2482ms
2024-11-13 03:23:36.954 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:23:36.955 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:23:36.956 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:23:36.957 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 401 0 - 2.7200ms
2024-11-13 03:23:45.599 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:23:45.845 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:23:45.846 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:23:45.848 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:23:45.848 +03:00 [INF] Hosting environment: Development
2024-11-13 03:23:45.849 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:23:53.528 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:23:53.606 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:23:53.647 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:23:54.882 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:23:55.328 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:23:55.610 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:23:55.625 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:23:55.754 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:23:55.810 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:23:55.840 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2187.4989ms
2024-11-13 03:23:55.842 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:23:55.860 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2334.8550ms
2024-11-13 03:23:57.962 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:23:57.997 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:23:58.006 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:23:58.008 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 401 0 - 45.7143ms
2024-11-13 03:24:27.330 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:24:27.401 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:24:27.407 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:24:27.446 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:24:27.608 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:24:27.662 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:24:27.669 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:24:27.698 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:24:27.721 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2024-11-13 03:24:27.727 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:24:27.729 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 320.28ms
2024-11-13 03:24:27.730 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:24:27.732 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 402.2664ms
2024-11-13 03:24:39.523 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:24:39.525 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:24:39.527 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:24:39.536 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:24:39.542 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:24:39.547 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:24:39.549 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:24:39.554 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:24:39.558 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2024-11-13 03:24:39.562 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:24:39.563 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 34.6527ms
2024-11-13 03:24:39.564 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:24:39.565 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 41.6217ms
2024-11-13 03:25:04.407 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:25:04.409 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:04.410 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:04.421 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:04.430 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:25:04.434 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:04.438 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:04.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:25:04.504 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-13 03:25:04.514 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:25:04.515 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 104.233ms
2024-11-13 03:25:04.517 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:04.518 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 110.4836ms
2024-11-13 03:25:08.684 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:25:08.685 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:08.686 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:08.687 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:08.698 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:25:08.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:08.703 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:08.706 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:25:08.711 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-13 03:25:08.716 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:25:08.717 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 29.9671ms
2024-11-13 03:25:08.718 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:08.719 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 34.8239ms
2024-11-13 03:25:13.128 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:25:13.129 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:13.130 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:13.132 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:13.141 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:25:13.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:13.148 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:13.153 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:25:13.156 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-13 03:25:13.166 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:25:13.168 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 35.8883ms
2024-11-13 03:25:13.169 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:13.170 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 41.8804ms
2024-11-13 03:25:14.998 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:25:15.005 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:25:15.011 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:15.018 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:15.021 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:25:15.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:15.029 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:15.060 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 03:25:15.078 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 03:25:15.086 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 74.0561ms
2024-11-13 03:25:15.087 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:25:15.088 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 90.4213ms
2024-11-13 03:25:33.832 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80
2024-11-13 03:25:33.834 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API)'
2024-11-13 03:25:33.839 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretServer.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:33.849 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:33.859 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2024-11-13 03:25:33.864 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2024-11-13 03:25:33.868 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2024-11-13 03:25:33.870 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API) in 28.3106ms
2024-11-13 03:25:33.871 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API)'
2024-11-13 03:25:33.872 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80 - 200 - application/json;+charset=utf-8 39.8722ms
2024-11-13 03:25:42.325 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80
2024-11-13 03:25:42.327 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API)'
2024-11-13 03:25:42.328 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretServer.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:42.330 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:42.334 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2024-11-13 03:25:42.342 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2024-11-13 03:25:42.347 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2024-11-13 03:25:42.348 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API) in 19.4895ms
2024-11-13 03:25:42.350 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API)'
2024-11-13 03:25:42.351 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80 - 200 - application/json;+charset=utf-8 25.4989ms
2024-11-13 03:25:48.204 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:25:48.205 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.RemoveBasketItem (ETicaretServer.API)'
2024-11-13 03:25:48.209 +03:00 [INF] Route matched with {action = "RemoveBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveBasketItem(ETicaretServer.Application.Features.Commands.Basket.RemoveBasket.RemoveBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:52.869 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:52.913 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2024-11-13 03:25:52.928 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BasketItems"
WHERE "Id" = @p0;
2024-11-13 03:25:52.936 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.RemoveBasket.RemoveBasketCommandResponse'.
2024-11-13 03:25:52.938 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.RemoveBasketItem (ETicaretServer.API) in 4727.5001ms
2024-11-13 03:25:52.939 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.RemoveBasketItem (ETicaretServer.API)'
2024-11-13 03:25:52.940 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 200 - application/json;+charset=utf-8 4735.4998ms
2024-11-13 17:33:22.038 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 17:33:29.106 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 17:33:29.290 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 17:33:29.303 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 17:33:29.314 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 17:33:29.331 +03:00 [INF] Applying migration '20241113143322_add_mig_16'.
2024-11-13 17:33:29.382 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2024-11-13 17:33:29.386 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "OrderProduct";
2024-11-13 17:33:29.387 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ALTER COLUMN "CustomerId" DROP NOT NULL;
2024-11-13 17:33:29.395 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_Customers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "Customers" ("Id");
2024-11-13 17:33:29.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241113143322_add_mig_16', '6.0.35');
2024-11-13 17:35:27.204 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 17:35:33.563 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 17:35:33.753 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 17:35:33.765 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 17:35:33.774 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 17:35:33.789 +03:00 [INF] Applying migration '20241113143527_add_mig_17'.
2024-11-13 17:35:33.826 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2024-11-13 17:35:33.827 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Orders_CustomerId";
2024-11-13 17:35:33.828 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId";
2024-11-13 17:35:33.829 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "BasketId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-13 17:35:33.830 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241113143527_add_mig_17', '6.0.35');
2024-11-13 18:09:05.382 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 18:09:05.951 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 18:09:05.952 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 18:09:05.955 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 18:09:05.955 +03:00 [INF] Hosting environment: Development
2024-11-13 18:09:05.956 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 18:09:07.914 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-13 18:09:08.197 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 286.8362ms
2024-11-13 18:09:08.611 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-13 18:09:08.611 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-13 18:09:08.617 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.5547ms
2024-11-13 18:09:08.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.2571ms
2024-11-13 18:09:08.785 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-13 18:09:08.930 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.3298ms
2024-11-13 18:12:38.310 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:12:44.825 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:12:45.029 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 18:12:45.044 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 18:12:45.054 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 18:12:45.070 +03:00 [INF] Applying migration '20241113151238_add_mig_18'.
2024-11-13 18:12:45.107 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "BasketId";
2024-11-13 18:12:45.108 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241113151238_add_mig_18', '6.0.35');
2024-11-13 18:14:26.706 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 18:14:27.070 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 18:14:27.072 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 18:14:27.076 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 18:14:27.077 +03:00 [INF] Hosting environment: Development
2024-11-13 18:14:27.078 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 18:14:28.269 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 18:14:28.366 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 18:14:28.409 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 18:14:29.650 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:14:30.171 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 18:14:30.983 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 18:14:31.005 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 18:14:31.155 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 18:14:31.212 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 18:14:31.252 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2837.6193ms
2024-11-13 18:14:31.254 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 18:14:31.278 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 3011.2799ms
2024-11-13 18:14:38.683 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 18:14:38.921 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 18:14:38.926 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 18:14:38.964 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:14:39.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 18:14:39.165 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 18:14:39.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 18:14:39.219 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 18:14:39.253 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 18:14:39.262 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 334.4814ms
2024-11-13 18:14:39.263 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 18:14:39.265 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 582.2092ms
2024-11-13 18:15:11.324 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders - -
2024-11-13 18:15:11.327 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-13 18:15:11.328 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-13 18:15:11.329 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders - - - 405 0 - 5.0946ms
2024-11-13 18:15:48.733 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-13 18:15:48.740 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-13 18:15:48.758 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 25.4182ms
2024-11-13 18:15:48.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 96.2345ms
2024-11-13 18:15:49.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-13 18:15:49.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 325.4568ms
2024-11-13 18:16:15.622 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-13 18:16:15.623 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-13 18:16:15.626 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-13 18:16:15.639 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:16:15.644 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 18:16:15.647 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 18:16:15.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 18:16:15.704 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-11-13 18:16:15.711 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandResponse'.
2024-11-13 18:16:15.713 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 85.3009ms
2024-11-13 18:16:15.714 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-13 18:16:15.715 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 93.3020ms
2024-11-13 18:16:27.530 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 18:16:27.533 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 18:16:27.534 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 18:16:27.538 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:16:27.542 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 18:16:27.548 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 18:16:27.586 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2024-11-13 18:16:27.594 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 18:16:27.597 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 18:16:27.599 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 62.7789ms
2024-11-13 18:16:27.600 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 18:16:27.601 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 70.7770ms
2024-11-14 01:12:35.013 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:12:41.853 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:15:44.589 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:15:44.856 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-14 01:15:44.877 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-14 01:15:44.887 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-14 01:15:44.910 +03:00 [INF] Applying migration '20241113221235_add_mig_19'.
2024-11-14 01:15:44.961 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "OrderCode" text NOT NULL DEFAULT '';
2024-11-14 01:15:44.964 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241113221235_add_mig_19', '6.0.35');
2024-11-14 01:15:53.148 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:15:57.335 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:15:57.522 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-14 01:15:57.535 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-14 01:15:57.543 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-14 01:15:57.557 +03:00 [INF] Applying migration '20241113221553_add_mig_20'.
2024-11-14 01:15:57.596 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Orders_OrderCode" ON "Orders" ("OrderCode");
2024-11-14 01:15:57.597 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241113221553_add_mig_20', '6.0.35');
2024-11-14 01:27:44.584 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:27:44.982 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:27:44.982 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:27:44.985 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:27:44.986 +03:00 [INF] Hosting environment: Development
2024-11-14 01:27:44.987 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:29:10.643 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-14 01:29:10.734 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:29:10.781 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-14 01:29:12.122 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:29:12.567 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:29:13.347 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:29:13.363 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-14 01:29:13.494 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-14 01:29:13.547 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-14 01:29:13.581 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2794.2419ms
2024-11-14 01:29:13.583 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:29:13.601 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2962.0672ms
2024-11-14 01:29:19.325 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-14 01:29:19.561 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:29:19.567 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-14 01:29:19.608 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:29:19.768 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:29:19.897 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2024-11-14 01:29:19.942 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-14 01:29:19.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 01:29:19.955 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 386.8847ms
2024-11-14 01:29:19.956 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:29:19.959 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 634.7476ms
2024-11-14 01:29:22.748 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-14 01:29:22.757 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-14 01:29:22.760 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-14 01:29:22.777 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:29:22.782 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:29:22.799 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:22.806 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:22.822 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-14 01:29:22.861 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-14 01:29:22.865 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-14 01:29:22.866 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 104.2009ms
2024-11-14 01:29:22.867 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-14 01:29:22.868 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 119.5099ms
2024-11-14 01:29:25.857 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-14 01:29:25.859 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:29:25.860 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-14 01:29:25.863 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:29:25.866 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:29:25.870 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:25.872 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:25.876 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-14 01:29:25.894 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 01:29:25.901 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 39.5173ms
2024-11-14 01:29:25.902 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:29:25.903 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 45.6081ms
2024-11-14 01:29:34.184 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:29:34.185 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:29:34.190 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:29:34.195 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:29:34.199 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:29:34.202 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:34.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:34.347 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 156.366ms
2024-11-14 01:29:34.349 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:29:34.369 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:29:34.459 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:29:34.469 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 285.4228ms
2024-11-14 01:30:18.780 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:30:18.781 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:30:18.782 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:30:18.785 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:30:18.789 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:30:18.791 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:30:18.794 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:30:18.863 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 79.2583ms
2024-11-14 01:30:18.864 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:30:18.883 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:30:18.890 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:30:18.890 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 110.0869ms
2024-11-14 01:30:50.518 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:30:50.773 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:30:50.774 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:30:50.777 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:30:50.778 +03:00 [INF] Hosting environment: Development
2024-11-14 01:30:50.779 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:30:53.502 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-14 01:30:53.573 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:30:53.604 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-14 01:30:54.785 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:30:55.196 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:30:55.472 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:30:55.486 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-14 01:30:55.610 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-14 01:30:55.660 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-14 01:30:55.695 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2085.0525ms
2024-11-14 01:30:55.698 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:30:55.716 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2217.1432ms
2024-11-14 01:30:59.435 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:30:59.526 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:30:59.529 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:30:59.565 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:30:59.710 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:30:59.770 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:30:59.782 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:30:59.926 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 395.576ms
2024-11-14 01:30:59.927 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:30:59.955 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:30:59.995 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:31:00.009 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 573.8931ms
2024-11-14 01:31:16.700 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:31:16.703 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:31:16.704 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:31:56.420 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:31:56.425 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:31:56.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:31:56.430 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:31:56.612 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 39906.1139ms
2024-11-14 01:31:56.617 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:31:56.680 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:31:56.703 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:31:56.706 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 40006.1869ms
2024-11-14 01:33:27.112 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:33:27.380 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:33:27.381 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:33:27.384 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:33:27.385 +03:00 [INF] Hosting environment: Development
2024-11-14 01:33:27.386 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:33:34.584 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-14 01:33:34.869 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:34.904 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-14 01:33:36.087 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:33:36.398 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-14 01:33:36.449 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-14 01:33:36.450 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-14 01:33:36.485 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-14 01:33:36.502 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-14 01:33:36.544 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 1634.0474ms
2024-11-14 01:33:36.546 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:36.557 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 1975.1219ms
2024-11-14 01:33:41.409 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-14 01:33:41.413 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:33:41.417 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-14 01:33:41.468 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:33:41.572 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:33:41.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:33:41.735 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-14 01:33:41.855 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-14 01:33:41.907 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-14 01:33:41.909 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 490.6565ms
2024-11-14 01:33:41.911 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:33:41.918 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 508.9550ms
2024-11-14 01:33:44.745 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/15cdb3d0-3792-43d0-8a8d-2af5887e7949 - -
2024-11-14 01:33:44.748 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:44.751 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetById.GetByIdProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-14 01:33:44.763 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:33:44.777 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2024-11-14 01:33:44.810 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetById.GetByIdProductQueryResponse'.
2024-11-14 01:33:44.812 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 59.3577ms
2024-11-14 01:33:44.813 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:44.814 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/15cdb3d0-3792-43d0-8a8d-2af5887e7949 - - - 200 - application/json;+charset=utf-8 69.1833ms
2024-11-14 01:33:47.502 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-14 01:33:47.504 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:47.505 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-14 01:33:47.507 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:33:47.510 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-14 01:33:47.514 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-14 01:33:47.516 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-14 01:33:47.521 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 14.7934ms
2024-11-14 01:33:47.522 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:47.523 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 20.6080ms
2024-11-14 01:33:53.606 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:33:53.607 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:33:53.610 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:33:59.907 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:34:00.067 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:34:00.097 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:34:00.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:34:00.191 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 6579.4314ms
2024-11-14 01:34:00.192 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:34:00.210 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:34:00.246 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:34:00.253 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 6646.8269ms
2024-11-14 01:34:41.600 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:34:41.969 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:34:41.970 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:34:41.973 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:34:41.974 +03:00 [INF] Hosting environment: Development
2024-11-14 01:34:41.975 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:35:59.116 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:35:59.424 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:35:59.425 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:35:59.428 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:35:59.429 +03:00 [INF] Hosting environment: Development
2024-11-14 01:35:59.430 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:36:03.577 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:36:03.860 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:36:03.893 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:37:08.496 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:37:09.067 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:37:09.229 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:37:09.236 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:37:39.163 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 95264.3369ms
2024-11-14 01:37:39.166 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:37:39.192 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:37:39.239 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:37:39.275 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 95701.3372ms
2024-11-14 01:37:41.711 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:37:41.715 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:37:41.717 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:37:49.347 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:37:49.354 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:37:49.357 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:37:49.359 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:38:26.064 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:38:26.354 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:38:26.355 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:38:26.358 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:38:26.359 +03:00 [INF] Hosting environment: Development
2024-11-14 01:38:26.360 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:38:30.587 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:38:30.875 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:38:30.908 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:38:33.930 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:38:34.554 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:38:34.729 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:38:34.736 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:38:39.341 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-14 01:38:39.394 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandResponse'.
2024-11-14 01:38:39.418 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 8504.0346ms
2024-11-14 01:38:39.420 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:38:39.439 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 8855.2977ms
2024-11-14 01:39:15.135 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-14 01:39:15.145 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:39:15.150 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-14 01:39:15.187 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:39:15.195 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:39:15.200 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:39:15.233 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2024-11-14 01:39:15.270 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-14 01:39:15.273 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 01:39:15.278 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 126.4025ms
2024-11-14 01:39:15.279 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:39:15.280 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 145.7440ms
2024-11-14 01:39:18.839 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-14 01:39:18.842 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:39:18.849 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-14 01:39:18.871 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:39:18.895 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-14 01:39:18.906 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-14 01:39:18.907 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-14 01:39:18.913 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-14 01:39:18.917 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-14 01:39:18.941 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 90.4625ms
2024-11-14 01:39:18.943 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:39:18.944 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 104.7855ms
2024-11-14 03:20:05.545 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 03:20:05.897 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 03:20:05.898 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 03:20:05.901 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 03:20:05.902 +03:00 [INF] Hosting environment: Development
2024-11-14 03:20:05.903 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 03:20:09.836 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-14 03:20:09.927 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 03:20:09.976 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-14 03:20:11.254 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 03:20:11.695 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 03:20:12.014 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 03:20:12.032 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-14 03:20:12.195 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-14 03:20:12.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-14 03:20:12.306 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2321.9419ms
2024-11-14 03:20:12.310 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 03:20:12.334 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2501.9326ms
2024-11-14 03:20:27.230 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-14 03:20:27.350 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-14 03:20:27.354 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 03:20:27.391 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 03:20:27.592 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."CreatedDate", o."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId")::real AS "TotalPrice", a."UserName" AS "Username"
FROM "Orders" AS o
INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-14 03:20:27.603 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 03:20:27.612 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 257.0375ms
2024-11-14 03:20:27.614 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-14 03:20:27.617 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 386.9320ms
2024-11-14 03:28:03.433 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-14 03:28:03.438 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 03:28:03.443 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-14 03:28:03.464 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 03:28:03.581 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 03:28:03.636 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 03:28:03.658 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 03:28:03.695 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-14 03:28:03.699 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 03:28:03.700 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 254.944ms
2024-11-14 03:28:03.701 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 03:28:03.702 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 269.2782ms
2024-11-14 22:00:44.252 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 22:00:44.596 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 22:00:44.596 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 22:00:44.599 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 22:00:44.600 +03:00 [INF] Hosting environment: Development
2024-11-14 22:00:44.600 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 22:01:09.666 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-14 22:01:09.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 252.1585ms
2024-11-14 22:01:10.076 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/swagger-ui-standalone-preset.js - -
2024-11-14 22:01:10.076 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-14 22:01:10.076 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-14 22:01:10.087 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 11.2490ms
2024-11-14 22:01:10.133 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-11-14 22:01:10.139 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 62.8060ms
2024-11-14 22:01:10.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 105.6412ms
2024-11-14 22:01:10.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-14 22:01:10.445 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Orders" for actions - ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API),ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-14 22:01:10.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 168.6195ms
2024-11-14 22:01:13.288 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-14 22:01:13.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 3.6645ms
2024-11-14 22:01:13.323 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-14 22:01:13.323 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-14 22:01:13.326 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 2.1443ms
2024-11-14 22:01:13.330 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 7.4011ms
2024-11-14 22:01:13.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-14 22:01:13.415 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Orders" for actions - ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API),ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-14 22:01:13.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 6.4762ms
2024-11-14 22:01:47.857 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 22:01:48.126 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 22:01:48.126 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 22:01:48.129 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 22:01:48.129 +03:00 [INF] Hosting environment: Development
2024-11-14 22:01:48.130 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 22:01:52.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-14 22:01:53.019 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 164.2591ms
2024-11-14 22:01:53.154 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-14 22:01:53.154 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-14 22:01:53.161 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 7.1784ms
2024-11-14 22:01:53.220 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.7797ms
2024-11-14 22:01:53.308 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-14 22:01:53.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 109.1243ms
2024-11-14 22:02:00.189 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-14 22:02:00.201 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 11.7992ms
2024-11-14 22:02:00.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-14 22:02:00.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-14 22:02:00.238 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.8979ms
2024-11-14 22:02:00.252 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.9360ms
2024-11-14 22:02:00.325 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-14 22:02:00.333 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.2901ms
2024-11-14 22:02:34.919 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-14 22:02:34.948 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 22:02:34.991 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-14 22:02:36.440 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 22:02:36.929 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 22:02:37.687 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 22:02:37.704 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-14 22:02:37.859 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-14 22:02:37.909 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-14 22:02:37.931 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2934.8118ms
2024-11-14 22:02:37.933 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 22:02:37.949 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 3029.6491ms
2024-11-14 22:02:39.800 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-14 22:02:39.983 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-14 22:02:39.987 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 22:02:40.023 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 22:02:40.197 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."CreatedDate", o."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId")::real AS "TotalPrice", a."UserName" AS "Username"
FROM "Orders" AS o
INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-14 22:02:40.206 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 22:02:40.215 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 226.2252ms
2024-11-14 22:02:40.216 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-14 22:02:40.218 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 417.5972ms
2024-11-14 22:04:54.345 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-14 22:04:54.348 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API)'
2024-11-14 22:04:54.354 +03:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(ETicaretServer.Application.Features.Queries.Order.GetOrderById.GetOrderByIdQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 22:04:58.728 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 22:04:58.816 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2024-11-14 22:04:58.902 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Order.GetOrderById.GetOrderByIdQueryResponse'.
2024-11-14 22:04:58.914 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API) in 4558.3614ms
2024-11-14 22:04:58.916 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API)'
2024-11-14 22:04:58.917 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 200 - application/json;+charset=utf-8 4572.0678ms
2024-11-14 22:05:24.950 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-14 22:05:24.952 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API)'
2024-11-14 22:05:24.954 +03:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(ETicaretServer.Application.Features.Queries.Order.GetOrderById.GetOrderByIdQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 22:05:27.745 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 22:05:27.750 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2024-11-14 22:05:27.755 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Order.GetOrderById.GetOrderByIdQueryResponse'.
2024-11-14 22:05:27.757 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API) in 2801.6958ms
2024-11-14 22:05:27.758 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API)'
2024-11-14 22:05:27.759 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 200 - application/json;+charset=utf-8 2808.9068ms
2024-11-14 22:05:32.714 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders/0affa4a0-8a90-484e-9119-9c3sda - -
2024-11-14 22:05:32.716 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API)'
2024-11-14 22:05:32.717 +03:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(ETicaretServer.Application.Features.Queries.Order.GetOrderById.GetOrderByIdQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 22:05:32.721 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 22:05:32.832 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API) in 113.7068ms
2024-11-14 22:05:32.835 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API)'
2024-11-14 22:05:32.858 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseExactD(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at System.Linq.Expressions.BinaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at System.Linq.Expressions.Expression`1.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at ETicaretServer.Persistence.Services.OrderService.GetOrderById(String id) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 60
   at ETicaretServer.Application.Features.Queries.Order.GetOrderById.GetOrderByIdQueryHandler.Handle(GetOrderByIdQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Order\GetOrderById\GetOrderByIdQueryHandler.cs:line 23
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.GetOrderById(GetOrderByIdQueryRequest getOrderByIdQueryRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 22:05:32.930 +03:00 [ERR] An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
2024-11-14 22:05:32.937 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders/0affa4a0-8a90-484e-9119-9c3sda - - - 500 - application/json 223.5407ms
2024-11-14 22:05:39.585 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-14 22:05:39.586 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API)'
2024-11-14 22:05:39.587 +03:00 [INF] Route matched with {action = "GetOrderById", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderById(ETicaretServer.Application.Features.Queries.Order.GetOrderById.GetOrderByIdQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 22:05:39.589 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 22:05:39.594 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2024-11-14 22:05:39.597 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Order.GetOrderById.GetOrderByIdQueryResponse'.
2024-11-14 22:05:39.598 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API) in 10.0462ms
2024-11-14 22:05:39.600 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetOrderById (ETicaretServer.API)'
2024-11-14 22:05:39.601 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 200 - application/json;+charset=utf-8 16.3403ms
2024-11-14 22:33:22.998 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 22:33:23.233 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 22:33:23.234 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 22:33:23.237 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 22:33:23.237 +03:00 [INF] Hosting environment: Development
2024-11-14 22:33:23.238 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 22:34:00.200 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users - -
2024-11-14 22:34:00.278 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:34:00.308 +03:00 [INF] Route matched with {action = "ExampleMail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMail() on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-14 22:34:00.449 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API) in 134.6592ms
2024-11-14 22:34:00.453 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:34:00.480 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.InvalidOperationException: The SMTP host was not specified.
   at System.Net.Mail.SmtpClient.CheckHostAndPort()
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   --- End of inner exception stack trace ---
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message, CancellationToken cancellationToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message)
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String[] to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 43
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 24
   at ETicaretServer.API.Controllers.UsersController.ExampleMail() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\UsersController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 22:34:00.531 +03:00 [ERR] Failure sending mail.
2024-11-14 22:34:00.562 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users - - - 500 - application/json 363.8464ms
2024-11-14 22:34:14.192 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-14 22:34:14.292 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 99.8966ms
2024-11-14 22:34:14.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-14 22:34:14.350 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-14 22:34:14.356 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.9119ms
2024-11-14 22:34:14.416 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.7714ms
2024-11-14 22:34:14.523 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-14 22:34:14.641 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.3463ms
2024-11-14 22:34:21.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Users - -
2024-11-14 22:34:21.151 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:34:21.156 +03:00 [INF] Route matched with {action = "ExampleMail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMail() on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-14 22:34:21.218 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API) in 60.1266ms
2024-11-14 22:34:21.219 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:34:21.235 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.InvalidOperationException: The SMTP host was not specified.
   at System.Net.Mail.SmtpClient.CheckHostAndPort()
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   --- End of inner exception stack trace ---
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message, CancellationToken cancellationToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message)
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String[] to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 43
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 24
   at ETicaretServer.API.Controllers.UsersController.ExampleMail() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\UsersController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 22:34:21.241 +03:00 [ERR] Failure sending mail.
2024-11-14 22:34:21.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Users - - - 500 - application/json 94.3705ms
2024-11-14 22:34:48.796 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-14 22:34:48.800 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 22:34:48.817 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-14 22:34:50.346 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 22:34:50.848 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 22:34:51.192 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 22:34:51.214 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-14 22:34:51.350 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-14 22:34:51.410 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-14 22:34:51.425 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2606.6334ms
2024-11-14 22:34:51.427 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 22:34:51.441 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2644.4741ms
2024-11-14 22:34:57.518 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-14 22:34:57.625 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 22:34:57.631 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-14 22:34:57.681 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 22:34:57.717 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-14 22:34:57.732 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-14 22:34:57.734 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-14 22:34:57.751 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-14 22:34:57.760 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-14 22:34:57.774 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 140.9816ms
2024-11-14 22:34:57.775 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 22:34:57.776 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 258.5515ms
2024-11-14 22:35:06.648 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users - -
2024-11-14 22:35:06.649 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:35:06.650 +03:00 [INF] Route matched with {action = "ExampleMail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMail() on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-14 22:36:30.783 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API) in 84131.8488ms
2024-11-14 22:36:30.790 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:36:30.850 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.InvalidOperationException: The SMTP host was not specified.
   at System.Net.Mail.SmtpClient.CheckHostAndPort()
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   --- End of inner exception stack trace ---
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message, CancellationToken cancellationToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message)
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String[] to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 43
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 24
   at ETicaretServer.API.Controllers.UsersController.ExampleMail() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\UsersController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 22:39:07.678 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 22:39:08.073 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 22:39:08.074 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 22:39:08.077 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 22:39:08.078 +03:00 [INF] Hosting environment: Development
2024-11-14 22:39:08.079 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 22:39:14.468 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users - -
2024-11-14 22:39:14.550 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:39:14.575 +03:00 [INF] Route matched with {action = "ExampleMail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMail() on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-14 22:39:16.770 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API) in 2187.9973ms
2024-11-14 22:39:16.774 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:39:16.797 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.InvalidOperationException: The SMTP host was not specified.
   at System.Net.Mail.SmtpClient.CheckHostAndPort()
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   --- End of inner exception stack trace ---
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message, CancellationToken cancellationToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message)
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String[] to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 43
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 24
   at ETicaretServer.API.Controllers.UsersController.ExampleMail() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\UsersController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 22:39:16.831 +03:00 [ERR] Failure sending mail.
2024-11-14 22:39:16.860 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users - - - 500 - application/json 2394.7816ms
2024-11-14 22:39:47.818 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-14 22:39:48.092 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-14 22:39:48.108 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 22:39:49.534 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 22:39:50.125 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."CreatedDate", o."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId")::real AS "TotalPrice", a."UserName" AS "Username"
FROM "Orders" AS o
INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-14 22:39:50.183 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 22:39:50.204 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 2094.4213ms
2024-11-14 22:39:50.206 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-14 22:39:50.221 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 2403.2996ms
2024-11-14 22:39:52.788 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users - -
2024-11-14 22:39:52.791 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:39:52.792 +03:00 [INF] Route matched with {action = "ExampleMail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMail() on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-14 22:40:02.788 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API) in 9994.5424ms
2024-11-14 22:40:02.793 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:40:02.853 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.InvalidOperationException: The SMTP host was not specified.
   at System.Net.Mail.SmtpClient.CheckHostAndPort()
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   --- End of inner exception stack trace ---
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message, CancellationToken cancellationToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message)
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String[] to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 43
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 24
   at ETicaretServer.API.Controllers.UsersController.ExampleMail() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\UsersController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 22:42:18.179 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 22:42:18.454 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 22:42:18.455 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 22:42:18.458 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 22:42:18.459 +03:00 [INF] Hosting environment: Development
2024-11-14 22:42:18.459 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 22:42:25.901 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users - -
2024-11-14 22:42:25.978 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:42:26.005 +03:00 [INF] Route matched with {action = "ExampleMail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMail() on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-14 22:43:09.254 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API) in 43242.9632ms
2024-11-14 22:43:09.263 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:43:09.323 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.InvalidOperationException: The SMTP host was not specified.
   at System.Net.Mail.SmtpClient.CheckHostAndPort()
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   --- End of inner exception stack trace ---
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message, CancellationToken cancellationToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message)
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String[] to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 43
   at ETicaretServer.Infrastructure.Services.Mail.MailService.SendMessageAsync(String to, String subject, String body, Boolean isBodyHtml) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Infrastructure\Services\Mail\MailService.cs:line 24
   at ETicaretServer.API.Controllers.UsersController.ExampleMail() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\UsersController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 22:44:46.443 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 22:44:46.762 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 22:44:46.763 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 22:44:46.765 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 22:44:46.766 +03:00 [INF] Hosting environment: Development
2024-11-14 22:44:46.767 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 22:44:50.866 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users - -
2024-11-14 22:44:50.946 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:44:50.972 +03:00 [INF] Route matched with {action = "ExampleMail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMail() on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-14 22:44:52.460 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-11-14 22:44:52.467 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API) in 1489.7716ms
2024-11-14 22:44:52.470 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:44:52.488 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users - - - 200 0 - 1623.7394ms
2024-11-14 22:46:06.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-14 22:46:06.929 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 103.7843ms
2024-11-14 22:46:06.956 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-14 22:46:06.956 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-14 22:46:06.961 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.4526ms
2024-11-14 22:46:07.017 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.3959ms
2024-11-14 22:46:07.178 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-14 22:46:07.311 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.5571ms
2024-11-14 22:46:08.467 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users - -
2024-11-14 22:46:08.468 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:46:08.472 +03:00 [INF] Route matched with {action = "ExampleMail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExampleMail() on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-14 22:46:09.914 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-11-14 22:46:09.915 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API) in 1441.549ms
2024-11-14 22:46:09.916 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.ExampleMail (ETicaretServer.API)'
2024-11-14 22:46:09.918 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users - - - 200 0 - 1450.9414ms
2024-11-15 13:35:53.071 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-15 13:35:53.440 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-15 13:35:53.441 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-15 13:35:53.443 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-15 13:35:53.444 +03:00 [INF] Hosting environment: Development
2024-11-15 13:35:53.444 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-15 13:36:48.725 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-15 13:36:48.992 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-15 13:36:48.993 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-15 13:36:48.996 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-15 13:36:48.996 +03:00 [INF] Hosting environment: Development
2024-11-15 13:36:48.997 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-15 13:36:55.653 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-15 13:36:55.675 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 28.0115ms
2024-11-15 13:36:55.763 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-15 13:36:55.908 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 145.0288ms
2024-11-15 13:36:56.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-15 13:36:56.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 196.3657ms
2024-11-15 13:38:09.981 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/password-reset application/json 42
2024-11-15 13:38:10.022 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/password-reset application/json 42 - 404 0 - 40.7551ms
2024-11-15 13:38:25.156 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-15 13:38:25.165 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-15 13:38:25.222 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-15 13:38:26.964 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-15 13:38:27.411 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-15 13:38:28.172 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-15 13:38:28.192 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-15 13:38:28.333 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-15 13:38:28.387 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-15 13:38:28.417 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 3189.3625ms
2024-11-15 13:38:28.419 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-15 13:38:28.433 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 3277.0705ms
2024-11-15 13:38:37.650 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/password-reset application/json 42
2024-11-15 13:38:37.653 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/password-reset application/json 42 - 404 0 - 3.1482ms
2024-11-15 13:39:23.570 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-15 13:39:23.670 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 99.6487ms
2024-11-15 13:39:23.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-15 13:39:23.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.3618ms
2024-11-15 13:39:23.714 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-15 13:39:23.723 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.3551ms
2024-11-15 13:39:23.879 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-15 13:39:23.888 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.7562ms
2024-11-15 13:39:34.618 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Auth/password-reset application/json 40
2024-11-15 13:39:34.623 +03:00 [INF] CORS policy execution failed.
2024-11-15 13:39:34.624 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-15 13:39:34.626 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.PasswordReset (ETicaretServer.API)'
2024-11-15 13:39:34.629 +03:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(ETicaretServer.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-15 13:39:34.675 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-15 13:39:34.678 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-15 13:39:37.357 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandResponse'.
2024-11-15 13:39:37.359 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.PasswordReset (ETicaretServer.API) in 2728.1845ms
2024-11-15 13:39:37.360 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.PasswordReset (ETicaretServer.API)'
2024-11-15 13:39:37.361 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Auth/password-reset application/json 40 - 200 - application/json;+charset=utf-8 2743.2426ms
2024-11-15 13:40:00.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/update-password/a83956bf-4a68-46da-a44b-92930ca84ec9/Q2ZESjhQNytUZUV0VWdKTmtNLy9HbjVRbERDYjczME5IdE5yRjd5bWJBWithSENWTE00dVU4VnNidXQ2VHNhbGVoSkpUY2hWYWxmeWh6SUtvNWpSbmpiNVFWOXlmUnE2MVdUSnhXTTlnRnRtM016dFd6RTJlL2xnL09VdjBOR212QUd0WHpGcjJGb3FnazRaNE8zUURLMDdWbkZqOXhUeERKNngrTVNyT2o2dCtVSENXTnZvM2U5Z0hXdE9ZdWNRcHR4cTc2ZFhsa3RqZURpeDhtZXNDaExhakFGTWhyYkwxZTk0cjlhRlM4aUp4MlNY - -
2024-11-15 13:40:00.136 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/update-password/a83956bf-4a68-46da-a44b-92930ca84ec9/Q2ZESjhQNytUZUV0VWdKTmtNLy9HbjVRbERDYjczME5IdE5yRjd5bWJBWithSENWTE00dVU4VnNidXQ2VHNhbGVoSkpUY2hWYWxmeWh6SUtvNWpSbmpiNVFWOXlmUnE2MVdUSnhXTTlnRnRtM016dFd6RTJlL2xnL09VdjBOR212QUd0WHpGcjJGb3FnazRaNE8zUURLMDdWbkZqOXhUeERKNngrTVNyT2o2dCtVSENXTnZvM2U5Z0hXdE9ZdWNRcHR4cTc2ZFhsa3RqZURpeDhtZXNDaExhakFGTWhyYkwxZTk0cjlhRlM4aUp4MlNY - - - 404 0 - 5.5663ms
2024-11-15 13:41:27.529 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/password-reset application/json 42
2024-11-15 13:41:27.531 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.PasswordReset (ETicaretServer.API)'
2024-11-15 13:41:27.533 +03:00 [INF] Route matched with {action = "PasswordReset", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PasswordReset(ETicaretServer.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-15 13:41:27.545 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-15 13:41:27.550 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-15 13:41:29.085 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.PasswordReset.PasswordResetCommandResponse'.
2024-11-15 13:41:29.086 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.PasswordReset (ETicaretServer.API) in 1551.6907ms
2024-11-15 13:41:29.087 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.PasswordReset (ETicaretServer.API)'
2024-11-15 13:41:29.088 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/password-reset application/json 42 - 200 - application/json;+charset=utf-8 1559.5551ms
2024-11-15 14:14:40.006 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-15 14:14:40.270 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-15 14:14:40.271 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-15 14:14:40.274 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-15 14:14:40.275 +03:00 [INF] Hosting environment: Development
2024-11-15 14:14:40.275 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-15 14:14:40.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-15 14:14:40.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 204.1653ms
2024-11-15 14:14:40.672 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-15 14:14:40.672 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-15 14:14:40.677 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 4.2631ms
2024-11-15 14:14:40.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.9161ms
2024-11-15 14:14:40.764 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-15 14:14:40.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.5402ms
2024-11-16 00:49:44.824 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 00:50:22.841 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 00:50:23.024 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-16 00:50:23.037 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-16 00:50:23.048 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-16 00:50:23.065 +03:00 [INF] Applying migration '20241115214945_add_mig21'.
2024-11-16 00:50:23.127 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ComplatedOrders" (
    "Id" uuid NOT NULL,
    "OrderId" uuid NOT NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_ComplatedOrders" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ComplatedOrders_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);
2024-11-16 00:50:23.129 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_ComplatedOrders_OrderId" ON "ComplatedOrders" ("OrderId");
2024-11-16 00:50:23.130 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241115214945_add_mig21', '6.0.35');
2024-11-16 14:15:24.553 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 14:15:24.916 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 14:15:24.917 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 14:15:24.920 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 14:15:24.920 +03:00 [INF] Hosting environment: Development
2024-11-16 14:15:24.921 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 14:17:15.824 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-16 14:17:15.919 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 14:17:15.957 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-16 14:17:17.556 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 14:17:17.996 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 14:17:18.746 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 14:17:18.763 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-16 14:17:18.894 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-16 14:17:18.945 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-16 14:17:18.977 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 3014.2596ms
2024-11-16 14:17:18.980 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 14:17:18.999 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 3178.2430ms
2024-11-16 14:17:30.066 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-16 14:17:30.066 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-16 14:17:30.078 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 11.9770ms
2024-11-16 14:17:30.167 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 100.9379ms
2024-11-16 14:17:30.249 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 14:17:30.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.8000ms
2024-11-16 14:18:42.962 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders/complete-orderr/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-16 14:18:42.966 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders/complete-orderr/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 404 0 - 4.0516ms
2024-11-16 14:18:53.615 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders/complete-orderr/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-16 14:18:53.625 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders/complete-orderr/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 404 0 - 10.5783ms
2024-11-16 14:19:07.937 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders/complete-orderr/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-16 14:19:07.939 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders/complete-orderr/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 404 0 - 1.3184ms
2024-11-16 14:19:25.027 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-16 14:19:25.200 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 14:19:25.209 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 14:19:25.211 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 401 0 - 183.3765ms
2024-11-16 14:20:04.142 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-16 14:20:04.232 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 14:20:04.237 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-16 14:20:04.291 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 14:20:04.351 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2024-11-16 14:20:04.409 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 14:20:04.411 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 14:20:04.540 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName", CASE
    WHEN (c."Id" IS NOT NULL) THEN TRUE
    ELSE FALSE
END AS "Completed"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "ComplatedOrders" AS c ON t."Id" = c."OrderId"
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-16 14:20:04.550 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse'.
2024-11-16 14:20:04.571 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 331.8267ms
2024-11-16 14:20:04.573 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 14:20:04.575 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 432.3555ms
2024-11-16 14:20:34.324 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-16 14:20:34.327 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 14:20:34.328 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 14:20:34.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 401 0 - 4.7640ms
2024-11-16 14:21:02.437 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-16 14:21:02.438 +03:00 [INF] Admin was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-11-16 14:21:02.439 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 14:21:02.443 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 14:21:02.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 401 0 - 6.8894ms
2024-11-16 14:21:18.308 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-16 14:21:18.310 +03:00 [INF] Admin was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-11-16 14:21:18.311 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 14:21:18.312 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 14:21:18.313 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 401 0 - 4.2600ms
2024-11-16 14:21:27.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-16 14:21:27.059 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CompleteOrder (ETicaretServer.API)'
2024-11-16 14:21:27.065 +03:00 [INF] Route matched with {action = "CompleteOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CompleteOrder(ETicaretServer.Application.Features.Commands.Order.CompleteOrder.CompleteOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-16 14:21:38.461 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 14:21:38.834 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 14:21:38.835 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 14:21:38.839 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 14:21:38.839 +03:00 [INF] Hosting environment: Development
2024-11-16 14:21:38.840 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 14:21:40.737 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-16 14:21:40.808 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 14:21:40.844 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-16 14:21:42.105 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 14:21:42.536 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 14:21:42.806 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 14:21:42.822 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-16 14:21:42.960 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-16 14:21:43.009 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-16 14:21:43.040 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2190.028ms
2024-11-16 14:21:43.042 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 14:21:43.062 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2328.0020ms
2024-11-16 14:21:48.814 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders/complete-orderr/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-16 14:21:48.827 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders/complete-orderr/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 404 0 - 12.7404ms
2024-11-16 14:22:06.209 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-16 14:22:06.305 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 14:22:06.309 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-16 14:22:06.348 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 14:22:06.388 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2024-11-16 14:22:06.438 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 14:22:06.440 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 14:22:06.571 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName", CASE
    WHEN (c."Id" IS NOT NULL) THEN TRUE
    ELSE FALSE
END AS "Completed"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "ComplatedOrders" AS c ON t."Id" = c."OrderId"
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-16 14:22:06.580 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse'.
2024-11-16 14:22:06.600 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 289.3628ms
2024-11-16 14:22:06.601 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 14:22:06.603 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 393.8740ms
2024-11-16 14:22:22.386 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - -
2024-11-16 14:22:22.389 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CompleteOrder (ETicaretServer.API)'
2024-11-16 14:22:22.394 +03:00 [INF] Route matched with {action = "CompleteOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CompleteOrder(ETicaretServer.Application.Features.Commands.Order.CompleteOrder.CompleteOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-16 14:22:27.423 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 14:22:27.443 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
WHERE o."Id" = @__Parse_0
LIMIT 1
2024-11-16 14:22:27.552 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ComplatedOrders" ("Id", "CreatedDate", "OrderId", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3);
2024-11-16 14:22:27.557 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Order.CompleteOrder.CompleteOrderCommandResponse'.
2024-11-16 14:22:27.559 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CompleteOrder (ETicaretServer.API) in 5163.1644ms
2024-11-16 14:22:27.560 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CompleteOrder (ETicaretServer.API)'
2024-11-16 14:22:27.561 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders/complete-order/0affa4a0-8a90-484e-9119-9c35e8552932 - - - 200 - application/json;+charset=utf-8 5174.4694ms
2024-11-16 14:22:31.546 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-16 14:22:31.548 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 14:22:31.549 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-16 14:22:31.552 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 14:22:31.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2024-11-16 14:22:31.563 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName", CASE
    WHEN (c."Id" IS NOT NULL) THEN TRUE
    ELSE FALSE
END AS "Completed"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "ComplatedOrders" AS c ON t."Id" = c."OrderId"
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-16 14:22:31.565 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse'.
2024-11-16 14:22:31.566 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 15.3511ms
2024-11-16 14:22:31.567 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 14:22:31.568 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 22.9086ms
2024-11-16 14:23:10.904 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-16 14:23:10.906 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 14:23:10.911 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-16 14:23:10.922 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 14:23:10.938 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-16 14:23:10.952 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 14:23:10.953 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 14:23:11.001 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-16 14:23:11.008 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-16 14:23:11.019 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 106.1916ms
2024-11-16 14:23:11.020 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 14:23:11.021 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 116.7841ms
2024-11-16 14:23:48.132 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/ - -
2024-11-16 14:23:48.136 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 14:23:48.137 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-16 14:23:48.139 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 14:23:48.142 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-16 14:23:48.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-16 14:23:48.147 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-16 14:23:48.149 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 10.5817ms
2024-11-16 14:23:48.149 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 14:23:48.150 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/ - - - 200 - application/json;+charset=utf-8 19.3318ms
2024-11-16 14:24:09.633 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-16 14:24:09.637 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 14:24:09.638 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-16 14:24:09.644 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 14:24:09.648 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2024-11-16 14:24:09.653 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName", CASE
    WHEN (c."Id" IS NOT NULL) THEN TRUE
    ELSE FALSE
END AS "Completed"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "ComplatedOrders" AS c ON t."Id" = c."OrderId"
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-16 14:24:09.656 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse'.
2024-11-16 14:24:09.657 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 17.4449ms
2024-11-16 14:24:09.658 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 14:24:09.659 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 26.5476ms
2024-11-16 14:24:25.376 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-16 14:24:25.377 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 14:24:25.378 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-16 14:24:25.381 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 14:24:25.384 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-16 14:24:25.388 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-16 14:24:25.390 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-16 14:24:25.391 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 12.1455ms
2024-11-16 14:24:25.392 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 14:24:25.393 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 17.6681ms
2024-11-16 14:24:46.005 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/product-images//horse-11.jpg - -
2024-11-16 14:24:46.013 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/product-images//horse-11.jpg - - - 404 0 - 8.2276ms
2024-11-16 15:13:43.404 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 15:13:43.713 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 15:13:43.714 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 15:13:43.716 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 15:13:43.717 +03:00 [INF] Hosting environment: Development
2024-11-16 15:13:43.717 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 15:13:48.011 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-16 15:13:48.088 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 15:13:48.124 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-16 15:13:49.762 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 15:13:50.207 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 15:13:50.976 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 15:13:50.992 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-16 15:13:51.126 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-16 15:13:51.178 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-16 15:13:51.211 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 3080.5949ms
2024-11-16 15:13:51.213 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 15:13:51.236 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 3227.8331ms
2024-11-16 15:13:57.261 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-16 15:13:57.500 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 15:13:57.505 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-16 15:13:57.544 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 15:13:57.584 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2024-11-16 15:13:57.637 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 15:13:57.638 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 15:13:57.759 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName", CASE
    WHEN (c."Id" IS NOT NULL) THEN TRUE
    ELSE FALSE
END AS "Completed"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "ComplatedOrders" AS c ON t."Id" = c."OrderId"
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-16 15:13:57.768 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse'.
2024-11-16 15:13:57.787 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 280.8444ms
2024-11-16 15:13:57.788 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 15:13:57.790 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 528.9546ms
2024-11-16 15:14:11.694 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-16 15:14:11.698 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-16 15:14:11.701 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-16 15:14:11.738 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 15:14:11.780 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-16 15:14:11.830 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-16 15:14:11.913 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2024-11-16 15:14:11.931 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-16 15:14:11.973 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-16 15:14:11.978 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-16 15:14:11.979 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 276.3966ms
2024-11-16 15:14:11.980 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-16 15:14:11.981 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 287.3415ms
2024-11-16 15:14:15.147 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-16 15:14:15.150 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-16 15:14:15.155 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-16 15:14:15.162 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 15:14:15.166 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-16 15:14:15.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-16 15:14:15.175 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-16 15:14:15.191 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-16 15:14:15.205 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 15:14:15.211 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 54.7975ms
2024-11-16 15:14:15.212 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-16 15:14:15.213 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 65.8560ms
2024-11-16 15:14:21.399 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-16 15:14:21.401 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-16 15:14:21.405 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-16 15:14:27.614 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 15:14:27.669 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-16 15:14:27.672 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-16 15:14:27.674 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-16 15:14:27.689 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-16 15:14:27.697 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2024-11-16 15:14:27.698 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 6291.6586ms
2024-11-16 15:14:27.700 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-16 15:14:27.701 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 6301.6691ms
2024-11-16 15:14:32.026 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-16 15:14:32.027 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 15:14:32.028 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-16 15:14:32.031 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 15:14:32.035 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2024-11-16 15:14:32.042 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName", CASE
    WHEN (c."Id" IS NOT NULL) THEN TRUE
    ELSE FALSE
END AS "Completed"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "ComplatedOrders" AS c ON t."Id" = c."OrderId"
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-16 15:14:32.044 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse'.
2024-11-16 15:14:32.045 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 15.4587ms
2024-11-16 15:14:32.046 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-16 15:14:32.047 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 21.7967ms
2024-11-16 15:14:48.290 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders/complete-order/462e23f4-a634-4805-8300-615fdf2bd700 - -
2024-11-16 15:14:48.293 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CompleteOrder (ETicaretServer.API)'
2024-11-16 15:14:48.297 +03:00 [INF] Route matched with {action = "CompleteOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CompleteOrder(ETicaretServer.Application.Features.Commands.Order.CompleteOrder.CompleteOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-16 15:14:52.262 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 15:14:52.277 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "Orders" AS o
INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
WHERE o."Id" = @__Parse_0
LIMIT 1
2024-11-16 15:14:52.298 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ComplatedOrders" ("Id", "CreatedDate", "OrderId", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3);
2024-11-16 15:14:52.345 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Order.CompleteOrder.CompleteOrderCommandResponse'.
2024-11-16 15:14:52.347 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CompleteOrder (ETicaretServer.API) in 4048.687ms
2024-11-16 15:14:52.348 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CompleteOrder (ETicaretServer.API)'
2024-11-16 15:14:52.349 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders/complete-order/462e23f4-a634-4805-8300-615fdf2bd700 - - - 200 - application/json;+charset=utf-8 4058.7857ms
2024-11-16 16:08:48.397 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 16:08:48.672 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 16:08:48.673 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 16:08:48.676 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 16:08:48.677 +03:00 [INF] Hosting environment: Development
2024-11-16 16:08:48.678 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 16:08:57.056 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-16 16:08:57.139 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:08:57.177 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-16 16:08:58.911 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 16:08:59.258 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-16 16:08:59.340 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 16:08:59.341 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 16:08:59.534 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-16 16:08:59.555 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-16 16:08:59.614 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 2430.3432ms
2024-11-16 16:08:59.615 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:08:59.627 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 2573.6600ms
2024-11-16 16:09:17.052 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=11 - -
2024-11-16 16:09:17.055 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:09:17.056 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-16 16:09:17.090 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 16:09:17.094 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-16 16:09:17.100 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-16 16:09:17.102 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-16 16:09:17.104 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 45.6574ms
2024-11-16 16:09:17.105 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:09:17.106 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=11 - - - 200 - application/json;+charset=utf-8 53.7170ms
2024-11-16 16:09:51.958 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=11 - -
2024-11-16 16:09:51.961 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:09:51.962 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-16 16:10:13.597 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 16:10:13.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-16 16:10:13.604 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-16 16:10:34.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-16 16:10:34.512 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 42548.0354ms
2024-11-16 16:10:34.523 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:10:34.531 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=11 - - - 200 - application/json;+charset=utf-8 42573.2269ms
2024-11-16 16:11:00.473 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=11 - -
2024-11-16 16:11:00.475 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:11:00.475 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-16 16:11:05.783 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 16:11:05.810 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-16 16:11:05.814 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-16 16:11:05.816 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-16 16:11:05.818 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 5340.9662ms
2024-11-16 16:11:05.819 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:11:05.820 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=11 - - - 200 - application/json;+charset=utf-8 5346.4087ms
2024-11-16 16:11:16.426 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - -
2024-11-16 16:11:16.427 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:11:16.428 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-16 16:11:18.250 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 16:11:18.253 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-16 16:11:18.256 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-16 16:11:18.259 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-16 16:11:18.260 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 1830.5648ms
2024-11-16 16:11:18.261 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:11:18.262 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - - - 200 - application/json;+charset=utf-8 1835.4038ms
2024-11-16 16:12:14.402 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=1&size=10 - -
2024-11-16 16:12:14.404 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:12:14.405 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-16 16:12:17.266 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 16:12:17.276 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-16 16:12:17.278 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 16:12:17.279 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 16:12:17.287 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_0 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-16 16:12:17.289 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-16 16:12:17.290 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 2883.6919ms
2024-11-16 16:12:17.291 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:12:17.292 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=1&size=10 - - - 200 - application/json;+charset=utf-8 2890.4444ms
2024-11-16 16:12:51.805 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - -
2024-11-16 16:12:51.806 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:12:51.807 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-16 16:12:51.809 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 16:12:51.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-16 16:12:51.817 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-16 16:12:51.819 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-16 16:12:51.820 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 11.9145ms
2024-11-16 16:12:51.821 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-16 16:12:51.822 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - - - 200 - application/json;+charset=utf-8 17.4544ms
2024-11-16 16:41:29.635 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 16:41:29.998 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 16:41:29.999 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 16:41:30.002 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 16:41:30.003 +03:00 [INF] Hosting environment: Development
2024-11-16 16:41:30.004 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 16:41:55.485 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/applicationservice - -
2024-11-16 16:41:55.569 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/applicationservice - - - 404 0 - 86.5759ms
2024-11-16 16:42:14.487 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/applicationservices - -
2024-11-16 16:42:14.500 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-16 16:42:14.526 +03:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndPoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndPoints() on controller ETicaretServer.API.Controllers.ApplicationServicesController (ETicaretServer.API).
2024-11-16 16:42:14.538 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.DTOs.Configurations.Menu, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:42:14.574 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API) in 42.4879ms
2024-11-16 16:42:14.578 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-16 16:42:14.579 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/applicationservices - - - 200 - application/json;+charset=utf-8 91.2347ms
2024-11-16 16:44:39.031 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 16:44:39.287 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 16:44:39.288 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 16:44:39.290 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 16:44:39.291 +03:00 [INF] Hosting environment: Development
2024-11-16 16:44:39.291 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 16:44:39.717 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/applicationservices - -
2024-11-16 16:44:39.800 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-16 16:44:39.823 +03:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndPoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndPoints() on controller ETicaretServer.API.Controllers.ApplicationServicesController (ETicaretServer.API).
2024-11-16 16:44:39.834 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.DTOs.Configurations.Menu, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:44:39.867 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API) in 38.9342ms
2024-11-16 16:44:39.871 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-16 16:44:39.875 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/applicationservices - - - 200 - application/json;+charset=utf-8 160.3982ms
2024-11-16 16:47:45.887 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 16:47:46.120 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 16:47:46.121 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 16:47:46.124 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 16:47:46.125 +03:00 [INF] Hosting environment: Development
2024-11-16 16:47:46.125 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 16:47:49.888 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/applicationservices - -
2024-11-16 16:47:49.967 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-16 16:47:49.989 +03:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndPoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndPoints() on controller ETicaretServer.API.Controllers.ApplicationServicesController (ETicaretServer.API).
2024-11-16 16:47:50.000 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.DTOs.Configurations.Menu, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 16:47:50.036 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API) in 41.4385ms
2024-11-16 16:47:50.040 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-16 16:47:50.044 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/applicationservices - - - 200 - application/json;+charset=utf-8 157.7992ms
2024-11-16 17:45:29.846 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 17:45:30.082 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 17:45:30.083 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 17:45:30.086 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 17:45:30.086 +03:00 [INF] Hosting environment: Development
2024-11-16 17:45:30.087 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 17:53:15.117 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 17:53:15.341 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 17:53:15.342 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 17:53:15.344 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 17:53:15.345 +03:00 [INF] Hosting environment: Development
2024-11-16 17:53:15.345 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 17:53:41.961 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-16 17:53:42.036 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 17:53:42.070 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-16 17:53:43.273 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 17:53:43.758 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 17:53:44.529 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 17:53:44.545 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-16 17:53:44.673 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-16 17:53:44.723 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-16 17:53:44.753 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2676.9289ms
2024-11-16 17:53:44.756 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 17:53:44.775 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2817.8885ms
2024-11-16 17:53:47.895 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/applicationservices - -
2024-11-16 17:53:47.904 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-16 17:53:47.906 +03:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndPoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndPoints() on controller ETicaretServer.API.Controllers.ApplicationServicesController (ETicaretServer.API).
2024-11-16 17:53:47.911 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.DTOs.Configurations.Menu, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-16 17:53:47.915 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API) in 8.2516ms
2024-11-16 17:53:47.917 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-16 17:53:47.918 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/applicationservices - - - 200 - application/json;+charset=utf-8 22.9116ms
2024-11-16 18:12:01.469 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:12:01.738 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 18:12:01.739 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 18:12:01.742 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:12:01.742 +03:00 [INF] Hosting environment: Development
2024-11-16 18:12:01.743 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 18:12:21.396 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/roles application/json 77
2024-11-16 18:12:21.793 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-11-16 18:12:21.838 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2024-11-16 18:12:21.842 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 18:12:21.855 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 18:12:21.873 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/roles application/json 77 - 401 0 - 479.6203ms
2024-11-16 18:17:53.041 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-16 18:17:53.049 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 18:17:53.083 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-16 18:17:54.233 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:17:54.693 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 18:17:54.883 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 18:17:54.902 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-16 18:17:55.039 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-16 18:17:55.091 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-16 18:17:55.119 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2030.3608ms
2024-11-16 18:17:55.121 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 18:17:55.136 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2094.6128ms
2024-11-16 18:17:57.127 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles - -
2024-11-16 18:17:57.149 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:17:57.154 +03:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles(ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:17:57.203 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:17:57.206 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryResponse'.
2024-11-16 18:17:57.223 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 18:17:57.224 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 18:17:57.237 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Name"
FROM "AspNetRoles" AS a
LIMIT @__p_0 OFFSET @__p_0
2024-11-16 18:17:57.248 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API) in 92.293ms
2024-11-16 18:17:57.249 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:17:57.251 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles - - - 200 - application/json;+charset=utf-8 123.4162ms
2024-11-16 18:18:02.976 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/roles application/json 24
2024-11-16 18:18:02.979 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API)'
2024-11-16 18:18:02.982 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRole(ETicaretServer.Application.Features.Commands.Role.CreateRole.CreateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:18:03.008 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:18:03.015 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2024-11-16 18:18:03.067 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2024-11-16 18:18:03.073 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Role.CreateRole.CreateRoleCommandResponse'.
2024-11-16 18:18:03.078 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API) in 94.3477ms
2024-11-16 18:18:03.079 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API)'
2024-11-16 18:18:03.080 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/roles application/json 24 - 200 - application/json;+charset=utf-8 103.4063ms
2024-11-16 18:18:06.190 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles - -
2024-11-16 18:18:06.191 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:18:06.192 +03:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles(ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:18:06.195 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:18:06.196 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryResponse'.
2024-11-16 18:18:06.200 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Name"
FROM "AspNetRoles" AS a
LIMIT @__p_0 OFFSET @__p_0
2024-11-16 18:18:06.203 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API) in 9.3627ms
2024-11-16 18:18:06.204 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:18:06.205 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles - - - 200 - application/json;+charset=utf-8 15.1461ms
2024-11-16 18:18:52.336 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 - -
2024-11-16 18:18:52.338 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API)'
2024-11-16 18:18:52.344 +03:00 [INF] Route matched with {action = "GetRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRole(ETicaretServer.Application.Features.Queries.Role.GetRoleById.GetRoleByIdQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:18:52.352 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetRoleById.GetRoleByIdQueryResponse'.
2024-11-16 18:18:52.354 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API) in 8.382ms
2024-11-16 18:18:52.355 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API)'
2024-11-16 18:18:52.357 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 - - - 200 - application/json;+charset=utf-8 21.1191ms
2024-11-16 18:20:03.381 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 - -
2024-11-16 18:20:03.385 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API)'
2024-11-16 18:20:03.388 +03:00 [INF] Route matched with {action = "GetRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRole(ETicaretServer.Application.Features.Queries.Role.GetRoleById.GetRoleByIdQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:20:03.394 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:20:03.465 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__roleId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."Id" = @__roleId_0
LIMIT 1
2024-11-16 18:20:03.470 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetRoleById.GetRoleByIdQueryResponse'.
2024-11-16 18:20:03.472 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API) in 81.8459ms
2024-11-16 18:20:03.473 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API)'
2024-11-16 18:20:03.474 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 - - - 200 - application/json;+charset=utf-8 94.1998ms
2024-11-16 18:20:23.475 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles - -
2024-11-16 18:20:23.477 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:20:23.481 +03:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles(ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:20:23.488 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:20:23.490 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryResponse'.
2024-11-16 18:20:23.492 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 18:20:23.493 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 18:20:23.497 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Name"
FROM "AspNetRoles" AS a
LIMIT @__p_1 OFFSET @__p_0
2024-11-16 18:20:23.500 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API) in 17.6648ms
2024-11-16 18:20:23.501 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:20:23.502 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles - - - 200 - application/json;+charset=utf-8 27.0339ms
2024-11-16 18:20:36.245 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles?page=0&size=10 - -
2024-11-16 18:20:36.248 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:20:36.249 +03:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles(ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:20:36.256 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:20:36.258 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryResponse'.
2024-11-16 18:20:36.262 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Name"
FROM "AspNetRoles" AS a
LIMIT @__p_1 OFFSET @__p_0
2024-11-16 18:20:36.264 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API) in 13.7556ms
2024-11-16 18:20:36.265 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:20:36.266 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles?page=0&size=10 - - - 200 - application/json;+charset=utf-8 21.3391ms
2024-11-16 18:21:00.451 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 22
2024-11-16 18:21:00.453 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:21:00.456 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:21:00.470 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:21:00.480 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 23.0296ms
2024-11-16 18:21:00.481 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:21:00.482 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 22 - 400 - application/json;+charset=utf-8 31.4250ms
2024-11-16 18:22:02.719 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 72
2024-11-16 18:22:02.721 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:22:02.722 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:22:02.727 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:22:02.730 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__roleId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."Id" = @__roleId_0
LIMIT 1
2024-11-16 18:22:02.737 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2024-11-16 18:22:02.745 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?', @p0='?', @p4='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetRoles" SET "ConcurrencyStamp" = @p0, "Name" = @p1, "NormalizedName" = @p2
WHERE "Id" = @p3 AND "ConcurrencyStamp" = @p4;
2024-11-16 18:22:02.752 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandResponse'.
2024-11-16 18:22:02.754 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 30.4448ms
2024-11-16 18:22:02.755 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:22:02.755 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 72 - 200 - application/json;+charset=utf-8 36.5522ms
2024-11-16 18:22:08.137 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 - -
2024-11-16 18:22:08.139 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API)'
2024-11-16 18:22:08.142 +03:00 [INF] Route matched with {action = "GetRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRole(ETicaretServer.Application.Features.Queries.Role.GetRoleById.GetRoleByIdQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:22:08.145 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:22:08.149 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__roleId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."Id" = @__roleId_0
LIMIT 1
2024-11-16 18:22:08.153 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetRoleById.GetRoleByIdQueryResponse'.
2024-11-16 18:22:08.155 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API) in 11.5655ms
2024-11-16 18:22:08.157 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API)'
2024-11-16 18:22:08.158 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 - - - 200 - application/json;+charset=utf-8 20.4130ms
2024-11-16 18:23:38.931 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24
2024-11-16 18:23:38.933 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:23:38.936 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:23:38.939 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:23:38.940 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 3.0432ms
2024-11-16 18:23:38.941 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:23:38.942 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24 - 400 - application/json;+charset=utf-8 11.2245ms
2024-11-16 18:23:56.903 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:23:57.143 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 18:23:57.144 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 18:23:57.147 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:23:57.147 +03:00 [INF] Hosting environment: Development
2024-11-16 18:23:57.148 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 18:23:59.713 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24
2024-11-16 18:24:00.049 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:24:00.088 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:24:00.141 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:24:00.183 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 88.3655ms
2024-11-16 18:24:00.186 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:24:00.190 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24 - 400 - application/json;+charset=utf-8 479.7718ms
2024-11-16 18:24:17.505 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:24:17.748 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 18:24:17.749 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 18:24:17.752 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:24:17.752 +03:00 [INF] Hosting environment: Development
2024-11-16 18:24:17.753 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 18:24:20.556 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24
2024-11-16 18:24:20.838 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:24:20.872 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:24:20.927 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:24:20.963 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 85.1807ms
2024-11-16 18:24:20.967 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:24:20.971 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24 - 400 - application/json;+charset=utf-8 418.2603ms
2024-11-16 18:24:51.772 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/roles application/json 24
2024-11-16 18:24:51.784 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API)'
2024-11-16 18:24:51.788 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRole(ETicaretServer.Application.Features.Commands.Role.CreateRole.CreateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:24:53.080 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:24:53.537 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2024-11-16 18:24:53.722 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2024-11-16 18:24:53.777 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Role.CreateRole.CreateRoleCommandResponse'.
2024-11-16 18:24:53.784 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API) in 1994.9157ms
2024-11-16 18:24:53.786 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API)'
2024-11-16 18:24:53.801 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/roles application/json 24 - 200 - application/json;+charset=utf-8 2028.9938ms
2024-11-16 18:24:56.211 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/roles application/json 24
2024-11-16 18:24:56.214 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API)'
2024-11-16 18:24:56.215 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRole(ETicaretServer.Application.Features.Commands.Role.CreateRole.CreateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:24:56.248 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:24:56.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2024-11-16 18:24:56.262 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2024-11-16 18:24:56.272 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Role.CreateRole.CreateRoleCommandResponse'.
2024-11-16 18:24:56.274 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API) in 56.8837ms
2024-11-16 18:24:56.275 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API)'
2024-11-16 18:24:56.276 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/roles application/json 24 - 200 - application/json;+charset=utf-8 64.2945ms
2024-11-16 18:24:57.968 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/roles application/json 24
2024-11-16 18:24:57.969 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API)'
2024-11-16 18:24:57.970 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRole(ETicaretServer.Application.Features.Commands.Role.CreateRole.CreateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:24:57.981 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:24:57.986 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2024-11-16 18:24:57.992 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2024-11-16 18:24:58.002 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Role.CreateRole.CreateRoleCommandResponse'.
2024-11-16 18:24:58.003 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API) in 32.2813ms
2024-11-16 18:24:58.004 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API)'
2024-11-16 18:24:58.005 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/roles application/json 24 - 200 - application/json;+charset=utf-8 37.3747ms
2024-11-16 18:25:00.538 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/roles application/json 24
2024-11-16 18:25:00.539 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API)'
2024-11-16 18:25:00.540 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRole(ETicaretServer.Application.Features.Commands.Role.CreateRole.CreateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:25:00.542 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:25:00.546 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2024-11-16 18:25:00.552 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2024-11-16 18:25:00.562 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Role.CreateRole.CreateRoleCommandResponse'.
2024-11-16 18:25:00.563 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API) in 21.3474ms
2024-11-16 18:25:00.564 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.CreateRole (ETicaretServer.API)'
2024-11-16 18:25:00.566 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/roles application/json 24 - 200 - application/json;+charset=utf-8 27.5452ms
2024-11-16 18:25:02.917 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles?page=0&size=10 - -
2024-11-16 18:25:02.924 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:25:02.930 +03:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles(ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:25:02.945 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:25:02.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryResponse'.
2024-11-16 18:25:02.962 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 18:25:02.964 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 18:25:02.981 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Name"
FROM "AspNetRoles" AS a
LIMIT @__p_1 OFFSET @__p_0
2024-11-16 18:25:02.998 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API) in 66.5649ms
2024-11-16 18:25:02.999 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:25:03.000 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles?page=0&size=10 - - - 200 - application/json;+charset=utf-8 83.3905ms
2024-11-16 18:25:13.352 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24
2024-11-16 18:25:13.353 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:25:13.354 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:25:13.355 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:25:13.357 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 1.5514ms
2024-11-16 18:25:13.358 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:25:13.359 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24 - 400 - application/json;+charset=utf-8 7.0865ms
2024-11-16 18:35:35.497 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24
2024-11-16 18:35:35.499 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-11-16 18:35:35.520 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2024-11-16 18:35:35.522 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 18:35:35.531 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 18:35:35.532 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24 - 401 0 - 34.8621ms
2024-11-16 18:35:40.118 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-16 18:35:40.119 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 18:35:40.123 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-16 18:35:40.134 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:35:40.147 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 18:35:40.237 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 18:35:40.251 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-16 18:35:40.287 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-16 18:35:40.294 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-16 18:35:40.302 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 177.3266ms
2024-11-16 18:35:40.303 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 18:35:40.304 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 185.9153ms
2024-11-16 18:35:43.291 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24
2024-11-16 18:35:43.293 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:35:43.294 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:35:43.295 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:35:43.296 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 1.5074ms
2024-11-16 18:35:43.297 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:35:43.298 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24 - 400 - application/json;+charset=utf-8 6.8794ms
2024-11-16 18:36:33.218 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24
2024-11-16 18:36:33.222 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:36:33.223 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:36:33.225 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:36:33.226 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 1.6976ms
2024-11-16 18:36:33.228 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:36:33.228 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24 - 400 - application/json;+charset=utf-8 10.8889ms
2024-11-16 18:36:37.071 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 - 0
2024-11-16 18:36:37.072 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:36:37.073 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:36:37.084 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-11-16 18:36:37.097 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 22.0662ms
2024-11-16 18:36:37.098 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:36:37.099 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 - 0 - 415 - application/problem+json;+charset=utf-8 28.5741ms
2024-11-16 18:36:41.611 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24
2024-11-16 18:36:41.612 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:36:41.613 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:36:41.615 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:36:41.616 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 1.68ms
2024-11-16 18:36:41.618 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:36:41.619 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24 - 400 - application/json;+charset=utf-8 7.7678ms
2024-11-16 18:37:18.088 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24
2024-11-16 18:37:18.090 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:37:18.099 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:37:18.102 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:37:18.104 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 3.1615ms
2024-11-16 18:37:18.105 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:37:18.106 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/ed7f8b14-b67f-4e47-9a3b-662c49903650 application/json 24 - 400 - application/json;+charset=utf-8 18.3840ms
2024-11-16 18:37:46.687 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24
2024-11-16 18:37:46.691 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:37:46.692 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:37:46.694 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:37:46.695 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 1.5344ms
2024-11-16 18:37:46.696 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:37:46.697 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24 - 400 - application/json;+charset=utf-8 10.2942ms
2024-11-16 18:37:55.034 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24
2024-11-16 18:37:55.037 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:37:55.044 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:37:55.047 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:37:55.050 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 4.3202ms
2024-11-16 18:37:55.051 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:37:55.052 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24 - 400 - application/json;+charset=utf-8 18.1434ms
2024-11-16 18:38:05.208 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 - -
2024-11-16 18:38:05.212 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API)'
2024-11-16 18:38:05.216 +03:00 [INF] Route matched with {action = "GetRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRole(ETicaretServer.Application.Features.Queries.Role.GetRoleById.GetRoleByIdQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:38:05.223 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:38:05.289 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__roleId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."Id" = @__roleId_0
LIMIT 1
2024-11-16 18:38:05.295 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetRoleById.GetRoleByIdQueryResponse'.
2024-11-16 18:38:05.297 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API) in 78.9765ms
2024-11-16 18:38:05.298 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API)'
2024-11-16 18:38:05.299 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 - - - 200 - application/json;+charset=utf-8 90.3529ms
2024-11-16 18:38:10.810 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24
2024-11-16 18:38:10.811 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:38:10.812 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:38:10.814 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:38:10.815 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 1.2819ms
2024-11-16 18:38:10.816 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:38:10.817 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24 - 400 - application/json;+charset=utf-8 7.4442ms
2024-11-16 18:38:22.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-16 18:38:22.811 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 107.7849ms
2024-11-16 18:38:22.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-16 18:38:22.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-16 18:38:22.895 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 7.8842ms
2024-11-16 18:38:22.956 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.8107ms
2024-11-16 18:38:23.051 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:38:23.088 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-16 18:38:23.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 45.7857ms
2024-11-16 18:38:26.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-16 18:38:26.421 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 11.7906ms
2024-11-16 18:38:26.508 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-16 18:38:26.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.6729ms
2024-11-16 18:38:26.515 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-16 18:38:26.538 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.3149ms
2024-11-16 18:38:26.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:38:26.598 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-16 18:38:26.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 5.7708ms
2024-11-16 18:38:42.437 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:38:42.537 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 18:38:42.537 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 18:38:42.540 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:38:42.541 +03:00 [INF] Hosting environment: Development
2024-11-16 18:38:42.541 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 18:38:43.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-16 18:38:43.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 98.8146ms
2024-11-16 18:38:43.181 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-16 18:38:43.181 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-16 18:38:43.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 2.9724ms
2024-11-16 18:38:43.209 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.0409ms
2024-11-16 18:38:43.247 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:38:43.269 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-16 18:38:43.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 37.9343ms
2024-11-16 18:38:44.850 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-16 18:38:44.853 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 3.2689ms
2024-11-16 18:38:44.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-16 18:38:44.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-16 18:38:44.882 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.3511ms
2024-11-16 18:38:44.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 6.3195ms
2024-11-16 18:38:44.943 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:38:44.944 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-16 18:38:44.947 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 4.5183ms
2024-11-16 18:39:04.147 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:39:04.380 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 18:39:04.381 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 18:39:04.384 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:39:04.385 +03:00 [INF] Hosting environment: Development
2024-11-16 18:39:04.386 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 18:39:10.738 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-16 18:39:10.906 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 170.0619ms
2024-11-16 18:39:10.941 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-16 18:39:10.941 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-16 18:39:10.946 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.0146ms
2024-11-16 18:39:11.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.5482ms
2024-11-16 18:39:11.055 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:39:11.083 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-16 18:39:11.113 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 57.8993ms
2024-11-16 18:39:22.504 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-16 18:39:22.813 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-16 18:39:22.814 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-16 18:39:22.817 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-16 18:39:22.819 +03:00 [INF] Hosting environment: Development
2024-11-16 18:39:22.820 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-16 18:39:25.156 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-16 18:39:25.228 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 18:39:25.264 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-16 18:39:26.497 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:39:26.916 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 18:39:27.192 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 18:39:27.209 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-16 18:39:27.343 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-16 18:39:27.397 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-16 18:39:27.429 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2158.8371ms
2024-11-16 18:39:27.431 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 18:39:27.450 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2297.3014ms
2024-11-16 18:39:32.848 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 - -
2024-11-16 18:39:32.960 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API)'
2024-11-16 18:39:32.967 +03:00 [INF] Route matched with {action = "GetRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRole(ETicaretServer.Application.Features.Queries.Role.GetRoleById.GetRoleByIdQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:39:33.009 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:39:33.074 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__roleId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."Id" = @__roleId_0
LIMIT 1
2024-11-16 18:39:33.089 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetRoleById.GetRoleByIdQueryResponse'.
2024-11-16 18:39:33.091 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API) in 122.0171ms
2024-11-16 18:39:33.092 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRole (ETicaretServer.API)'
2024-11-16 18:39:33.094 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 - - - 200 - application/json;+charset=utf-8 245.6217ms
2024-11-16 18:39:35.792 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles?page=0&size=10 - -
2024-11-16 18:39:35.796 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:39:35.800 +03:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles(ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:39:35.816 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:39:35.820 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryResponse'.
2024-11-16 18:39:35.836 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 18:39:35.838 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-16 18:39:35.848 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Name"
FROM "AspNetRoles" AS a
LIMIT @__p_1 OFFSET @__p_0
2024-11-16 18:39:35.858 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API) in 56.7077ms
2024-11-16 18:39:35.859 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:39:35.860 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles?page=0&size=10 - - - 200 - application/json;+charset=utf-8 67.8249ms
2024-11-16 18:39:40.176 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/roles?page=0&size=3 - -
2024-11-16 18:39:40.178 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:39:40.179 +03:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles(ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:39:40.181 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:39:40.183 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Role.GetAllRoles.GetAllRoleQueryResponse'.
2024-11-16 18:39:40.187 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Name"
FROM "AspNetRoles" AS a
LIMIT @__p_1 OFFSET @__p_0
2024-11-16 18:39:40.190 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API) in 9.6643ms
2024-11-16 18:39:40.191 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.GetRoles (ETicaretServer.API)'
2024-11-16 18:39:40.192 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/roles?page=0&size=3 - - - 200 - application/json;+charset=utf-8 16.5060ms
2024-11-16 18:39:45.633 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-16 18:39:45.633 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-16 18:39:45.647 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 14.3101ms
2024-11-16 18:39:45.714 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.1665ms
2024-11-16 18:39:45.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:39:45.946 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-16 18:39:45.999 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 106.8287ms
2024-11-16 18:39:49.113 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/ - -
2024-11-16 18:39:49.139 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/ - - - 404 0 - 26.5855ms
2024-11-16 18:39:52.626 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-16 18:39:52.702 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 76.7183ms
2024-11-16 18:39:52.834 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-16 18:39:52.834 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-16 18:39:52.835 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.7138ms
2024-11-16 18:39:52.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.0329ms
2024-11-16 18:39:52.957 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:39:52.959 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-16 18:39:52.963 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 6.4392ms
2024-11-16 18:40:20.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:40:20.396 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-16 18:40:20.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/html;+charset=utf-8 30.4681ms
2024-11-16 18:40:20.453 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-16 18:40:20.454 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-16 18:40:20.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 9.8283ms
2024-11-16 18:40:20.466 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.3544ms
2024-11-16 18:40:20.529 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/favicon.ico - -
2024-11-16 18:40:20.532 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/favicon.ico - - - 404 0 - 2.9053ms
2024-11-16 18:41:06.593 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:41:06.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 95.4239ms
2024-11-16 18:41:10.260 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:41:10.267 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.2730ms
2024-11-16 18:41:12.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/ - -
2024-11-16 18:41:12.407 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/ - - - 301 0 - 3.3598ms
2024-11-16 18:41:12.414 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-16 18:41:12.420 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 5.6730ms
2024-11-16 18:41:12.459 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-16 18:41:12.459 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-16 18:41:12.459 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.1320ms
2024-11-16 18:41:12.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4.8960ms
2024-11-16 18:41:12.518 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-16 18:41:12.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.2852ms
2024-11-16 18:42:59.576 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24
2024-11-16 18:42:59.577 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:42:59.581 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:42:59.590 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:42:59.600 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 18.0066ms
2024-11-16 18:42:59.602 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:42:59.603 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 24 - 400 - application/json;+charset=utf-8 26.8110ms
2024-11-16 18:43:07.454 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 40
2024-11-16 18:43:07.463 +03:00 [INF] CORS policy execution failed.
2024-11-16 18:43:07.464 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-16 18:43:07.467 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 18:43:07.473 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 18:43:07.475 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 40 - 401 0 - 21.7800ms
2024-11-16 18:43:13.268 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-16 18:43:13.270 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 18:43:13.272 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-16 18:43:13.276 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 18:43:13.281 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 18:43:13.289 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-16 18:43:13.294 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-16 18:43:13.299 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-16 18:43:13.304 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-16 18:43:13.306 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 32.5397ms
2024-11-16 18:43:13.307 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-16 18:43:13.308 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 40.3297ms
2024-11-16 18:43:24.556 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 40
2024-11-16 18:43:24.557 +03:00 [INF] CORS policy execution failed.
2024-11-16 18:43:24.558 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-16 18:43:24.559 +03:00 [INF] Admin was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-11-16 18:43:24.560 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 18:43:24.563 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 18:43:24.564 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 40 - 401 0 - 7.8559ms
2024-11-16 18:43:28.424 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 40
2024-11-16 18:43:28.425 +03:00 [INF] CORS policy execution failed.
2024-11-16 18:43:28.426 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-16 18:43:28.427 +03:00 [INF] Admin was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-11-16 18:43:28.427 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 18:43:28.428 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 18:43:28.429 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 40 - 401 0 - 5.2973ms
2024-11-16 18:43:29.228 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 40
2024-11-16 18:43:29.229 +03:00 [INF] CORS policy execution failed.
2024-11-16 18:43:29.230 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-16 18:43:29.231 +03:00 [INF] Admin was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-11-16 18:43:29.232 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 18:43:29.232 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 18:43:29.233 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 40 - 401 0 - 4.9832ms
2024-11-16 18:43:40.152 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 25
2024-11-16 18:43:40.154 +03:00 [INF] CORS policy execution failed.
2024-11-16 18:43:40.155 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-16 18:43:40.156 +03:00 [INF] Admin was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-11-16 18:43:40.158 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-16 18:43:40.158 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-16 18:43:40.159 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 25 - 401 0 - 7.3797ms
2024-11-16 18:44:06.582 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 25
2024-11-16 18:44:06.586 +03:00 [INF] CORS policy execution failed.
2024-11-16 18:44:06.588 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-16 18:44:06.590 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:44:06.591 +03:00 [INF] Route matched with {action = "UpdateRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRole(ETicaretServer.Application.Features.Commands.Role.UpdateRole.UpdateRoleCommandRequest) on controller ETicaretServer.API.Controllers.RolesController (ETicaretServer.API).
2024-11-16 18:44:06.595 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-16 18:44:06.597 +03:00 [INF] Executed action ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API) in 3.9638ms
2024-11-16 18:44:06.598 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.RolesController.UpdateRole (ETicaretServer.API)'
2024-11-16 18:44:06.600 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7091/api/Roles/e9983151-90fa-42da-9177-3d3437d45521 application/json 25 - 400 - application/json;+charset=utf-8 17.9920ms
2024-11-16 22:59:35.884 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 22:59:42.883 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 23:00:05.957 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-16 23:00:06.204 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-16 23:00:06.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-16 23:00:06.225 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-16 23:00:06.241 +03:00 [INF] Applying migration '20241116195936_add_mig_22'.
2024-11-16 23:00:06.298 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Menus" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Menus" PRIMARY KEY ("Id")
);
2024-11-16 23:00:06.303 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "EndPoints" (
    "Id" uuid NOT NULL,
    "ActionType" text NOT NULL,
    "HttpType" text NOT NULL,
    "Definition" text NOT NULL,
    "Code" text NOT NULL,
    "MenuId" uuid NOT NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_EndPoints" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_EndPoints_Menus_MenuId" FOREIGN KEY ("MenuId") REFERENCES "Menus" ("Id") ON DELETE CASCADE
);
2024-11-16 23:00:06.307 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AppRoleEndPoint" (
    "AppRolesId" text NOT NULL,
    "EndPointsId" uuid NOT NULL,
    CONSTRAINT "PK_AppRoleEndPoint" PRIMARY KEY ("AppRolesId", "EndPointsId"),
    CONSTRAINT "FK_AppRoleEndPoint_AspNetRoles_AppRolesId" FOREIGN KEY ("AppRolesId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AppRoleEndPoint_EndPoints_EndPointsId" FOREIGN KEY ("EndPointsId") REFERENCES "EndPoints" ("Id") ON DELETE CASCADE
);
2024-11-16 23:00:06.308 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AppRoleEndPoint_EndPointsId" ON "AppRoleEndPoint" ("EndPointsId");
2024-11-16 23:00:06.309 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_EndPoints_MenuId" ON "EndPoints" ("MenuId");
2024-11-16 23:00:06.310 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241116195936_add_mig_22', '6.0.35');
2024-11-17 00:02:36.243 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:02:36.890 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:02:36.891 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:02:36.896 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:02:36.897 +03:00 [INF] Hosting environment: Development
2024-11-17 00:02:36.898 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:03:18.382 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 00:03:18.584 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 204.8871ms
2024-11-17 00:03:18.701 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 00:03:18.701 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 00:03:18.708 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 6.9929ms
2024-11-17 00:03:18.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.7639ms
2024-11-17 00:03:18.856 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 00:03:19.093 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 236.8535ms
2024-11-17 00:04:03.869 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/ApplicationServices - -
2024-11-17 00:04:03.903 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-17 00:04:03.930 +03:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndPoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndPoints() on controller ETicaretServer.API.Controllers.ApplicationServicesController (ETicaretServer.API).
2024-11-17 00:04:03.942 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.DTOs.Configurations.Menu, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 00:04:03.957 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API) in 21.7087ms
2024-11-17 00:04:03.960 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-17 00:04:03.963 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/ApplicationServices - - - 200 - application/json;+charset=utf-8 94.1249ms
2024-11-17 00:05:56.402 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 00:05:56.411 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 8.9433ms
2024-11-17 00:05:56.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 00:05:56.454 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 00:05:56.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.6760ms
2024-11-17 00:05:56.458 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 5.6507ms
2024-11-17 00:05:56.660 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 00:05:56.693 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 33.1330ms
2024-11-17 00:06:38.883 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 00:06:38.890 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 7.2611ms
2024-11-17 00:06:38.921 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 00:06:38.921 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 00:06:38.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.6954ms
2024-11-17 00:06:38.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4.8148ms
2024-11-17 00:06:39.067 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 00:06:39.102 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 35.3097ms
2024-11-17 00:06:57.824 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:06:57.951 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:06:57.952 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:06:57.955 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:06:57.956 +03:00 [INF] Hosting environment: Development
2024-11-17 00:06:57.956 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:06:58.924 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 00:06:59.024 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 101.5340ms
2024-11-17 00:06:59.154 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 00:06:59.154 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 00:06:59.159 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.5407ms
2024-11-17 00:06:59.193 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.3526ms
2024-11-17 00:06:59.268 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 00:06:59.436 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 167.8402ms
2024-11-17 00:09:07.047 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/AuthorizationEndpoints application/json 1983
2024-11-17 00:09:07.056 +03:00 [INF] CORS policy execution failed.
2024-11-17 00:09:07.056 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 00:09:07.462 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 00:09:07.467 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 00:09:07.470 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/AuthorizationEndpoints application/json 1983 - 401 0 - 423.0230ms
2024-11-17 00:10:48.283 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 00:10:48.290 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:10:48.320 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 00:10:49.142 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:10:49.364 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:10:49.661 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:10:49.672 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 00:10:49.751 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 00:10:49.775 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 00:10:49.790 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 1464.5278ms
2024-11-17 00:10:49.791 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:10:49.797 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 1513.4945ms
2024-11-17 00:10:58.049 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/ApplicationServices - -
2024-11-17 00:10:58.100 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-17 00:10:58.102 +03:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndPoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndPoints() on controller ETicaretServer.API.Controllers.ApplicationServicesController (ETicaretServer.API).
2024-11-17 00:10:58.107 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.DTOs.Configurations.Menu, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 00:10:58.110 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API) in 6.7515ms
2024-11-17 00:10:58.111 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-17 00:10:58.112 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/ApplicationServices - - - 200 - application/json;+charset=utf-8 63.3189ms
2024-11-17 00:11:45.042 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint - 0
2024-11-17 00:11:45.043 +03:00 [INF] CORS policy execution failed.
2024-11-17 00:11:45.043 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 00:11:45.046 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API)'
2024-11-17 00:11:45.051 +03:00 [INF] Route matched with {action = "GetRolesToEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolesToEndpoint(ETicaretServer.Application.Features.Queries.AuthorizationEndpoint.GetRolesToEndpoint.GetRolesToEndpointQueryRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:11:45.059 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 00:11:45.068 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API) in 15.9247ms
2024-11-17 00:11:45.069 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API)'
2024-11-17 00:11:45.070 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint - 0 - 400 - application/json;+charset=utf-8 28.5750ms
2024-11-17 00:12:33.837 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/applicationservices - -
2024-11-17 00:12:33.838 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 00:12:33.839 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 00:12:33.840 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/applicationservices - - - 401 0 - 3.2427ms
2024-11-17 00:12:37.492 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 00:12:37.495 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:12:37.496 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 00:12:37.535 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:12:37.540 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:12:37.546 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:12:37.550 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 00:12:37.555 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 00:12:37.560 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 00:12:37.561 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 64.0469ms
2024-11-17 00:12:37.562 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:12:37.563 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 71.1395ms
2024-11-17 00:12:39.769 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/applicationservices - -
2024-11-17 00:12:39.770 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 00:12:39.771 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 00:12:39.772 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/applicationservices - - - 401 0 - 3.0084ms
2024-11-17 00:12:55.473 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/applicationservices - -
2024-11-17 00:12:55.475 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-17 00:12:55.476 +03:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndPoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndPoints() on controller ETicaretServer.API.Controllers.ApplicationServicesController (ETicaretServer.API).
2024-11-17 00:12:55.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.DTOs.Configurations.Menu, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 00:12:55.480 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API) in 2.6468ms
2024-11-17 00:12:55.481 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-17 00:12:55.482 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/applicationservices - - - 200 - application/json;+charset=utf-8 8.4655ms
2024-11-17 00:18:31.024 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/applicationservices application/json 116
2024-11-17 00:18:31.025 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-17 00:18:31.026 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-17 00:18:31.027 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/applicationservices application/json 116 - 405 0 - 3.0361ms
2024-11-17 00:19:01.645 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 116
2024-11-17 00:19:01.647 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:19:01.652 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:19:01.657 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 00:19:01.659 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API) in 6.0933ms
2024-11-17 00:19:01.660 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:19:01.661 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 116 - 400 - application/json;+charset=utf-8 15.7356ms
2024-11-17 00:19:21.945 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 133
2024-11-17 00:19:21.946 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:19:21.947 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:19:21.958 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API) in 9.683ms
2024-11-17 00:19:21.960 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:19:21.962 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Type' instances are not supported. Path: $.Type | LineNumber: 4 | BytePositionInLine: 14.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Type' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCoreAsObject(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonConverter jsonConverter, Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonReaderState& readerState, Boolean isFinalBlock, ReadOnlySpan`1 buffer, JsonSerializerOptions options, ReadStack& state, JsonConverter converterBase)
   at System.Text.Json.JsonSerializer.ContinueDeserialize[TValue](ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.ReadAllAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 00:19:22.020 +03:00 [ERR] Serialization and deserialization of 'System.Type' instances are not supported. Path: $.Type | LineNumber: 4 | BytePositionInLine: 14.
2024-11-17 00:19:22.024 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 133 - 500 - application/json 79.7331ms
2024-11-17 00:19:35.421 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:19:35.645 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:19:35.646 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:19:35.648 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:19:35.649 +03:00 [INF] Hosting environment: Development
2024-11-17 00:19:35.650 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:19:46.342 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 133
2024-11-17 00:19:46.651 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:19:46.685 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:19:46.723 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API) in 31.7083ms
2024-11-17 00:19:46.728 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:19:46.790 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Type' instances are not supported. Path: $.Type | LineNumber: 4 | BytePositionInLine: 14.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Type' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCoreAsObject(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonConverter jsonConverter, Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonReaderState& readerState, Boolean isFinalBlock, ReadOnlySpan`1 buffer, JsonSerializerOptions options, ReadStack& state, JsonConverter converterBase)
   at System.Text.Json.JsonSerializer.ContinueDeserialize[TValue](ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.ReadAllAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 00:19:46.829 +03:00 [ERR] Serialization and deserialization of 'System.Type' instances are not supported. Path: $.Type | LineNumber: 4 | BytePositionInLine: 14.
2024-11-17 00:19:46.857 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 133 - 500 - application/json 518.1575ms
2024-11-17 00:20:08.946 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:20:09.211 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:20:09.212 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:20:09.215 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:20:09.215 +03:00 [INF] Hosting environment: Development
2024-11-17 00:20:09.216 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:20:17.131 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 00:20:17.198 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:20:17.231 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 00:20:18.500 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:20:18.940 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:20:19.232 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:20:19.247 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 00:20:19.399 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 00:20:19.452 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 00:20:19.483 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2246.8794ms
2024-11-17 00:20:19.486 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:20:19.505 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2376.9119ms
2024-11-17 00:20:21.600 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 122
2024-11-17 00:20:21.691 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:20:21.694 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:20:21.705 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 00:20:21.719 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API) in 23.3312ms
2024-11-17 00:20:21.720 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:20:21.722 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 122 - 400 - application/json;+charset=utf-8 121.3388ms
2024-11-17 00:20:43.059 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 00:20:43.059 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 00:20:43.077 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 17.4281ms
2024-11-17 00:20:43.152 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 92.5741ms
2024-11-17 00:20:43.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 00:20:43.742 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 479.8076ms
2024-11-17 00:21:27.673 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 160
2024-11-17 00:21:27.676 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:21:27.677 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:21:27.686 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API) in 7.087ms
2024-11-17 00:21:27.687 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:21:27.744 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.Type' instances are not supported. Path: $.type | LineNumber: 4 | BytePositionInLine: 13.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.Type' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCoreAsObject(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonConverter jsonConverter, Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonReaderState& readerState, Boolean isFinalBlock, ReadOnlySpan`1 buffer, JsonSerializerOptions options, ReadStack& state, JsonConverter converterBase)
   at System.Text.Json.JsonSerializer.ContinueDeserialize[TValue](ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.ReadAllAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 00:21:27.782 +03:00 [ERR] Serialization and deserialization of 'System.Type' instances are not supported. Path: $.type | LineNumber: 4 | BytePositionInLine: 13.
2024-11-17 00:21:27.790 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 160 - 500 - application/json 116.9482ms
2024-11-17 00:23:40.300 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:23:40.556 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:23:40.557 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:23:40.559 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:23:40.560 +03:00 [INF] Hosting environment: Development
2024-11-17 00:23:40.560 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:23:44.586 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 00:23:44.657 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:23:44.694 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 00:23:45.951 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:23:46.389 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:23:46.670 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:23:46.686 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 00:23:46.807 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 00:23:46.857 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 00:23:46.888 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2188.9948ms
2024-11-17 00:23:46.891 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:23:46.911 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2327.0096ms
2024-11-17 00:23:48.436 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 128
2024-11-17 00:23:48.535 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:23:48.539 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:23:48.548 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 00:23:48.566 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API) in 25.391ms
2024-11-17 00:23:48.567 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:23:48.568 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 128 - 400 - application/json;+charset=utf-8 132.2101ms
2024-11-17 00:24:00.394 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 147
2024-11-17 00:24:00.397 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:24:00.398 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:25:16.703 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:25:16.910 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:25:16.911 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:25:16.914 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:25:16.914 +03:00 [INF] Hosting environment: Development
2024-11-17 00:25:16.915 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:25:26.832 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134
2024-11-17 00:25:27.208 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:25:27.256 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:25:40.876 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:25:41.210 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:25:41.212 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:25:41.216 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:25:41.217 +03:00 [INF] Hosting environment: Development
2024-11-17 00:25:41.219 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:25:45.535 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134
2024-11-17 00:25:45.847 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:25:45.881 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:26:12.996 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:26:13.088 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:26:13.088 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:26:13.091 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:26:13.091 +03:00 [INF] Hosting environment: Development
2024-11-17 00:26:13.092 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:26:13.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 00:26:13.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 100.4215ms
2024-11-17 00:26:13.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 00:26:13.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 2.1720ms
2024-11-17 00:26:13.752 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 00:26:13.774 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.9866ms
2024-11-17 00:26:13.910 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 00:26:14.043 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.1766ms
2024-11-17 00:26:20.154 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134
2024-11-17 00:26:20.267 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:26:20.292 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:26:21.025 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:26:21.224 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__menu_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedDate", m."Name", m."UpdatedDate"
FROM "Menus" AS m
WHERE m."Name" = @__menu_0
LIMIT 1
2024-11-17 00:26:21.344 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Menus" ("Id", "CreatedDate", "Name", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3);
2024-11-17 00:26:21.462 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__code_0='?', @__menu_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActionType", t."Code", t."CreatedDate", t."Definition", t."HttpType", t."MenuId", t."UpdatedDate", t."Id0", t."CreatedDate0", t."Name", t."UpdatedDate0", t0."AppRolesId", t0."EndPointsId", t0."Id", t0."ConcurrencyStamp", t0."Name", t0."NormalizedName"
FROM (
    SELECT e."Id", e."ActionType", e."Code", e."CreatedDate", e."Definition", e."HttpType", e."MenuId", e."UpdatedDate", m."Id" AS "Id0", m."CreatedDate" AS "CreatedDate0", m."Name", m."UpdatedDate" AS "UpdatedDate0"
    FROM "EndPoints" AS e
    INNER JOIN "Menus" AS m ON e."MenuId" = m."Id"
    WHERE (e."Code" = @__code_0) AND (m."Name" = @__menu_1)
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."AppRolesId", a."EndPointsId", a0."Id", a0."ConcurrencyStamp", a0."Name", a0."NormalizedName"
    FROM "AppRoleEndPoint" AS a
    INNER JOIN "AspNetRoles" AS a0 ON a."AppRolesId" = a0."Id"
) AS t0 ON t."Id" = t0."EndPointsId"
ORDER BY t."Id", t."Id0", t0."AppRolesId", t0."EndPointsId"
2024-11-17 00:26:21.477 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API) in 1180.5468ms
2024-11-17 00:26:21.479 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:26:21.485 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at ETicaretServer.Persistence.Services.AuthorizationEndpointService.AssignRoleEndpointAsync(String[] roles, String menu, String code, Type type) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\AuthorizationEndpointService.cs:line 61
   at ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointHandler.Handle(AssignRoleEndpointRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\AuthorizationEndpoint\AssignRoleEndpoint\AssignRoleEndpointHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint(AssignRoleEndpointRequest assignRoleEndpointRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\AuthorizationEndpointsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 00:26:21.529 +03:00 [ERR] Object reference not set to an instance of an object.
2024-11-17 00:26:21.537 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134 - 500 - application/json 1383.2956ms
2024-11-17 00:26:45.416 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:26:45.706 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:26:45.707 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:26:45.710 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:26:45.710 +03:00 [INF] Hosting environment: Development
2024-11-17 00:26:45.711 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:26:49.566 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134
2024-11-17 00:26:49.880 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:26:49.918 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:27:18.700 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:27:18.931 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:27:18.932 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:27:18.934 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:27:18.935 +03:00 [INF] Hosting environment: Development
2024-11-17 00:27:18.936 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:27:21.643 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134
2024-11-17 00:27:21.934 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:27:21.975 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:27:31.373 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:27:33.416 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__menu_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedDate", m."Name", m."UpdatedDate"
FROM "Menus" AS m
WHERE m."Name" = @__menu_0
LIMIT 1
2024-11-17 00:28:04.382 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__code_0='?', @__menu_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActionType", t."Code", t."CreatedDate", t."Definition", t."HttpType", t."MenuId", t."UpdatedDate", t."Id0", t."CreatedDate0", t."Name", t."UpdatedDate0", t0."AppRolesId", t0."EndPointsId", t0."Id", t0."ConcurrencyStamp", t0."Name", t0."NormalizedName"
FROM (
    SELECT e."Id", e."ActionType", e."Code", e."CreatedDate", e."Definition", e."HttpType", e."MenuId", e."UpdatedDate", m."Id" AS "Id0", m."CreatedDate" AS "CreatedDate0", m."Name", m."UpdatedDate" AS "UpdatedDate0"
    FROM "EndPoints" AS e
    INNER JOIN "Menus" AS m ON e."MenuId" = m."Id"
    WHERE (e."Code" = @__code_0) AND (m."Name" = @__menu_1)
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."AppRolesId", a."EndPointsId", a0."Id", a0."ConcurrencyStamp", a0."Name", a0."NormalizedName"
    FROM "AppRoleEndPoint" AS a
    INNER JOIN "AspNetRoles" AS a0 ON a."AppRolesId" = a0."Id"
) AS t0 ON t."Id" = t0."EndPointsId"
ORDER BY t."Id", t."Id0", t0."AppRolesId", t0."EndPointsId"
2024-11-17 00:30:20.880 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API) in 178899.4581ms
2024-11-17 00:30:20.884 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:30:21.508 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at ETicaretServer.Persistence.Services.AuthorizationEndpointService.AssignRoleEndpointAsync(String[] roles, String menu, String code, Type type) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\AuthorizationEndpointService.cs:line 61
   at ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointHandler.Handle(AssignRoleEndpointRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\AuthorizationEndpoint\AssignRoleEndpoint\AssignRoleEndpointHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint(AssignRoleEndpointRequest assignRoleEndpointRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\AuthorizationEndpointsController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 00:30:21.553 +03:00 [ERR] Object reference not set to an instance of an object.
2024-11-17 00:30:21.598 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134 - 500 - application/json 179956.8773ms
2024-11-17 00:30:44.227 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:30:44.495 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:30:44.496 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:30:44.499 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:30:44.500 +03:00 [INF] Hosting environment: Development
2024-11-17 00:30:44.501 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:30:45.824 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134
2024-11-17 00:30:46.103 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:30:46.134 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:30:50.422 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:30:50.868 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__menu_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedDate", m."Name", m."UpdatedDate"
FROM "Menus" AS m
WHERE m."Name" = @__menu_0
LIMIT 1
2024-11-17 00:30:51.145 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__code_0='?', @__menu_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActionType", t."Code", t."CreatedDate", t."Definition", t."HttpType", t."MenuId", t."UpdatedDate", t."Id0", t."CreatedDate0", t."Name", t."UpdatedDate0", t0."AppRolesId", t0."EndPointsId", t0."Id", t0."ConcurrencyStamp", t0."Name", t0."NormalizedName"
FROM (
    SELECT e."Id", e."ActionType", e."Code", e."CreatedDate", e."Definition", e."HttpType", e."MenuId", e."UpdatedDate", m."Id" AS "Id0", m."CreatedDate" AS "CreatedDate0", m."Name", m."UpdatedDate" AS "UpdatedDate0"
    FROM "EndPoints" AS e
    INNER JOIN "Menus" AS m ON e."MenuId" = m."Id"
    WHERE (e."Code" = @__code_0) AND (m."Name" = @__menu_1)
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."AppRolesId", a."EndPointsId", a0."Id", a0."ConcurrencyStamp", a0."Name", a0."NormalizedName"
    FROM "AppRoleEndPoint" AS a
    INNER JOIN "AspNetRoles" AS a0 ON a."AppRolesId" = a0."Id"
) AS t0 ON t."Id" = t0."EndPointsId"
ORDER BY t."Id", t."Id0", t0."AppRolesId", t0."EndPointsId"
2024-11-17 00:33:29.888 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:33:30.128 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:33:30.129 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:33:30.132 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:33:30.132 +03:00 [INF] Hosting environment: Development
2024-11-17 00:33:30.133 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:33:36.264 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 00:33:36.333 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:33:36.365 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 00:33:37.597 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:33:38.044 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:33:38.345 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:33:38.360 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 00:33:38.488 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 00:33:38.559 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 00:33:38.594 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2222.775ms
2024-11-17 00:33:38.596 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:33:38.616 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2353.8816ms
2024-11-17 00:33:42.003 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134
2024-11-17 00:33:42.103 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:33:42.107 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:33:44.564 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:33:44.573 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__menu_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedDate", m."Name", m."UpdatedDate"
FROM "Menus" AS m
WHERE m."Name" = @__menu_0
LIMIT 1
2024-11-17 00:33:44.804 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__code_0='?', @__menu_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActionType", t."Code", t."CreatedDate", t."Definition", t."HttpType", t."MenuId", t."UpdatedDate", t."Id0", t."CreatedDate0", t."Name", t."UpdatedDate0", t0."AppRolesId", t0."EndPointsId", t0."Id", t0."ConcurrencyStamp", t0."Name", t0."NormalizedName"
FROM (
    SELECT e."Id", e."ActionType", e."Code", e."CreatedDate", e."Definition", e."HttpType", e."MenuId", e."UpdatedDate", m."Id" AS "Id0", m."CreatedDate" AS "CreatedDate0", m."Name", m."UpdatedDate" AS "UpdatedDate0"
    FROM "EndPoints" AS e
    INNER JOIN "Menus" AS m ON e."MenuId" = m."Id"
    WHERE (e."Code" = @__code_0) AND (m."Name" = @__menu_1)
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."AppRolesId", a."EndPointsId", a0."Id", a0."ConcurrencyStamp", a0."Name", a0."NormalizedName"
    FROM "AppRoleEndPoint" AS a
    INNER JOIN "AspNetRoles" AS a0 ON a."AppRolesId" = a0."Id"
) AS t0 ON t."Id" = t0."EndPointsId"
ORDER BY t."Id", t."Id0", t0."AppRolesId", t0."EndPointsId"
2024-11-17 00:35:15.490 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:35:15.757 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:35:15.758 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:35:15.761 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:35:15.761 +03:00 [INF] Hosting environment: Development
2024-11-17 00:35:15.762 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:35:21.766 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134
2024-11-17 00:35:22.056 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:35:22.092 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:36:31.030 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:36:32.690 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__menu_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedDate", m."Name", m."UpdatedDate"
FROM "Menus" AS m
WHERE m."Name" = @__menu_0
LIMIT 1
2024-11-17 00:37:51.079 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:37:51.320 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:37:51.321 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:37:51.325 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:37:51.326 +03:00 [INF] Hosting environment: Development
2024-11-17 00:37:51.327 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:37:55.854 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134
2024-11-17 00:37:56.146 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:37:56.181 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:37:59.679 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:38:00.098 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__menu_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedDate", m."Name", m."UpdatedDate"
FROM "Menus" AS m
WHERE m."Name" = @__menu_0
LIMIT 1
2024-11-17 00:38:00.383 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__code_0='?', @__menu_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActionType", t."Code", t."CreatedDate", t."Definition", t."HttpType", t."MenuId", t."UpdatedDate", t."Id0", t."CreatedDate0", t."Name", t."UpdatedDate0", t0."AppRolesId", t0."EndPointsId", t0."Id", t0."ConcurrencyStamp", t0."Name", t0."NormalizedName"
FROM (
    SELECT e."Id", e."ActionType", e."Code", e."CreatedDate", e."Definition", e."HttpType", e."MenuId", e."UpdatedDate", m."Id" AS "Id0", m."CreatedDate" AS "CreatedDate0", m."Name", m."UpdatedDate" AS "UpdatedDate0"
    FROM "EndPoints" AS e
    INNER JOIN "Menus" AS m ON e."MenuId" = m."Id"
    WHERE (e."Code" = @__code_0) AND (m."Name" = @__menu_1)
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."AppRolesId", a."EndPointsId", a0."Id", a0."ConcurrencyStamp", a0."Name", a0."NormalizedName"
    FROM "AppRoleEndPoint" AS a
    INNER JOIN "AspNetRoles" AS a0 ON a."AppRolesId" = a0."Id"
) AS t0 ON t."Id" = t0."EndPointsId"
ORDER BY t."Id", t."Id0", t0."AppRolesId", t0."EndPointsId"
2024-11-17 00:38:15.026 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "EndPoints" ("Id", "ActionType", "Code", "CreatedDate", "Definition", "HttpType", "MenuId", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-11-17 00:38:15.130 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__roles_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."Name" = ANY (@__roles_0) OR (((a."Name" IS NULL)) AND ((array_position(@__roles_0, NULL) IS NOT NULL)))
2024-11-17 00:38:15.179 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AppRoleEndPoint" ("AppRolesId", "EndPointsId")
VALUES (@p0, @p1);
INSERT INTO "AppRoleEndPoint" ("AppRolesId", "EndPointsId")
VALUES (@p2, @p3);
2024-11-17 00:38:15.195 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointResponse'.
2024-11-17 00:38:15.217 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API) in 19030.2104ms
2024-11-17 00:38:15.220 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:38:15.240 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints application/json 134 - 200 - application/json;+charset=utf-8 19388.4156ms
2024-11-17 00:39:39.820 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:39:40.065 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:39:40.066 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:39:40.070 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:39:40.070 +03:00 [INF] Hosting environment: Development
2024-11-17 00:39:40.071 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:39:43.330 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/applicationservices - -
2024-11-17 00:39:43.609 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-17 00:39:43.632 +03:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndPoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndPoints() on controller ETicaretServer.API.Controllers.ApplicationServicesController (ETicaretServer.API).
2024-11-17 00:39:43.645 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.DTOs.Configurations.Menu, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 00:39:43.678 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API) in 39.9929ms
2024-11-17 00:39:43.682 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-17 00:39:43.687 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/applicationservices - - - 200 - application/json;+charset=utf-8 359.1473ms
2024-11-17 00:40:20.142 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints/ application/json 68
2024-11-17 00:40:20.157 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:40:20.171 +03:00 [INF] Route matched with {action = "AssignRoleEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleEndpoint(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:40:20.214 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 00:40:20.228 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API) in 55.4843ms
2024-11-17 00:40:20.229 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.AssignRoleEndpoint (ETicaretServer.API)'
2024-11-17 00:40:20.230 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints/ application/json 68 - 400 - application/json;+charset=utf-8 88.1634ms
2024-11-17 00:40:45.141 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint application/json 68
2024-11-17 00:40:45.150 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API)'
2024-11-17 00:40:45.155 +03:00 [INF] Route matched with {action = "GetRolesToEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolesToEndpoint(ETicaretServer.Application.Features.Queries.AuthorizationEndpoint.GetRolesToEndpoint.GetRolesToEndpointQueryRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:40:45.169 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 00:40:45.171 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API) in 14.9461ms
2024-11-17 00:40:45.172 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API)'
2024-11-17 00:40:45.174 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint application/json 68 - 400 - application/json;+charset=utf-8 32.9501ms
2024-11-17 00:41:10.624 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint - 0
2024-11-17 00:41:10.629 +03:00 [INF] CORS policy execution failed.
2024-11-17 00:41:10.629 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 00:41:10.632 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 00:41:10.638 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 00:41:10.642 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint - 0 - 401 0 - 17.6536ms
2024-11-17 00:41:19.196 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 00:41:19.198 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:41:19.201 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 00:41:20.399 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:41:20.831 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:41:20.990 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:41:21.006 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 00:41:21.138 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 00:41:21.186 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 00:41:21.193 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 1990.8753ms
2024-11-17 00:41:21.195 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:41:21.210 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2013.9645ms
2024-11-17 00:41:28.581 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint - 0
2024-11-17 00:41:28.582 +03:00 [INF] CORS policy execution failed.
2024-11-17 00:41:28.582 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 00:41:28.584 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API)'
2024-11-17 00:41:28.585 +03:00 [INF] Route matched with {action = "GetRolesToEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolesToEndpoint(ETicaretServer.Application.Features.Queries.AuthorizationEndpoint.GetRolesToEndpoint.GetRolesToEndpointQueryRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:41:28.587 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 00:41:28.589 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API) in 2.8398ms
2024-11-17 00:41:28.591 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API)'
2024-11-17 00:41:28.592 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint - 0 - 400 - application/json;+charset=utf-8 11.3522ms
2024-11-17 00:41:43.015 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 00:41:43.017 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:41:43.018 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 00:41:43.063 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:41:43.068 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:41:43.075 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 00:41:43.082 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 00:41:43.088 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 00:41:43.092 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 00:41:43.093 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 73.8755ms
2024-11-17 00:41:43.094 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 00:41:43.095 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 80.6127ms
2024-11-17 00:41:48.638 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint application/json 68
2024-11-17 00:41:48.640 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API)'
2024-11-17 00:41:48.640 +03:00 [INF] Route matched with {action = "GetRolesToEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolesToEndpoint(ETicaretServer.Application.Features.Queries.AuthorizationEndpoint.GetRolesToEndpoint.GetRolesToEndpointQueryRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:41:48.642 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 00:41:48.644 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API) in 1.6991ms
2024-11-17 00:41:48.645 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API)'
2024-11-17 00:41:48.645 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint application/json 68 - 400 - application/json;+charset=utf-8 7.2722ms
2024-11-17 00:42:33.390 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 00:42:33.728 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 00:42:33.729 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 00:42:33.733 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 00:42:33.734 +03:00 [INF] Hosting environment: Development
2024-11-17 00:42:33.735 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 00:42:35.727 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint application/json 68
2024-11-17 00:42:36.016 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API)'
2024-11-17 00:42:36.050 +03:00 [INF] Route matched with {action = "GetRolesToEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolesToEndpoint(ETicaretServer.Application.Features.Queries.AuthorizationEndpoint.GetRolesToEndpoint.GetRolesToEndpointQueryRequest) on controller ETicaretServer.API.Controllers.AuthorizationEndpointsController (ETicaretServer.API).
2024-11-17 00:42:43.354 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 00:42:44.016 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__code_0='?', @__menu_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActionType", t."Code", t."CreatedDate", t."Definition", t."HttpType", t."MenuId", t."UpdatedDate", t."Id0", t0."AppRolesId", t0."EndPointsId", t0."Id", t0."ConcurrencyStamp", t0."Name", t0."NormalizedName", t."CreatedDate0", t."Name", t."UpdatedDate0"
FROM (
    SELECT e."Id", e."ActionType", e."Code", e."CreatedDate", e."Definition", e."HttpType", e."MenuId", e."UpdatedDate", m."Id" AS "Id0", m."CreatedDate" AS "CreatedDate0", m."Name", m."UpdatedDate" AS "UpdatedDate0"
    FROM "EndPoints" AS e
    INNER JOIN "Menus" AS m ON e."MenuId" = m."Id"
    WHERE (e."Code" = @__code_0) AND (m."Name" = @__menu_1)
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."AppRolesId", a."EndPointsId", a0."Id", a0."ConcurrencyStamp", a0."Name", a0."NormalizedName"
    FROM "AppRoleEndPoint" AS a
    INNER JOIN "AspNetRoles" AS a0 ON a."AppRolesId" = a0."Id"
) AS t0 ON t."Id" = t0."EndPointsId"
ORDER BY t."Id", t."Id0", t0."AppRolesId", t0."EndPointsId"
2024-11-17 00:42:44.191 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.AuthorizationEndpoint.GetRolesToEndpoint.GetRolesToEndpointQueryResponse'.
2024-11-17 00:42:44.221 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API) in 8166.3152ms
2024-11-17 00:42:44.225 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretServer.API)'
2024-11-17 00:42:44.246 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/AuthorizationEndpoints/GetRolesToEndpoint application/json 68 - 200 - application/json;+charset=utf-8 8521.9481ms
2024-11-17 02:05:33.866 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 02:05:34.229 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 02:05:34.230 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 02:05:34.232 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 02:05:34.233 +03:00 [INF] Hosting environment: Development
2024-11-17 02:05:34.234 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 02:05:47.497 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/AuthorizationEndpoints - -
2024-11-17 02:05:47.650 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-17 02:05:47.651 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-17 02:05:47.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/AuthorizationEndpoints - - - 405 0 - 166.3866ms
2024-11-17 02:05:58.670 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/ApplicationServices - -
2024-11-17 02:05:58.746 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 02:05:58.756 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 02:05:58.757 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/ApplicationServices - - - 401 0 - 87.4372ms
2024-11-17 02:06:29.230 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 02:06:29.239 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 02:06:29.304 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 02:06:30.614 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:06:35.045 +03:00 [ERR] An error occurred using the connection to database 'ETicaretAPIDb' on server ''.
2024-11-17 02:06:35.103 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretServer.Persistence.Contexts.ETicaretAPIDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (10061): Hedef makine etkin olarak reddettiğinden bağlantı kurulamadı.
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|203_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (10061): Hedef makine etkin olarak reddettiğinden bağlantı kurulamadı.
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|203_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-11-17 02:06:35.227 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 5916.8604ms
2024-11-17 02:06:35.231 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 02:06:35.255 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5432
 ---> System.Net.Sockets.SocketException (10061): Hedef makine etkin olarak reddettiğinden bağlantı kurulamadı.
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|203_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method33(Closure , QueryContext )
   at System.Linq.Queryable.Count[TSource](IQueryable`1 source)
   at ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\ProductsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 02:06:35.286 +03:00 [ERR] An exception has been raised that is likely due to a transient failure.
2024-11-17 02:06:35.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 500 - application/json 6095.0231ms
2024-11-17 02:06:35.653 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/favicon.ico - -
2024-11-17 02:06:35.658 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/favicon.ico - - - 404 0 - 5.1817ms
2024-11-17 02:06:53.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 02:06:53.335 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 02:06:53.336 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 02:06:53.368 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:06:53.662 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 02:06:53.761 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 02:06:53.762 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 02:06:53.983 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 02:06:54.006 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 02:06:54.041 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 703.257ms
2024-11-17 02:06:54.045 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 02:06:54.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 713.6561ms
2024-11-17 02:07:01.325 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 02:07:01.328 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 02:07:01.329 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 02:07:01.339 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:07:01.349 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 02:07:01.354 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretServer.Persistence.Contexts.ETicaretAPIDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: Kurulan bir bağlantı, ana makinenizdeki yazılım tarafından iptal edildi..
 ---> System.Net.Sockets.SocketException (10053): Kurulan bir bağlantı, ana makinenizdeki yazılım tarafından iptal edildi.
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|41_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: Kurulan bir bağlantı, ana makinenizdeki yazılım tarafından iptal edildi..
 ---> System.Net.Sockets.SocketException (10053): Kurulan bir bağlantı, ana makinenizdeki yazılım tarafından iptal edildi.
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|41_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-11-17 02:07:01.408 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 77.8285ms
2024-11-17 02:07:01.410 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 02:07:01.432 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: Kurulan bir bağlantı, ana makinenizdeki yazılım tarafından iptal edildi..
 ---> System.Net.Sockets.SocketException (10053): Kurulan bir bağlantı, ana makinenizdeki yazılım tarafından iptal edildi.
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|41_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|223_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method33(Closure , QueryContext )
   at System.Linq.Queryable.Count[TSource](IQueryable`1 source)
   at ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\ProductsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 02:07:01.442 +03:00 [ERR] An exception has been raised that is likely due to a transient failure.
2024-11-17 02:07:01.443 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 500 - application/json 118.3647ms
2024-11-17 02:07:10.763 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 02:07:10.766 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 02:07:10.767 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 02:07:10.769 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:07:10.784 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 02:07:10.790 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 02:07:10.793 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 02:07:10.794 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 25.1316ms
2024-11-17 02:07:10.795 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 02:07:10.796 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 32.9362ms
2024-11-17 02:27:37.993 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 02:27:38.274 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 02:27:38.277 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 02:27:38.280 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 02:27:38.281 +03:00 [INF] Hosting environment: Development
2024-11-17 02:27:38.282 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 02:28:06.933 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 02:28:07.017 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 02:28:07.056 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 02:28:08.395 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:28:08.890 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:28:09.202 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:28:09.219 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 02:28:09.353 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 02:28:09.403 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 02:28:09.437 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2374.2978ms
2024-11-17 02:28:09.439 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 02:28:09.459 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2528.7416ms
2024-11-17 02:28:11.425 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:28:11.534 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:28:11.542 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:28:11.552 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 02:28:11.566 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 22.7658ms
2024-11-17 02:28:11.567 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:28:11.569 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 400 - application/json;+charset=utf-8 143.7535ms
2024-11-17 02:28:36.844 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:28:36.848 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:28:36.849 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:28:36.851 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 02:28:36.852 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 2.1059ms
2024-11-17 02:28:36.854 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:28:36.855 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 400 - application/json;+charset=utf-8 10.6146ms
2024-11-17 02:28:47.106 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:28:47.108 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:28:47.109 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:28:47.111 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 02:28:47.112 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 1.7065ms
2024-11-17 02:28:47.113 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:28:47.115 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 400 - application/json;+charset=utf-8 8.7733ms
2024-11-17 02:29:17.561 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:29:17.563 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:29:17.567 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:29:17.638 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 68.7629ms
2024-11-17 02:29:17.639 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:29:17.661 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest.get_Pagination()
   at Microsoft.Extensions.Internal.PropertyHelper.CallNullSafePropertyGetter[TDeclaringType,TValue](Func`2 getter, Object target)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertyAsync(ModelBindingContext bindingContext, ModelMetadata property, IModelBinder propertyBinder, String fieldName, String modelName)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertiesAsync(ModelBindingContext bindingContext, Int32 propertyData, IReadOnlyList`1 boundProperties)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindModelCoreAsync(ModelBindingContext bindingContext, Int32 propertyData)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 02:29:17.721 +03:00 [ERR] Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
2024-11-17 02:29:17.727 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 500 - application/json 165.7379ms
2024-11-17 02:29:25.437 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:29:25.441 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:29:25.442 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:29:25.444 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 1.4297ms
2024-11-17 02:29:25.446 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:29:25.467 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest.get_Pagination()
   at Microsoft.Extensions.Internal.PropertyHelper.CallNullSafePropertyGetter[TDeclaringType,TValue](Func`2 getter, Object target)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertyAsync(ModelBindingContext bindingContext, ModelMetadata property, IModelBinder propertyBinder, String fieldName, String modelName)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertiesAsync(ModelBindingContext bindingContext, Int32 propertyData, IReadOnlyList`1 boundProperties)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindModelCoreAsync(ModelBindingContext bindingContext, Int32 propertyData)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 02:29:25.472 +03:00 [ERR] Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
2024-11-17 02:29:25.473 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 500 - application/json 35.7285ms
2024-11-17 02:29:50.903 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:29:50.905 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:29:50.906 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:29:50.909 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 1.4592ms
2024-11-17 02:29:50.910 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:29:50.932 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest.get_Pagination()
   at Microsoft.Extensions.Internal.PropertyHelper.CallNullSafePropertyGetter[TDeclaringType,TValue](Func`2 getter, Object target)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertyAsync(ModelBindingContext bindingContext, ModelMetadata property, IModelBinder propertyBinder, String fieldName, String modelName)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertiesAsync(ModelBindingContext bindingContext, Int32 propertyData, IReadOnlyList`1 boundProperties)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindModelCoreAsync(ModelBindingContext bindingContext, Int32 propertyData)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 02:29:50.938 +03:00 [ERR] Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
2024-11-17 02:29:50.939 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 500 - application/json 35.2797ms
2024-11-17 02:29:55.936 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-17 02:29:55.938 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-17 02:29:55.941 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-17 02:29:55.989 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:29:56.045 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2024-11-17 02:29:56.096 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 02:29:56.098 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 02:29:56.231 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName", CASE
    WHEN (c."Id" IS NOT NULL) THEN TRUE
    ELSE FALSE
END AS "Completed"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "ComplatedOrders" AS c ON t."Id" = c."OrderId"
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-17 02:29:56.240 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse'.
2024-11-17 02:29:56.257 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 313.8525ms
2024-11-17 02:29:56.258 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-17 02:29:56.260 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 323.3863ms
2024-11-17 02:30:01.527 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:30:01.528 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:30:01.529 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:30:01.532 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 1.7095ms
2024-11-17 02:30:01.534 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:30:01.573 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest.get_Pagination()
   at Microsoft.Extensions.Internal.PropertyHelper.CallNullSafePropertyGetter[TDeclaringType,TValue](Func`2 getter, Object target)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertyAsync(ModelBindingContext bindingContext, ModelMetadata property, IModelBinder propertyBinder, String fieldName, String modelName)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertiesAsync(ModelBindingContext bindingContext, Int32 propertyData, IReadOnlyList`1 boundProperties)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindModelCoreAsync(ModelBindingContext bindingContext, Int32 propertyData)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 02:30:01.579 +03:00 [ERR] Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
2024-11-17 02:30:01.580 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 500 - application/json 52.7040ms
2024-11-17 02:30:04.177 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:30:04.178 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:30:04.179 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:30:04.182 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 1.5741ms
2024-11-17 02:30:04.184 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:30:04.204 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
   at ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest.get_Pagination()
   at Microsoft.Extensions.Internal.PropertyHelper.CallNullSafePropertyGetter[TDeclaringType,TValue](Func`2 getter, Object target)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertyAsync(ModelBindingContext bindingContext, ModelMetadata property, IModelBinder propertyBinder, String fieldName, String modelName)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindPropertiesAsync(ModelBindingContext bindingContext, Int32 propertyData, IReadOnlyList`1 boundProperties)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinder.BindModelCoreAsync(ModelBindingContext bindingContext, Int32 propertyData)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 02:30:04.209 +03:00 [ERR] Attempted to invoke a deleted method implementation. This can happen when a method is deleted or its name or signature is changed while the application is running.
2024-11-17 02:30:04.210 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 500 - application/json 33.5409ms
2024-11-17 02:30:50.360 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 02:30:50.625 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 02:30:50.626 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 02:30:50.629 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 02:30:50.630 +03:00 [INF] Hosting environment: Development
2024-11-17 02:30:50.630 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 02:30:53.200 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 02:30:53.270 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 02:30:53.305 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 02:30:55.151 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:30:55.623 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:30:56.427 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:30:56.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 02:30:56.579 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 02:30:56.642 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 02:30:56.677 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 3366.7859ms
2024-11-17 02:30:56.681 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 02:30:56.707 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 3508.6010ms
2024-11-17 02:31:12.385 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:31:12.693 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:31:12.701 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:31:28.331 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:31:28.345 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 02:31:28.347 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 02:31:28.358 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
LIMIT @__p_0 OFFSET @__p_0
2024-11-17 02:31:28.392 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "AspNetUsers" AS a
2024-11-17 02:31:28.398 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryResponse'.
2024-11-17 02:31:28.407 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 15704.1265ms
2024-11-17 02:31:28.408 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:31:28.411 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 200 - application/json;+charset=utf-8 16026.4733ms
2024-11-17 02:31:45.876 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:31:45.880 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:31:45.885 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:31:47.584 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:31:47.587 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 02:31:47.588 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 02:31:47.639 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
LIMIT @__p_1 OFFSET @__p_0
2024-11-17 02:31:47.644 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "AspNetUsers" AS a
2024-11-17 02:31:47.646 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryResponse'.
2024-11-17 02:31:47.649 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 1762.565ms
2024-11-17 02:31:47.651 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:31:47.652 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 200 - application/json;+charset=utf-8 1776.3583ms
2024-11-17 02:46:21.126 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 02:46:21.363 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 02:46:21.364 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 02:46:21.367 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 02:46:21.367 +03:00 [INF] Hosting environment: Development
2024-11-17 02:46:21.368 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 02:46:24.571 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 02:46:24.640 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 02:46:24.675 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 02:46:25.923 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:46:26.358 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:46:26.641 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:46:26.657 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 02:46:26.783 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 02:46:26.833 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 02:46:26.863 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2181.963ms
2024-11-17 02:46:26.866 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 02:46:26.888 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2319.7488ms
2024-11-17 02:46:28.830 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88
2024-11-17 02:46:28.862 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 02:46:28.877 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 02:46:28.879 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88 - 401 0 - 48.3210ms
2024-11-17 02:46:34.669 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 02:46:34.673 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 02:46:34.674 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 02:46:34.720 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:46:34.725 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:46:34.733 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:46:34.736 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 02:46:34.740 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 02:46:34.744 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 02:46:34.746 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 70.2286ms
2024-11-17 02:46:34.746 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 02:46:34.747 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 78.0957ms
2024-11-17 02:46:37.000 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88
2024-11-17 02:46:37.003 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 02:46:37.003 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 02:46:37.004 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88 - 401 0 - 3.7517ms
2024-11-17 02:47:03.415 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 02:47:03.415 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 02:47:03.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 28.9274ms
2024-11-17 02:47:03.636 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 221.1069ms
2024-11-17 02:47:06.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 02:47:06.720 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 112.7601ms
2024-11-17 02:47:06.745 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 02:47:06.746 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.3153ms
2024-11-17 02:47:06.749 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 02:47:06.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 5.0191ms
2024-11-17 02:47:08.214 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 02:47:08.511 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 296.9775ms
2024-11-17 02:48:15.746 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Users/AssignRoleToUser application/json 89
2024-11-17 02:48:15.757 +03:00 [INF] CORS policy execution failed.
2024-11-17 02:48:15.758 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 02:48:15.835 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:48:15.839 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleToUser(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:48:15.853 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 02:48:15.865 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API) in 24.8608ms
2024-11-17 02:48:15.866 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:48:15.867 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Users/AssignRoleToUser application/json 89 - 400 - application/json;+charset=utf-8 121.1151ms
2024-11-17 02:48:29.209 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Users/AssignRoleToUser application/json 89
2024-11-17 02:48:29.210 +03:00 [INF] CORS policy execution failed.
2024-11-17 02:48:29.211 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 02:48:29.213 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:48:29.214 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleToUser(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:48:29.216 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 02:48:29.217 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API) in 1.9081ms
2024-11-17 02:48:29.218 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:48:29.220 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Users/AssignRoleToUser application/json 89 - 400 - application/json;+charset=utf-8 10.7274ms
2024-11-17 02:51:56.800 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/ApplicationServices - -
2024-11-17 02:51:56.805 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-17 02:51:56.808 +03:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndPoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndPoints() on controller ETicaretServer.API.Controllers.ApplicationServicesController (ETicaretServer.API).
2024-11-17 02:51:56.813 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.DTOs.Configurations.Menu, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 02:51:56.816 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API) in 6.8446ms
2024-11-17 02:51:56.817 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndPoints (ETicaretServer.API)'
2024-11-17 02:51:56.818 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/ApplicationServices - - - 200 - application/json;+charset=utf-8 18.1948ms
2024-11-17 02:52:51.685 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 02:52:51.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 16.6406ms
2024-11-17 02:52:51.738 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 02:52:51.740 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.4171ms
2024-11-17 02:52:51.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 02:52:51.770 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 8.4283ms
2024-11-17 02:52:51.950 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 02:52:51.997 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 47.3719ms
2024-11-17 02:52:56.414 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88
2024-11-17 02:52:56.416 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 02:52:56.417 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 02:52:56.418 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88 - 401 0 - 3.3710ms
2024-11-17 02:53:03.053 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 02:53:03.056 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 02:53:03.061 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 02:53:03.088 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:53:03.096 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:53:03.101 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:53:03.109 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 02:53:03.113 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 02:53:03.117 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 02:53:03.119 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 56.5881ms
2024-11-17 02:53:03.120 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 02:53:03.121 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 67.8118ms
2024-11-17 02:53:05.960 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/users application/json 148
2024-11-17 02:53:05.961 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:53:05.972 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:53:05.984 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:53:05.996 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 02:53:05.997 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 02:53:06.003 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
LIMIT @__p_1 OFFSET @__p_0
2024-11-17 02:53:06.037 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "AspNetUsers" AS a
2024-11-17 02:53:06.043 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.User.GetAllUsers.GetAllUsersQueryResponse'.
2024-11-17 02:53:06.045 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API) in 71.307ms
2024-11-17 02:53:06.047 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.GetAllUsers (ETicaretServer.API)'
2024-11-17 02:53:06.049 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/users application/json 148 - 200 - application/json;+charset=utf-8 88.7733ms
2024-11-17 02:53:08.475 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88
2024-11-17 02:53:08.478 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 02:53:08.478 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 02:53:08.479 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88 - 401 0 - 3.9553ms
2024-11-17 02:53:21.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/ApplicationServices - -
2024-11-17 02:53:21.247 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 02:53:21.247 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 02:53:21.249 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/ApplicationServices - - - 401 0 - 4.7106ms
2024-11-17 02:54:13.819 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/role-to-user application/json 88
2024-11-17 02:54:13.821 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/role-to-user application/json 88 - 404 0 - 1.5965ms
2024-11-17 02:54:55.837 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/assign-role-to-user application/json 88
2024-11-17 02:54:55.843 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/assign-role-to-user application/json 88 - 404 0 - 5.9220ms
2024-11-17 02:55:02.699 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 02:55:02.711 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 11.9740ms
2024-11-17 02:55:02.844 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 02:55:02.914 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 70.4077ms
2024-11-17 02:55:03.160 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 02:55:03.253 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 93.0224ms
2024-11-17 02:55:09.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 02:55:09.039 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 5.6585ms
2024-11-17 02:55:09.092 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 02:55:09.093 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.2241ms
2024-11-17 02:55:09.095 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 02:55:09.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 5.5142ms
2024-11-17 02:55:09.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 02:55:09.235 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 24.4861ms
2024-11-17 02:55:24.398 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Users/AssignRoleToUser application/json 1983
2024-11-17 02:55:24.399 +03:00 [INF] CORS policy execution failed.
2024-11-17 02:55:24.399 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 02:55:24.401 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 02:55:24.401 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 02:55:24.403 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Users/AssignRoleToUser application/json 1983 - 401 0 - 5.3037ms
2024-11-17 02:55:36.987 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88
2024-11-17 02:55:36.988 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 02:55:36.989 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 02:55:36.990 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88 - 401 0 - 3.2003ms
2024-11-17 02:55:57.506 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88
2024-11-17 02:55:57.507 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:55:57.511 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleToUser(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:55:57.514 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 02:55:57.516 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API) in 3.2592ms
2024-11-17 02:55:57.517 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:55:57.518 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88 - 400 - application/json;+charset=utf-8 11.7960ms
2024-11-17 02:56:26.864 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88
2024-11-17 02:56:26.866 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:56:26.867 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleToUser(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:56:26.869 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 02:56:26.870 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API) in 1.6284ms
2024-11-17 02:56:26.871 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:56:26.872 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88 - 400 - application/json;+charset=utf-8 8.2241ms
2024-11-17 02:57:36.988 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 02:57:36.997 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 8.3144ms
2024-11-17 02:57:37.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 02:57:37.037 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 02:57:37.039 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 2.0357ms
2024-11-17 02:57:37.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 5.0444ms
2024-11-17 02:57:37.188 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 02:57:37.221 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 32.3861ms
2024-11-17 02:57:38.949 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88
2024-11-17 02:57:38.950 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:57:38.954 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleToUser(ETicaretServer.Application.Features.Commands.AuthorizationEndpoint.AssignRoleEndpoint.AssignRoleEndpointRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:57:38.957 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 02:57:38.958 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API) in 2.4741ms
2024-11-17 02:57:38.959 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:57:38.960 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/AssignRoleToUser application/json 88 - 400 - application/json;+charset=utf-8 11.4599ms
2024-11-17 02:58:01.437 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 02:58:01.840 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 02:58:01.842 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 02:58:01.846 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 02:58:01.847 +03:00 [INF] Hosting environment: Development
2024-11-17 02:58:01.848 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 02:58:04.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 02:58:04.715 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 189.1821ms
2024-11-17 02:58:04.816 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 02:58:04.816 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 02:58:04.824 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 7.3570ms
2024-11-17 02:58:04.877 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.3762ms
2024-11-17 02:58:04.912 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 02:58:05.109 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "POST api/Users" for actions - ETicaretServer.API.Controllers.UsersController.CreateUser (ETicaretServer.API),ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-17 02:58:05.163 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 250.8192ms
2024-11-17 02:58:06.938 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 02:58:06.944 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 6.4887ms
2024-11-17 02:58:06.972 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 02:58:06.974 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 02:58:06.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.6909ms
2024-11-17 02:58:06.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.2607ms
2024-11-17 02:58:07.058 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 02:58:07.080 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "POST api/Users" for actions - ETicaretServer.API.Controllers.UsersController.CreateUser (ETicaretServer.API),ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-17 02:58:07.083 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 24.6678ms
2024-11-17 02:58:13.509 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 02:58:13.512 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 3.4163ms
2024-11-17 02:58:13.539 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 02:58:13.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 02:58:13.542 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.4947ms
2024-11-17 02:58:13.544 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4.9513ms
2024-11-17 02:58:13.606 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 02:58:13.629 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "POST api/Users" for actions - ETicaretServer.API.Controllers.UsersController.CreateUser (ETicaretServer.API),ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-11-17 02:58:13.632 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 26.8745ms
2024-11-17 02:58:25.828 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 02:58:25.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 8.0934ms
2024-11-17 02:58:25.877 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 02:58:25.878 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 02:58:25.880 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.8517ms
2024-11-17 02:58:25.885 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 8.1809ms
2024-11-17 02:58:25.946 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 02:58:26.029 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 82.9315ms
2024-11-17 02:58:37.178 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/users/assign-role-to-user application/json 88
2024-11-17 02:58:37.419 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:58:37.452 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignRoleToUser(ETicaretServer.Application.Features.Commands.AppUser.AssignRoleToUser.AssignRoleToUserCommandRequest) on controller ETicaretServer.API.Controllers.UsersController (ETicaretServer.API).
2024-11-17 02:59:02.078 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 02:59:02.574 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2024-11-17 02:59:02.823 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2024-11-17 02:59:12.435 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:59:12.451 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 02:59:12.583 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 02:59:17.799 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2024-11-17 02:59:17.836 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE (a."UserId" = @__p_0) AND (a."RoleId" = @__p_1)
LIMIT 1
2024-11-17 02:59:17.847 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2024-11-17 02:59:17.874 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2024-11-17 02:59:17.882 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE (a."UserId" = @__p_0) AND (a."RoleId" = @__p_1)
LIMIT 1
2024-11-17 02:59:17.886 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2024-11-17 02:59:17.890 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 02:59:17.894 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 02:59:17.916 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p21='?', @p4='?' (DbType = Int32), @p5='?', @p22='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Boolean), @p16='?', @p17='?' (DbType = DateTime), @p18='?', @p19='?' (DbType = Boolean), @p20='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p2, @p3);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p4, "ConcurrencyStamp" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "LockoutEnabled" = @p8, "LockoutEnd" = @p9, "NameSurname" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "PhoneNumber" = @p14, "PhoneNumberConfirmed" = @p15, "RefreshToken" = @p16, "RefreshTokenEndDate" = @p17, "SecurityStamp" = @p18, "TwoFactorEnabled" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22;
2024-11-17 02:59:25.419 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.AssignRoleToUser.AssignRoleToUserCommandResponse'.
2024-11-17 02:59:25.435 +03:00 [INF] Executed action ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API) in 47976.5954ms
2024-11-17 02:59:25.437 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.UsersController.AssignRoleToUser (ETicaretServer.API)'
2024-11-17 02:59:25.456 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/users/assign-role-to-user application/json 88 - 200 - application/json;+charset=utf-8 48277.9593ms
2024-11-17 15:28:12.471 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 15:28:12.880 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 15:28:12.881 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 15:28:12.884 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 15:28:12.885 +03:00 [INF] Hosting environment: Development
2024-11-17 15:28:12.886 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 15:28:20.878 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 15:28:21.093 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 218.2500ms
2024-11-17 15:28:21.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 15:28:21.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 15:28:21.221 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 7.3133ms
2024-11-17 15:28:21.295 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.8472ms
2024-11-17 15:28:23.957 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 15:28:24.250 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 292.7359ms
2024-11-17 15:28:34.022 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 15:28:34.062 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 15:28:34.072 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:28:34.826 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 15:28:36.067 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 15:28:36.414 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 15:28:36.501 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 15:28:36.503 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 15:28:36.728 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 15:28:36.749 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 15:28:36.783 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 1950.5833ms
2024-11-17 15:28:36.784 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:28:36.795 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 2772.6496ms
2024-11-17 15:38:32.536 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 15:38:32.544 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:38:32.547 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 15:38:32.593 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 15:38:32.617 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 15:38:32.626 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 15:38:32.629 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 15:38:32.632 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 73.3987ms
2024-11-17 15:38:32.633 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:38:32.634 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 98.2188ms
2024-11-17 15:48:21.944 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 15:48:22.251 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 15:48:22.252 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 15:48:22.255 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 15:48:22.256 +03:00 [INF] Hosting environment: Development
2024-11-17 15:48:22.256 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 15:48:24.373 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 15:48:24.638 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:48:25.187 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 15:48:27.009 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 15:48:27.406 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 15:48:27.506 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 15:48:27.507 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 15:48:27.739 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 15:48:27.764 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 15:48:27.826 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 2631.3812ms
2024-11-17 15:48:27.828 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:48:27.848 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 3484.0436ms
2024-11-17 15:48:32.274 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 15:48:32.277 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:48:32.283 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 15:48:32.322 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 15:48:32.325 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 15:48:32.330 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 15:48:32.332 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 15:48:32.334 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 42.4344ms
2024-11-17 15:48:32.335 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:48:32.336 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 62.0719ms
2024-11-17 15:49:17.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 15:49:17.362 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 90.9805ms
2024-11-17 15:49:17.398 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 15:49:17.408 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 15:49:17.416 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 11.0567ms
2024-11-17 15:49:17.472 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.4098ms
2024-11-17 15:49:17.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 15:49:17.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 221.1016ms
2024-11-17 15:49:40.046 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 15:49:40.055 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:49:40.063 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 15:49:40.073 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 15:49:40.077 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 15:49:40.081 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 15:49:40.083 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 15:49:40.084 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 18.6462ms
2024-11-17 15:49:40.085 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:49:40.086 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 39.4978ms
2024-11-17 15:50:04.169 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 15:50:04.170 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:50:04.171 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 15:50:04.174 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 15:50:04.177 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 15:50:04.183 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 15:50:04.188 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 15:50:04.189 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 15:50:04.189 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:50:04.190 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 17.8141ms
2024-11-17 15:50:04.191 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 15:50:04.192 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:50:04.194 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 15:50:04.195 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 26.0566ms
2024-11-17 15:50:04.198 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 15:50:04.201 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 15:50:04.204 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 15:50:04.205 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 11.2988ms
2024-11-17 15:50:04.206 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:50:04.207 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 18.9222ms
2024-11-17 15:50:18.295 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 15:50:18.297 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:50:18.299 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 15:50:18.302 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 15:50:18.307 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 15:50:18.312 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 15:50:18.316 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 15:50:18.317 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 16.9469ms
2024-11-17 15:50:18.319 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:50:18.320 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 25.0591ms
2024-11-17 15:54:59.206 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 15:54:59.219 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 15:54:59.220 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:54:59.221 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 15:54:59.223 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 15:54:59.239 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 15:54:59.245 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 15:54:59.248 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 15:54:59.250 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 27.3211ms
2024-11-17 15:54:59.251 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:54:59.251 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 45.7506ms
2024-11-17 15:57:52.160 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 15:57:52.401 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 15:57:52.401 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 15:57:52.404 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 15:57:52.405 +03:00 [INF] Hosting environment: Development
2024-11-17 15:57:52.405 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 15:58:02.796 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 15:58:03.004 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 212.4996ms
2024-11-17 15:58:03.031 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 15:58:03.031 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 15:58:03.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 6.7479ms
2024-11-17 15:58:03.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.3824ms
2024-11-17 15:58:03.201 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 15:58:03.472 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 271.6737ms
2024-11-17 15:58:08.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 15:58:08.706 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 15:58:08.714 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:58:08.962 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 15:58:10.143 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 15:58:10.515 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 15:58:10.679 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 1710.5001ms
2024-11-17 15:58:10.683 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 15:58:10.708 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'p.ProductImageFiles.AsQueryable().Select(pi => new <>f__AnonymousType1`2(Path = pi.Path, Showcase = pi.Showcase))' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see http://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|32_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\ProductsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 151
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 15:58:10.815 +03:00 [ERR] The expression 'p.ProductImageFiles.AsQueryable().Select(pi => new <>f__AnonymousType1`2(Path = pi.Path, Showcase = pi.Showcase))' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see http://go.microsoft.com/fwlink/?LinkID=746393.
2024-11-17 15:58:10.837 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 500 - application/json 2165.5826ms
2024-11-17 16:01:37.252 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 16:01:37.548 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 16:01:37.549 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 16:01:37.552 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 16:01:37.552 +03:00 [INF] Hosting environment: Development
2024-11-17 16:01:37.553 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 16:01:47.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 16:01:48.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 187.2992ms
2024-11-17 16:01:48.056 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 16:01:48.056 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 16:01:48.062 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.6921ms
2024-11-17 16:01:48.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 62.3092ms
2024-11-17 16:01:48.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 16:01:48.419 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 255.0470ms
2024-11-17 16:01:52.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 16:01:52.585 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:01:52.594 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:01:52.809 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:01:53.920 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:01:54.276 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:01:54.384 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:01:54.386 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:01:54.566 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Path", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Path", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId", t1."Id"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."Path", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:01:54.608 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretServer.Persistence.Contexts.ETicaretAPIDbContext'.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method40(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.<PopulateCollection>g__ProcessCurrentElementRow|65_1[TCollection,TElement,TRelatedEntity](<>c__DisplayClass65_0`3& )
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.PopulateCollection[TCollection,TElement,TRelatedEntity](Int32 collectionId, QueryContext queryContext, DbDataReader dbDataReader, SingleQueryResultCoordinator resultCoordinator, Func`3 parentIdentifier, Func`3 outerIdentifier, Func`3 selfIdentifier, IReadOnlyList`1 parentIdentifierValueComparers, IReadOnlyList`1 outerIdentifierValueComparers, IReadOnlyList`1 selfIdentifierValueComparers, Func`5 innerShaper)
   at lambda_method41(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method40(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.<PopulateCollection>g__ProcessCurrentElementRow|65_1[TCollection,TElement,TRelatedEntity](<>c__DisplayClass65_0`3& )
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.PopulateCollection[TCollection,TElement,TRelatedEntity](Int32 collectionId, QueryContext queryContext, DbDataReader dbDataReader, SingleQueryResultCoordinator resultCoordinator, Func`3 parentIdentifier, Func`3 outerIdentifier, Func`3 selfIdentifier, IReadOnlyList`1 parentIdentifierValueComparers, IReadOnlyList`1 outerIdentifierValueComparers, IReadOnlyList`1 selfIdentifierValueComparers, Func`5 innerShaper)
   at lambda_method41(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2024-11-17 16:01:54.696 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 1881.476ms
2024-11-17 16:01:54.699 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:01:54.719 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method40(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.<PopulateCollection>g__ProcessCurrentElementRow|65_1[TCollection,TElement,TRelatedEntity](<>c__DisplayClass65_0`3& )
   at Microsoft.EntityFrameworkCore.Query.RelationalShapedQueryCompilingExpressionVisitor.ShaperProcessingExpressionVisitor.PopulateCollection[TCollection,TElement,TRelatedEntity](Int32 collectionId, QueryContext queryContext, DbDataReader dbDataReader, SingleQueryResultCoordinator resultCoordinator, Func`3 parentIdentifier, Func`3 outerIdentifier, Func`3 selfIdentifier, IReadOnlyList`1 parentIdentifierValueComparers, IReadOnlyList`1 outerIdentifierValueComparers, IReadOnlyList`1 selfIdentifierValueComparers, Func`5 innerShaper)
   at lambda_method41(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\ProductsController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 151
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 16:01:54.744 +03:00 [ERR] Nullable object must have a value.
2024-11-17 16:01:54.762 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 500 - application/json 2205.8943ms
2024-11-17 16:02:28.868 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 16:02:29.141 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 16:02:29.142 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 16:02:29.146 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 16:02:29.146 +03:00 [INF] Hosting environment: Development
2024-11-17 16:02:29.147 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 16:02:30.125 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 16:02:30.219 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:02:30.228 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:02:30.439 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:02:31.519 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:02:31.841 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:02:31.920 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:02:31.921 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:02:32.131 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:02:32.153 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:02:32.215 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 1770.3005ms
2024-11-17 16:02:32.217 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:02:32.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 2108.1737ms
2024-11-17 16:14:02.274 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:14:02.278 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:14:02.280 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:14:02.327 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:14:02.345 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:14:02.352 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:14:02.355 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:14:02.359 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 64.2429ms
2024-11-17 16:14:02.360 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:14:02.361 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 86.5287ms
2024-11-17 16:16:08.600 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:16:08.607 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:16:08.615 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:16:08.624 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:16:08.627 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:16:08.631 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:16:08.635 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:16:08.637 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 20.6982ms
2024-11-17 16:16:08.638 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:16:08.639 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 38.4335ms
2024-11-17 16:16:58.423 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:16:58.424 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:16:58.425 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:16:58.427 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:16:58.431 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:16:58.436 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:16:58.438 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:16:58.439 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 12.4023ms
2024-11-17 16:16:58.441 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:16:58.442 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 19.0459ms
2024-11-17 16:16:58.546 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/resource/product-images/horse-11.jpg - -
2024-11-17 16:16:58.552 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:16:58.557 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/resource/product-images/horse-11.jpg - - - 404 0 - 11.1685ms
2024-11-17 16:17:00.859 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/resource/product-images/horse-11.jpg - -
2024-11-17 16:17:00.897 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:17:00.900 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/resource/product-images/horse-11.jpg - - - 404 0 - 40.8138ms
2024-11-17 16:17:41.313 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 16:17:41.320 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:17:41.321 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:17:41.322 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:17:41.325 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:17:41.328 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:17:41.331 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:17:41.333 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:17:41.335 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 10.9888ms
2024-11-17 16:17:41.336 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:17:41.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 23.7771ms
2024-11-17 16:17:48.188 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products/GetProductImages/15cdb3d0-3792-43d0-8a8d-2af5887e7949 - -
2024-11-17 16:17:48.190 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:17:48.191 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 16:17:48.195 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:17:48.201 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:17:48.294 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:17:48.452 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 16:17:48.455 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API) in 258.7186ms
2024-11-17 16:17:48.457 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 16:17:48.462 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products/GetProductImages/15cdb3d0-3792-43d0-8a8d-2af5887e7949 - - - 200 - application/json;+charset=utf-8 274.2423ms
2024-11-17 16:18:13.415 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:18:13.416 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:18:13.417 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:18:13.419 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:18:13.422 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:18:13.425 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:18:13.427 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:18:13.428 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 9.882ms
2024-11-17 16:18:13.430 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:18:13.431 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 16.0744ms
2024-11-17 16:18:16.545 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:18:16.546 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:18:16.548 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:18:16.550 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:18:16.552 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:18:16.556 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:18:16.558 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:18:16.559 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 9.6968ms
2024-11-17 16:18:16.560 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:18:16.561 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 16.3413ms
2024-11-17 16:18:55.350 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=0e13d966-b767-4fa1-b11d-8318b7ec47ff&ProductId=15cdb3d0-3792-43d0-8a8d-2af5887e7949 - 0
2024-11-17 16:18:55.361 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:18:55.362 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:18:55.365 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:18:55.890 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 16:18:55.899 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 16:18:55.901 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=0e13d966-b767-4fa1-b11d-8318b7ec47ff&ProductId=15cdb3d0-3792-43d0-8a8d-2af5887e7949 - 0 - 401 0 - 550.2750ms
2024-11-17 16:19:24.424 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Auth/Login application/json 56
2024-11-17 16:19:24.432 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:19:24.433 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:19:24.435 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:19:24.436 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 16:19:24.439 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 16:19:24.464 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:19:24.520 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 16:19:24.886 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 16:19:24.901 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 16:19:25.038 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 16:19:25.083 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 16:19:25.086 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 645.198ms
2024-11-17 16:19:25.087 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 16:19:25.089 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Auth/Login application/json 56 - 200 - application/json;+charset=utf-8 664.8543ms
2024-11-17 16:19:39.060 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=0e13d966-b767-4fa1-b11d-8318b7ec47ff&ProductId=15cdb3d0-3792-43d0-8a8d-2af5887e7949 - 0
2024-11-17 16:19:39.060 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:19:39.061 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:19:39.063 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:19:39.142 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API)'
2024-11-17 16:19:39.147 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ETicaretServer.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:19:39.158 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:19:39.195 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2024-11-17 16:19:39.211 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2024-11-17 16:19:39.233 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-11-17 16:19:39.234 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API) in 85.928ms
2024-11-17 16:19:39.235 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API)'
2024-11-17 16:19:39.237 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=0e13d966-b767-4fa1-b11d-8318b7ec47ff&ProductId=15cdb3d0-3792-43d0-8a8d-2af5887e7949 - 0 - 200 0 - 177.7755ms
2024-11-17 16:19:43.687 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:19:43.687 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:19:43.688 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:19:43.691 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:19:43.694 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:19:43.697 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:19:43.699 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:19:43.700 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 10.1086ms
2024-11-17 16:19:43.702 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:19:43.703 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 16.1415ms
2024-11-17 16:19:45.031 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:19:45.032 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:19:45.033 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:19:45.035 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:19:45.038 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:19:45.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:19:45.043 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:19:45.044 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 9.5265ms
2024-11-17 16:19:45.045 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:19:45.046 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 15.1646ms
2024-11-17 16:19:47.029 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:19:47.031 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:19:47.032 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:19:47.033 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:19:47.037 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:19:47.039 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:19:47.041 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:19:47.042 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 9.5954ms
2024-11-17 16:19:47.044 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:19:47.045 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 15.3158ms
2024-11-17 16:22:29.373 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/resource/product-images/horse-11.jpg - -
2024-11-17 16:22:29.394 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:22:29.395 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/resource/product-images/horse-11.jpg - - - 404 0 - 22.5424ms
2024-11-17 16:22:38.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/resource/product-images/horse-11.jpg - -
2024-11-17 16:22:38.678 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:22:38.679 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/resource/product-images/horse-11.jpg - - - 404 0 - 5.3552ms
2024-11-17 16:23:50.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 16:23:50.383 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 72.6866ms
2024-11-17 16:23:50.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 16:23:50.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 16:23:50.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 7.9259ms
2024-11-17 16:23:50.488 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 70.6226ms
2024-11-17 16:23:50.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 16:23:50.892 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 244.4831ms
2024-11-17 16:26:59.151 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 16:26:59.166 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 14.5437ms
2024-11-17 16:26:59.200 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 16:26:59.201 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 16:26:59.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.6070ms
2024-11-17 16:26:59.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 5.0997ms
2024-11-17 16:26:59.350 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 16:26:59.386 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 35.2761ms
2024-11-17 16:27:29.917 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 16:27:29.925 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:27:29.927 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:27:29.932 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:27:29.936 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:27:29.940 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:27:29.944 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:27:29.944 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:27:29.956 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:27:29.958 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:27:29.961 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 25.9374ms
2024-11-17 16:27:29.962 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:27:29.963 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 45.3619ms
2024-11-17 16:27:50.987 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Products/action?Id=be6c4382-594d-4c51-b41c-0258c44d444c multipart/form-data;+boundary=----WebKitFormBoundaryN17IdHltzPUyW9Al 2092118
2024-11-17 16:27:50.996 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:27:50.997 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:27:50.998 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:27:51.000 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 16:27:51.001 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 16:27:51.002 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Products/action?Id=be6c4382-594d-4c51-b41c-0258c44d444c multipart/form-data;+boundary=----WebKitFormBoundaryN17IdHltzPUyW9Al 2092118 - 401 0 - 14.9691ms
2024-11-17 16:27:51.007 +03:00 [INF] Connection id "0HN8710C04HLS", Request id "0HN8710C04HLS:00000001": the application completed without reading the entire request body.
2024-11-17 16:28:05.274 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Auth/Login application/json 56
2024-11-17 16:28:05.275 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:28:05.276 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:28:05.277 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:28:05.278 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 16:28:05.282 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 16:28:05.285 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:28:05.290 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 16:28:05.298 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 16:28:05.302 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 16:28:05.307 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 16:28:05.317 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 16:28:05.319 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 35.5226ms
2024-11-17 16:28:05.320 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 16:28:05.321 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Auth/Login application/json 56 - 200 - application/json;+charset=utf-8 48.0005ms
2024-11-17 16:28:15.992 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Products/action?Id=be6c4382-594d-4c51-b41c-0258c44d444c multipart/form-data;+boundary=----WebKitFormBoundarymSxlulgbAk15oKlN 2092118
2024-11-17 16:28:15.995 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:28:15.996 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:28:15.997 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:28:15.999 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 16:28:16.003 +03:00 [INF] Route matched with {action = "Upload", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ETicaretServer.Application.Features.Commands.ProductImageFile.UploadProductImage.UploadProductImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:28:16.121 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:28:16.127 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2024-11-17 16:28:16.218 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Files" ("Id", "CreatedDate", "Discriminator", "FileName", "Path", "Showcase", "Storage")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-11-17 16:28:16.226 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductProductImageFile" ("ProductImageFilesId", "ProductsId")
VALUES (@p7, @p8);
2024-11-17 16:28:16.230 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-17 16:28:16.232 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API) in 227.1398ms
2024-11-17 16:28:16.233 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 16:28:16.235 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Products/action?Id=be6c4382-594d-4c51-b41c-0258c44d444c multipart/form-data;+boundary=----WebKitFormBoundarymSxlulgbAk15oKlN 2092118 - 200 - text/plain;+charset=utf-8 243.1246ms
2024-11-17 16:31:24.136 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 16:31:24.415 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 16:31:24.416 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 16:31:24.421 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 16:31:24.421 +03:00 [INF] Hosting environment: Development
2024-11-17 16:31:24.422 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 16:31:53.285 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 16:31:53.657 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 16:31:53.658 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 16:31:53.661 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 16:31:53.661 +03:00 [INF] Hosting environment: Development
2024-11-17 16:31:53.662 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 16:32:15.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 16:32:15.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 179.2959ms
2024-11-17 16:32:15.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 16:32:15.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.0736ms
2024-11-17 16:32:15.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 16:32:15.590 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.0294ms
2024-11-17 16:32:15.681 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 16:32:15.924 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 243.9800ms
2024-11-17 16:32:28.107 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Auth/Login application/json 56
2024-11-17 16:32:28.117 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:32:28.118 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:32:28.138 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:32:28.145 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 16:32:28.327 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 16:32:29.520 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:32:30.013 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 16:32:30.340 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 16:32:30.355 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 16:32:30.488 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 16:32:30.549 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 16:32:30.569 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2235.433ms
2024-11-17 16:32:30.571 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 16:32:30.591 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Auth/Login application/json 56 - 200 - application/json;+charset=utf-8 2484.2823ms
2024-11-17 16:32:44.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 16:32:44.699 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:32:44.700 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:32:44.715 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:32:44.761 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:32:44.798 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:32:44.839 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:32:44.841 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:32:44.987 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:32:45.003 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:32:45.024 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 307.1924ms
2024-11-17 16:32:45.025 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:32:45.026 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 331.1492ms
2024-11-17 16:33:06.239 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Products/action?Id=f1b5e105-e6d7-400e-b0c2-7b8878dabc99 multipart/form-data;+boundary=----WebKitFormBoundaryCbzqWsK1jxVRcbpv 2092118
2024-11-17 16:33:06.241 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:33:06.242 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:33:06.245 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:33:06.351 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 16:33:06.360 +03:00 [INF] Route matched with {action = "Upload", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ETicaretServer.Application.Features.Commands.ProductImageFile.UploadProductImage.UploadProductImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:33:06.564 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:33:06.584 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2024-11-17 16:33:13.327 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Files" ("Id", "CreatedDate", "Discriminator", "FileName", "Path", "Showcase", "Storage")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-11-17 16:33:13.331 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductProductImageFile" ("ProductImageFilesId", "ProductsId")
VALUES (@p7, @p8);
2024-11-17 16:33:13.336 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-17 16:33:13.337 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API) in 6975.1261ms
2024-11-17 16:33:13.338 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 16:33:13.342 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Products/action?Id=f1b5e105-e6d7-400e-b0c2-7b8878dabc99 multipart/form-data;+boundary=----WebKitFormBoundaryCbzqWsK1jxVRcbpv 2092118 - 200 - text/plain;+charset=utf-8 7102.8720ms
2024-11-17 16:33:33.715 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 16:33:33.717 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:33:33.718 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:33:33.719 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:33:33.725 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:33:33.728 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:33:33.734 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:33:33.736 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:33:33.737 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 16.407ms
2024-11-17 16:33:33.739 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:33:33.740 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 24.9434ms
2024-11-17 16:33:52.831 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=d1b55e5c-c24c-42ff-bf58-424f389bffdd&ProductId=f1b5e105-e6d7-400e-b0c2-7b8878dabc99 - 0
2024-11-17 16:33:52.836 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:33:52.837 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:33:52.838 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:33:52.840 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API)'
2024-11-17 16:33:52.843 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ETicaretServer.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:33:52.849 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:33:52.909 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2024-11-17 16:33:52.929 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2024-11-17 16:33:52.940 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Files" SET "Showcase" = @p0
WHERE "Id" = @p1;
2024-11-17 16:33:52.949 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-11-17 16:33:52.950 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API) in 105.1555ms
2024-11-17 16:33:52.951 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API)'
2024-11-17 16:33:52.953 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=d1b55e5c-c24c-42ff-bf58-424f389bffdd&ProductId=f1b5e105-e6d7-400e-b0c2-7b8878dabc99 - 0 - 200 0 - 124.3837ms
2024-11-17 16:33:58.287 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:33:58.288 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:33:58.289 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:33:58.292 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:33:58.295 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:33:58.298 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:33:58.301 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:33:58.303 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 12.7061ms
2024-11-17 16:33:58.305 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:33:58.306 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 19.5444ms
2024-11-17 16:43:20.654 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 16:43:21.042 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 16:43:21.043 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 16:43:21.046 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 16:43:21.047 +03:00 [INF] Hosting environment: Development
2024-11-17 16:43:21.047 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 16:43:34.430 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Products/action?Id=f1b5e105-e6d7-400e-b0c2-7b8878dabc99 multipart/form-data;+boundary=----WebKitFormBoundaryFGYYJS3XypCWMlGr 477498
2024-11-17 16:43:34.509 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:43:34.510 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:43:34.540 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:43:34.804 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 16:43:35.081 +03:00 [INF] Route matched with {action = "Upload", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ETicaretServer.Application.Features.Commands.ProductImageFile.UploadProductImage.UploadProductImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:43:36.449 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:43:36.909 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2024-11-17 16:43:39.896 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Files" ("Id", "CreatedDate", "Discriminator", "FileName", "Path", "Showcase", "Storage")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-11-17 16:43:39.907 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductProductImageFile" ("ProductImageFilesId", "ProductsId")
VALUES (@p7, @p8);
2024-11-17 16:43:39.962 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-17 16:43:39.977 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API) in 4888.2284ms
2024-11-17 16:43:39.980 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 16:43:40.007 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Products/action?Id=f1b5e105-e6d7-400e-b0c2-7b8878dabc99 multipart/form-data;+boundary=----WebKitFormBoundaryFGYYJS3XypCWMlGr 477498 - 200 - text/plain;+charset=utf-8 5580.4813ms
2024-11-17 16:44:01.157 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:44:01.170 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:44:01.205 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:44:01.244 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:44:01.284 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:44:01.332 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:44:01.334 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:44:01.500 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:44:01.509 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:44:01.559 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 352.415ms
2024-11-17 16:44:01.560 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:44:01.561 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 404.5908ms
2024-11-17 16:44:15.820 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:44:15.822 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:44:15.830 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:44:15.839 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:44:15.844 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:44:15.851 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:44:15.854 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:44:15.855 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 22.9153ms
2024-11-17 16:44:15.856 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:44:15.857 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 37.5705ms
2024-11-17 16:44:18.442 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:44:18.443 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:44:18.445 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:44:18.448 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:44:18.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:44:18.454 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:44:18.456 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:44:18.457 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 11.1441ms
2024-11-17 16:44:18.458 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:44:18.460 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 17.5261ms
2024-11-17 16:44:52.017 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 16:44:52.133 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 116.5745ms
2024-11-17 16:44:52.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 16:44:52.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 16:44:52.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 39.8724ms
2024-11-17 16:44:52.265 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.7942ms
2024-11-17 16:44:52.390 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 16:44:52.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 282.1895ms
2024-11-17 16:45:04.625 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 16:45:04.627 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:45:04.630 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:45:04.635 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:45:04.638 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:45:04.640 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:45:04.641 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:45:04.649 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:45:04.651 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:45:04.655 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 23.2409ms
2024-11-17 16:45:04.656 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:45:04.657 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 31.9226ms
2024-11-17 16:47:34.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 16:47:34.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 12.1094ms
2024-11-17 16:47:34.753 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 16:47:34.753 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 16:47:34.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.2929ms
2024-11-17 16:47:34.768 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.4679ms
2024-11-17 16:47:34.839 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 16:47:34.868 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 29.4712ms
2024-11-17 16:47:43.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 16:47:43.598 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 2.8425ms
2024-11-17 16:47:43.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 16:47:43.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 16:47:43.635 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 2.2198ms
2024-11-17 16:47:43.637 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 4.7078ms
2024-11-17 16:47:43.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 16:47:43.752 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 34.9352ms
2024-11-17 16:47:51.181 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products - -
2024-11-17 16:47:51.183 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:47:51.184 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:47:51.188 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:47:51.191 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:47:51.195 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:47:51.198 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:47:51.198 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 16:47:51.207 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:47:51.209 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:47:51.212 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 21.9072ms
2024-11-17 16:47:51.213 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:47:51.214 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 32.6988ms
2024-11-17 16:48:09.667 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Products/action?Id=15cdb3d0-3792-43d0-8a8d-2af5887e7949 multipart/form-data;+boundary=----WebKitFormBoundarycZ6cmUPlePV7xfup 2092118
2024-11-17 16:48:09.679 +03:00 [INF] CORS policy execution failed.
2024-11-17 16:48:09.680 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 16:48:09.681 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:48:09.683 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 16:48:09.692 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 16:48:09.694 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Products/action?Id=15cdb3d0-3792-43d0-8a8d-2af5887e7949 multipart/form-data;+boundary=----WebKitFormBoundarycZ6cmUPlePV7xfup 2092118 - 401 0 - 26.9891ms
2024-11-17 16:48:09.698 +03:00 [INF] Connection id "0HN871NADC24E", Request id "0HN871NADC24E:00000013": the application completed without reading the entire request body.
2024-11-17 16:48:42.391 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 16:48:42.392 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 16:48:42.396 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 16:48:42.417 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:48:42.472 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 16:48:42.556 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 16:48:42.574 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 16:48:42.605 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 16:48:42.613 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 16:48:42.616 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 217.7068ms
2024-11-17 16:48:42.617 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 16:48:42.618 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 227.3747ms
2024-11-17 16:48:47.693 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - -
2024-11-17 16:48:47.694 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:48:47.695 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:48:47.698 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:48:47.702 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 16:48:47.708 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 16:48:47.710 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 16:48:47.711 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 14.9358ms
2024-11-17 16:48:47.712 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 16:48:47.713 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - - - 200 - application/json;+charset=utf-8 20.1663ms
2024-11-17 16:55:16.881 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 16:55:16.882 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.3676ms
2024-11-17 16:55:16.924 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 16:55:16.932 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 7.7402ms
2024-11-17 16:55:17.105 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 16:55:17.131 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 26.3849ms
2024-11-17 16:56:16.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products/GetProductImages/asd - -
2024-11-17 16:56:16.944 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 16:56:16.945 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 16:56:16.949 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 16:56:16.955 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 16:56:17.085 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API) in 135.1034ms
2024-11-17 16:56:17.088 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 16:56:17.108 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseExactN(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at System.Linq.Expressions.BinaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at System.Linq.Expressions.Expression`1.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryHandler.Handle(GetProductImagesQueryRequest request, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.ProductsController.GetProductImages(GetProductImagesQueryRequest getProductImagesQueryRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\ProductsController.cs:line 91
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 151
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 16:56:17.523 +03:00 [ERR] An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
2024-11-17 16:56:17.527 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products/GetProductImages/asd - - - 500 - application/json 593.1199ms
2024-11-17 17:00:29.767 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - -
2024-11-17 17:00:29.769 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:00:29.770 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:00:29.771 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:00:29.787 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:00:29.794 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:00:29.796 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:00:29.797 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 26.1754ms
2024-11-17 17:00:29.798 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:00:29.799 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - - - 200 - application/json;+charset=utf-8 31.8813ms
2024-11-17 17:00:40.500 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api//Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------222029126131723420670554 694964
2024-11-17 17:00:40.502 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api//Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------222029126131723420670554 694964 - 404 0 - 1.9630ms
2024-11-17 17:00:40.509 +03:00 [INF] Connection id "0HN871NADC24L", Request id "0HN871NADC24L:00000003": the application completed without reading the entire request body.
2024-11-17 17:00:49.883 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 17:00:49.890 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 7.9444ms
2024-11-17 17:00:49.927 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 17:00:49.928 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.1171ms
2024-11-17 17:00:49.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 17:00:49.953 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.1178ms
2024-11-17 17:00:50.124 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 17:00:50.150 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 26.8689ms
2024-11-17 17:00:57.930 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - -
2024-11-17 17:00:57.933 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:00:57.934 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:00:57.936 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:00:57.938 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:00:57.984 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:00:57.991 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 17:00:57.992 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API) in 55.3424ms
2024-11-17 17:00:57.993 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:00:57.994 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - - - 200 - application/json;+charset=utf-8 64.0962ms
2024-11-17 17:01:19.495 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Products/action?Id=asd multipart/form-data;+boundary=----WebKitFormBoundaryiXckoIDzEtIpAASp 44
2024-11-17 17:01:19.496 +03:00 [INF] CORS policy execution failed.
2024-11-17 17:01:19.497 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 17:01:19.499 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:01:19.501 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 17:01:19.503 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 17:01:19.504 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Products/action?Id=asd multipart/form-data;+boundary=----WebKitFormBoundaryiXckoIDzEtIpAASp 44 - 401 0 - 8.4631ms
2024-11-17 17:01:32.714 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api//Products/action/?id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------949825506245940569721442 694964
2024-11-17 17:01:32.715 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api//Products/action/?id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------949825506245940569721442 694964 - 404 0 - 1.2340ms
2024-11-17 17:01:32.716 +03:00 [INF] Connection id "0HN871NADC24N", Request id "0HN871NADC24N:00000002": the application completed without reading the entire request body.
2024-11-17 17:01:43.130 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7091/api/Products/action?Id=asd multipart/form-data;+boundary=----WebKitFormBoundarya8QpZ7bI3QZQpda7 694941
2024-11-17 17:01:43.131 +03:00 [INF] CORS policy execution failed.
2024-11-17 17:01:43.132 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 17:01:43.133 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:01:43.134 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 17:01:43.135 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 17:01:43.136 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7091/api/Products/action?Id=asd multipart/form-data;+boundary=----WebKitFormBoundarya8QpZ7bI3QZQpda7 694941 - 401 0 - 5.9524ms
2024-11-17 17:01:43.137 +03:00 [INF] Connection id "0HN871NADC24J", Request id "0HN871NADC24J:0000000F": the application completed without reading the entire request body.
2024-11-17 17:01:53.047 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api//Products/action?id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------220383813176075790398708 694964
2024-11-17 17:01:53.048 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api//Products/action?id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------220383813176075790398708 694964 - 404 0 - 1.5946ms
2024-11-17 17:01:53.049 +03:00 [INF] Connection id "0HN871NADC24P", Request id "0HN871NADC24P:00000002": the application completed without reading the entire request body.
2024-11-17 17:02:31.269 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api//Products/action?id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------882142009768887302428686 694964
2024-11-17 17:02:31.273 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api//Products/action?id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------882142009768887302428686 694964 - 404 0 - 3.6852ms
2024-11-17 17:02:31.274 +03:00 [INF] Connection id "0HN871NADC24P", Request id "0HN871NADC24P:00000003": the application completed without reading the entire request body.
2024-11-17 17:03:26.348 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/Products/action?Id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------861117787843839791340371 694964
2024-11-17 17:03:26.353 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 17:03:26.357 +03:00 [INF] Route matched with {action = "Upload", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ETicaretServer.Application.Features.Commands.ProductImageFile.UploadProductImage.UploadProductImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:03:26.385 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 17:03:26.396 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API) in 37.371ms
2024-11-17 17:03:26.397 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 17:03:26.406 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/Products/action?Id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------861117787843839791340371 694964 - 400 - application/json;+charset=utf-8 58.6261ms
2024-11-17 17:03:45.613 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/Products/action?Id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------396545086114684135945730 694965
2024-11-17 17:03:45.619 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-11-17 17:03:45.974 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2024-11-17 17:03:45.975 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 17:03:45.977 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 17:03:45.978 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/Products/action?Id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------396545086114684135945730 694965 - 401 0 - 365.0855ms
2024-11-17 17:03:45.979 +03:00 [INF] Connection id "0HN871NADC24P", Request id "0HN871NADC24P:00000005": the application completed without reading the entire request body.
2024-11-17 17:03:49.322 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 17:03:49.324 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 17:03:49.325 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 17:03:49.327 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:03:49.332 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 17:03:49.338 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 17:03:49.345 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 17:03:49.350 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 17:03:49.354 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 17:03:49.355 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 28.8112ms
2024-11-17 17:03:49.356 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 17:03:49.357 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 35.2759ms
2024-11-17 17:03:51.583 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/Products/action?Id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------610206553662367975948217 694965
2024-11-17 17:03:51.585 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 17:03:51.586 +03:00 [INF] Route matched with {action = "Upload", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ETicaretServer.Application.Features.Commands.ProductImageFile.UploadProductImage.UploadProductImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:04:03.694 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:04:03.701 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2024-11-17 17:04:06.247 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Files" ("Id", "CreatedDate", "Discriminator", "FileName", "Path", "Showcase", "Storage")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-11-17 17:04:06.252 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductProductImageFile" ("ProductImageFilesId", "ProductsId")
VALUES (@p7, @p8);
2024-11-17 17:04:06.262 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-17 17:04:06.264 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API) in 14676.3222ms
2024-11-17 17:04:06.265 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 17:04:06.266 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/Products/action?Id=06ade405-5630-4964-b982-d555cf5252d9 multipart/form-data;+boundary=--------------------------610206553662367975948217 694965 - 200 - text/plain;+charset=utf-8 14683.8719ms
2024-11-17 17:04:30.937 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - -
2024-11-17 17:04:30.939 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:04:30.940 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:04:30.942 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:04:30.945 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:04:30.950 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:04:30.961 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 17:04:30.963 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API) in 19.2516ms
2024-11-17 17:04:30.963 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:04:30.964 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - - - 200 - application/json;+charset=utf-8 27.3387ms
2024-11-17 17:05:08.190 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api//Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - -
2024-11-17 17:05:08.191 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api//Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - - - 404 0 - 1.0634ms
2024-11-17 17:05:18.579 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - -
2024-11-17 17:05:18.580 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:05:18.582 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:05:18.584 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:05:18.592 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:05:18.595 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 17:05:18.596 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API) in 12.9503ms
2024-11-17 17:05:18.597 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:05:18.598 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - - - 200 - application/json;+charset=utf-8 19.0317ms
2024-11-17 17:06:37.843 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 17:06:37.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 12.6926ms
2024-11-17 17:06:37.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 17:06:37.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 17:06:37.900 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 6.7930ms
2024-11-17 17:06:37.902 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.0639ms
2024-11-17 17:06:38.111 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 17:06:38.141 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 29.9070ms
2024-11-17 17:07:48.900 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - -
2024-11-17 17:07:48.902 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:07:48.905 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:07:48.907 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:07:48.925 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:07:48.928 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 17:07:48.929 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API) in 22.6784ms
2024-11-17 17:07:48.931 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:07:48.932 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - - - 200 - application/json;+charset=utf-8 31.3071ms
2024-11-17 17:08:06.398 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - -
2024-11-17 17:08:06.402 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:08:06.403 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:08:06.405 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:08:06.415 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:08:06.418 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 17:08:06.419 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API) in 14.6647ms
2024-11-17 17:08:06.420 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:08:06.421 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - - - 200 - application/json;+charset=utf-8 23.6152ms
2024-11-17 17:08:30.887 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 17:08:31.190 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 17:08:31.191 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 17:08:31.194 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 17:08:31.194 +03:00 [INF] Hosting environment: Development
2024-11-17 17:08:31.195 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 17:08:53.749 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - -
2024-11-17 17:08:53.841 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:08:54.430 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:08:55.602 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:08:56.279 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:08:56.471 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.ProductImageFile.GetProductImage.GetProductImagesQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-17 17:08:56.504 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API) in 2068.4395ms
2024-11-17 17:08:56.507 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.GetProductImages (ETicaretServer.API)'
2024-11-17 17:08:56.526 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products/GetProductImages/06ade405-5630-4964-b982-d555cf5252d9 - - - 200 - application/json;+charset=utf-8 2779.7849ms
2024-11-17 17:09:02.104 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - -
2024-11-17 17:09:02.107 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:09:02.133 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:09:02.177 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:09:02.208 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:09:02.224 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 17:09:02.225 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 17:09:02.242 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:09:02.248 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:09:02.275 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 140.6131ms
2024-11-17 17:09:02.276 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:09:02.277 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - - - 200 - application/json;+charset=utf-8 173.8809ms
2024-11-17 17:09:19.242 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/Products/action?Id=15cdb3d0-3792-43d0-8a8d-2af5887e7949 multipart/form-data;+boundary=--------------------------106199622894458718730046 424560
2024-11-17 17:09:19.844 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 17:09:19.855 +03:00 [INF] Route matched with {action = "Upload", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ETicaretServer.Application.Features.Commands.ProductImageFile.UploadProductImage.UploadProductImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:09:22.929 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:09:22.936 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2024-11-17 17:09:25.166 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Files" ("Id", "CreatedDate", "Discriminator", "FileName", "Path", "Showcase", "Storage")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-11-17 17:09:25.176 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductProductImageFile" ("ProductImageFilesId", "ProductsId")
VALUES (@p7, @p8);
2024-11-17 17:09:25.217 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-17 17:09:25.219 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API) in 5362.7207ms
2024-11-17 17:09:25.220 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Upload (ETicaretServer.API)'
2024-11-17 17:09:25.223 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/Products/action?Id=15cdb3d0-3792-43d0-8a8d-2af5887e7949 multipart/form-data;+boundary=--------------------------106199622894458718730046 424560 - 200 - text/plain;+charset=utf-8 5980.9078ms
2024-11-17 17:09:31.202 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - -
2024-11-17 17:09:31.203 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:09:31.204 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:09:31.206 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:09:31.210 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:09:31.215 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:09:31.217 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:09:31.218 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 12.9721ms
2024-11-17 17:09:31.219 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:09:31.220 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - - - 200 - application/json;+charset=utf-8 18.2250ms
2024-11-17 17:11:16.790 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 17:11:17.132 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 17:11:17.133 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 17:11:17.136 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 17:11:17.136 +03:00 [INF] Hosting environment: Development
2024-11-17 17:11:17.137 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 17:11:18.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 17:11:18.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 186.5228ms
2024-11-17 17:11:18.222 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 17:11:18.222 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 17:11:18.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 6.0323ms
2024-11-17 17:11:18.278 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.3463ms
2024-11-17 17:11:18.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 17:11:18.655 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 242.9234ms
2024-11-17 17:11:26.304 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage - -
2024-11-17 17:11:26.312 +03:00 [INF] CORS policy execution failed.
2024-11-17 17:11:26.313 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 17:11:26.334 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:11:26.407 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 17:11:26.416 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 17:11:26.421 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage - - - 401 0 - 116.5911ms
2024-11-17 17:12:19.874 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/Products/DeleteProductImage/asdsa/asdasd - -
2024-11-17 17:12:19.883 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/Products/DeleteProductImage/asdsa/asdasd - - - 404 0 - 9.7999ms
2024-11-17 17:12:27.887 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/Products/DeleteProductImage - -
2024-11-17 17:12:28.061 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.DeleteProductImage (ETicaretServer.API)'
2024-11-17 17:12:28.263 +03:00 [INF] Route matched with {action = "DeleteProductImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteProductImage(ETicaretServer.Application.Features.Commands.ProductImageFile.RemoveProductImage.RemoveProductImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:12:28.307 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-11-17 17:12:28.336 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.DeleteProductImage (ETicaretServer.API) in 67.643ms
2024-11-17 17:12:28.340 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.DeleteProductImage (ETicaretServer.API)'
2024-11-17 17:12:28.344 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/Products/DeleteProductImage - - - 400 - application/json;+charset=utf-8 457.7151ms
2024-11-17 17:13:00.220 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/Products/DeleteProductImage/asdasd/asdada - -
2024-11-17 17:13:00.221 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/Products/DeleteProductImage/asdasd/asdada - - - 404 0 - 1.2315ms
2024-11-17 17:13:13.894 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 17:13:13.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 21.2424ms
2024-11-17 17:13:13.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 17:13:13.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 17:13:13.961 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.9602ms
2024-11-17 17:13:13.976 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.4029ms
2024-11-17 17:13:14.059 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 17:13:14.103 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.9828ms
2024-11-17 17:13:24.326 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage - -
2024-11-17 17:13:24.329 +03:00 [INF] CORS policy execution failed.
2024-11-17 17:13:24.329 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 17:13:24.331 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:13:24.333 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 17:13:24.334 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 17:13:24.335 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage - - - 401 0 - 8.8186ms
2024-11-17 17:13:44.488 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-17 17:13:44.738 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-17 17:13:44.739 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-17 17:13:44.742 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-17 17:13:44.742 +03:00 [INF] Hosting environment: Development
2024-11-17 17:13:44.743 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-17 17:13:51.381 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage - -
2024-11-17 17:13:51.444 +03:00 [INF] CORS policy execution failed.
2024-11-17 17:13:51.445 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 17:13:51.469 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:13:51.530 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 17:13:51.539 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 17:13:51.550 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage - - - 401 0 - 170.8249ms
2024-11-17 17:13:56.104 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-17 17:13:56.115 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 17:13:56.346 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-17 17:13:57.550 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:13:58.036 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 17:13:58.324 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-17 17:13:58.341 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-17 17:13:58.492 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-17 17:13:58.549 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-17 17:13:58.579 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2225.6558ms
2024-11-17 17:13:58.581 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-17 17:13:58.597 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2493.4286ms
2024-11-17 17:14:09.880 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage - -
2024-11-17 17:14:09.887 +03:00 [INF] CORS policy execution failed.
2024-11-17 17:14:09.888 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 17:14:09.890 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:14:09.972 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Delete (ETicaretServer.API)'
2024-11-17 17:14:09.993 +03:00 [INF] Route matched with {action = "Delete", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(ETicaretServer.Application.Features.Commands.Product.RemoveProduct.RemoveProductCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:14:10.045 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:14:10.182 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Delete (ETicaretServer.API) in 187.0684ms
2024-11-17 17:14:10.184 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Delete (ETicaretServer.API)'
2024-11-17 17:14:10.205 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseExactN(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at System.Linq.Expressions.BinaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at System.Linq.Expressions.Expression`1.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at ETicaretServer.Persistence.Repositories.WriteRepository`1.RemoveAsync(String id) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Repositories\WriteRepository.cs:line 0
   at ETicaretServer.Application.Features.Commands.Product.RemoveProduct.RemoveProductCommandHandler.Handle(RemoveProductCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Product\RemoveProduct\RemoveProductCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.ProductsController.Delete(RemoveProductCommandRequest removeProductCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\ProductsController.cs:line 72
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 151
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-17 17:14:10.283 +03:00 [ERR] An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
2024-11-17 17:14:10.296 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage - - - 500 - application/json 415.2496ms
2024-11-17 17:14:16.484 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 17:14:16.589 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 105.0240ms
2024-11-17 17:14:16.619 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 17:14:16.620 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 17:14:16.625 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.0020ms
2024-11-17 17:14:16.679 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.0437ms
2024-11-17 17:14:16.780 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 17:14:17.007 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 227.5471ms
2024-11-17 17:14:29.508 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage/asd?imageId=asdsad - -
2024-11-17 17:14:29.509 +03:00 [INF] CORS policy execution failed.
2024-11-17 17:14:29.509 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 17:14:29.511 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:14:29.513 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 17:14:29.513 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 17:14:29.514 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage/asd?imageId=asdsad - - - 401 0 - 6.8539ms
2024-11-17 17:15:08.690 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage/asd?imageId=asdsad - -
2024-11-17 17:15:08.695 +03:00 [INF] CORS policy execution failed.
2024-11-17 17:15:08.697 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 17:15:08.698 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:15:08.699 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 17:15:08.700 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 17:15:08.701 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7091/api/Products/DeleteProductImage/asd?imageId=asdsad - - - 401 0 - 10.9740ms
2024-11-17 17:15:35.930 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 17:15:35.941 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 11.6474ms
2024-11-17 17:15:36.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 17:15:36.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 17:15:36.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.9292ms
2024-11-17 17:15:36.110 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.4900ms
2024-11-17 17:15:36.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 17:15:36.250 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 41.6599ms
2024-11-17 17:15:57.497 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=asdas&ProductId=adsd - 0
2024-11-17 17:15:57.502 +03:00 [INF] CORS policy execution failed.
2024-11-17 17:15:57.503 +03:00 [INF] Request origin https://localhost:7091 does not have permission to access the resource.
2024-11-17 17:15:57.504 +03:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2024-11-17 17:15:57.505 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-17 17:15:57.506 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-17 17:15:57.507 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=asdas&ProductId=adsd - 0 - 401 0 - 9.9210ms
2024-11-17 17:16:51.688 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - -
2024-11-17 17:16:51.690 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:16:51.700 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:16:51.721 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:16:51.756 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:16:51.796 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 17:16:51.798 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 17:16:51.941 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:16:51.954 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:16:51.969 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 267.0339ms
2024-11-17 17:16:51.970 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:16:51.971 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - - - 200 - application/json;+charset=utf-8 283.0921ms
2024-11-17 17:17:04.215 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=218c89e6-b4d1-4efe-a014-be6dac1279b3&ProductId=06ade405-5630-4964-b982-d555cf5252d9 - 0
2024-11-17 17:17:04.216 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API)'
2024-11-17 17:17:04.220 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ETicaretServer.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:17:04.228 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:17:04.287 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2024-11-17 17:17:04.305 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2024-11-17 17:17:04.394 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Files" SET "Showcase" = @p0
WHERE "Id" = @p1;
2024-11-17 17:17:04.404 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-11-17 17:17:04.405 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API) in 183.3071ms
2024-11-17 17:17:04.406 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API)'
2024-11-17 17:17:04.408 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=218c89e6-b4d1-4efe-a014-be6dac1279b3&ProductId=06ade405-5630-4964-b982-d555cf5252d9 - 0 - 200 0 - 193.3196ms
2024-11-17 17:17:06.999 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - -
2024-11-17 17:17:07.000 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:17:07.001 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:17:07.004 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:17:07.008 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:17:07.014 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:17:07.016 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:17:07.018 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 14.7452ms
2024-11-17 17:17:07.019 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:17:07.020 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - - - 200 - application/json;+charset=utf-8 21.3069ms
2024-11-17 17:17:26.374 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:17:26.375 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:17:26.377 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:17:26.380 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:17:26.383 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:17:26.387 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:17:26.391 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:17:26.392 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 13.9648ms
2024-11-17 17:17:26.393 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:17:26.394 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 19.8970ms
2024-11-17 17:17:32.100 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:17:32.102 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:17:32.103 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:17:32.105 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:17:32.108 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:17:32.112 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:17:32.114 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:17:32.115 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 10.7709ms
2024-11-17 17:17:32.117 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:17:32.118 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 17.4740ms
2024-11-17 17:17:42.221 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:17:42.222 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:17:42.224 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:17:42.226 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:17:42.229 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:17:42.232 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:17:42.234 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:17:42.235 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 9.1922ms
2024-11-17 17:17:42.236 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:17:42.237 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 16.0016ms
2024-11-17 17:17:48.476 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=218c89e6-b4d1-4efe-a014-be6dac1279b3&ProductId=06ade405-5630-4964-b982-d555cf5252d9 - 0
2024-11-17 17:17:48.477 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API)'
2024-11-17 17:17:48.479 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ETicaretServer.Application.Features.Commands.ProductImageFile.ChangeShowcaseImage.ChangeShowcaseImageCommandRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:17:48.481 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:17:48.488 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2024-11-17 17:17:48.498 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2024-11-17 17:17:48.501 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-11-17 17:17:48.502 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API) in 20.8099ms
2024-11-17 17:17:48.503 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.ChangeShowcaseImage (ETicaretServer.API)'
2024-11-17 17:17:48.504 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/Products/ChangeShowcaseImage?ImageId=218c89e6-b4d1-4efe-a014-be6dac1279b3&ProductId=06ade405-5630-4964-b982-d555cf5252d9 - 0 - 200 0 - 28.0896ms
2024-11-17 17:17:50.541 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - -
2024-11-17 17:17:50.542 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:17:50.543 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:17:50.546 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:17:50.549 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:17:50.554 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:17:50.556 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:17:50.557 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 11.9171ms
2024-11-17 17:17:50.558 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:17:50.559 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?page=0&size=10 - - - 200 - application/json;+charset=utf-8 18.0508ms
2024-11-17 17:18:29.207 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:18:29.209 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:18:29.210 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:18:29.213 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:18:29.217 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:18:29.222 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:18:29.224 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:18:29.226 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 13.2474ms
2024-11-17 17:18:29.227 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:18:29.228 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 20.6067ms
2024-11-17 17:18:32.478 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:18:32.480 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:18:32.481 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:18:32.485 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:18:32.488 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:18:32.491 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:18:32.493 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:18:32.495 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 10.2007ms
2024-11-17 17:18:32.496 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:18:32.497 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 18.9988ms
2024-11-17 17:18:44.856 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:18:44.857 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:18:44.858 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:18:44.861 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:18:44.864 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:18:44.868 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:18:44.870 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:18:44.872 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 11.5047ms
2024-11-17 17:18:44.873 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:18:44.874 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 18.0748ms
2024-11-17 17:19:02.071 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:19:02.072 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:19:02.073 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:19:02.075 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:19:02.078 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:19:02.082 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:19:02.084 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:19:02.085 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 11.034ms
2024-11-17 17:19:02.087 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:19:02.088 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 16.4967ms
2024-11-17 17:19:37.843 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:19:37.849 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:19:37.850 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:19:37.853 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:19:37.857 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:19:37.861 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:19:37.864 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:19:37.866 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 13.7242ms
2024-11-17 17:19:37.867 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:19:37.868 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 25.8968ms
2024-11-17 17:19:40.613 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:19:40.614 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:19:40.616 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:19:40.617 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:19:40.620 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:19:40.623 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:19:40.625 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:19:40.627 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 9.9162ms
2024-11-17 17:19:40.628 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:19:40.629 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 16.3227ms
2024-11-17 17:19:48.075 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:19:48.076 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:19:48.078 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:19:48.080 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:19:48.084 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:19:48.089 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:19:48.091 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:19:48.093 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 13.3484ms
2024-11-17 17:19:48.094 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:19:48.095 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 20.4796ms
2024-11-17 17:21:14.644 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:21:14.646 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:21:14.647 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:21:14.649 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:21:14.652 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:21:14.656 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:21:14.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:21:14.660 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 11.2664ms
2024-11-17 17:21:14.661 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:21:14.662 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 17.6807ms
2024-11-17 17:21:39.603 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:21:39.604 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:21:39.606 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:21:39.608 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:21:39.612 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:21:39.616 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:21:39.619 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:21:39.620 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 13.0911ms
2024-11-17 17:21:39.621 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:21:39.622 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 19.4926ms
2024-11-17 17:24:01.405 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:24:01.406 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:24:01.408 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:24:01.410 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:24:01.422 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:24:01.427 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:24:01.429 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:24:01.430 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 20.8969ms
2024-11-17 17:24:01.431 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:24:01.432 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 27.2472ms
2024-11-17 17:24:14.095 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:24:14.096 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:24:14.097 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:24:14.099 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:24:14.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:24:14.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:24:14.107 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:24:14.109 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 9.8502ms
2024-11-17 17:24:14.110 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:24:14.111 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 15.5603ms
2024-11-17 17:24:41.715 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-17 17:24:41.725 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 10.0453ms
2024-11-17 17:24:41.766 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-17 17:24:41.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-17 17:24:41.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 1.3865ms
2024-11-17 17:24:41.773 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 6.4029ms
2024-11-17 17:24:41.952 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-17 17:24:41.992 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 39.9378ms
2024-11-17 17:24:43.407 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:24:43.408 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:24:43.412 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:24:43.414 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:24:43.417 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:24:43.420 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 17:24:43.421 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-17 17:24:43.430 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:24:43.431 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:24:43.435 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 21.2787ms
2024-11-17 17:24:43.436 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:24:43.437 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 30.4669ms
2024-11-17 17:25:11.028 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:25:11.031 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:25:11.032 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:25:11.034 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:25:11.038 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:25:11.042 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:25:11.045 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:25:11.046 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 12.5587ms
2024-11-17 17:25:11.048 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:25:11.050 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 21.9837ms
2024-11-17 17:25:33.747 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/Products - -
2024-11-17 17:25:33.748 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:25:33.750 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-17 17:25:33.752 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-17 17:25:33.756 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-17 17:25:33.759 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2024-11-17 17:25:33.761 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-17 17:25:33.763 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 11.4901ms
2024-11-17 17:25:33.764 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-17 17:25:33.765 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/Products - - - 200 - application/json;+charset=utf-8 17.7611ms
