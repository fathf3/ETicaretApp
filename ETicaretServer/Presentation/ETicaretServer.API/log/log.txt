2024-11-11 22:48:43.031 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-11 22:48:43.777 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-11 22:48:43.778 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-11 22:48:43.782 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-11 22:48:43.783 +03:00 [INF] Hosting environment: Development
2024-11-11 22:48:43.783 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-12 15:37:52.365 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-12 15:37:56.664 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-12 15:38:07.531 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-12 15:38:07.796 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-12 15:38:07.818 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-12 15:38:07.834 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-12 15:38:07.857 +03:00 [INF] Applying migration '20241112123756_add_mig_11'.
2024-11-12 15:38:07.905 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Files" ADD "Showcase" boolean NULL;
2024-11-12 15:38:07.907 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241112123756_add_mig_11', '6.0.35');
2024-11-13 00:44:18.087 +03:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-11-13 00:44:18.286 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:44:18.313 +03:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-11-13 00:45:30.696 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:46:19.894 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:46:20.088 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:46:20.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:46:20.112 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 00:46:20.129 +03:00 [INF] Applying migration '20241112214530_add_mig_12'.
2024-11-13 00:46:20.181 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_AspNetUsers_UserId1";
2024-11-13 00:47:47.064 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:47:47.249 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:47:47.261 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:47:47.269 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 00:47:47.289 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-11-13 00:47:59.492 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:48:22.396 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:48:22.578 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:48:22.590 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:48:22.598 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 00:48:22.612 +03:00 [INF] Applying migration '20241112214759_add_mig_12'.
2024-11-13 00:48:22.644 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241112214759_add_mig_12', '6.0.35');
2024-11-13 00:52:26.106 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:52:35.245 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 00:52:35.427 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:52:35.439 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 00:52:35.447 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 00:52:35.461 +03:00 [INF] Applying migration '20241112215226_add_mig_13'.
2024-11-13 00:52:35.521 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Baskets" (
    "Id" uuid NOT NULL,
    "UserId" text NOT NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Baskets" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Baskets_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-11-13 00:52:35.523 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BasketItems" (
    "Id" uuid NOT NULL,
    "BasketId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Quantity" integer NOT NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_BasketItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_BasketItems_Baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES "Baskets" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_BasketItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2024-11-13 00:52:35.524 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_BasketId" ON "BasketItems" ("BasketId");
2024-11-13 00:52:35.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_ProductId" ON "BasketItems" ("ProductId");
2024-11-13 00:52:35.526 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Baskets_UserId" ON "Baskets" ("UserId");
2024-11-13 00:52:35.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241112215226_add_mig_13', '6.0.35');
2024-11-13 01:42:14.040 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 01:42:22.963 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 01:42:23.153 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 01:42:23.168 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 01:42:23.176 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 01:42:23.191 +03:00 [INF] Applying migration '20241112224214_add_mig_14'.
2024-11-13 01:42:23.232 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "OrderId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-13 01:42:23.233 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" ADD "OrderId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-13 01:42:23.236 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Baskets_OrderId" ON "Baskets" ("OrderId");
2024-11-13 01:42:23.242 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" ADD CONSTRAINT "FK_Baskets_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE;
2024-11-13 01:42:23.243 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241112224214_add_mig_14', '6.0.35');
2024-11-13 01:48:57.022 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 01:49:03.531 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 01:49:03.810 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 01:49:03.828 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 01:49:03.839 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 01:49:03.857 +03:00 [INF] Applying migration '20241112224857_add_mig_15'.
2024-11-13 01:49:03.904 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_Orders_OrderId";
2024-11-13 01:49:03.905 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Baskets_OrderId";
2024-11-13 01:49:03.906 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "OrderId";
2024-11-13 01:49:03.908 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP COLUMN "OrderId";
2024-11-13 01:49:03.910 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_Baskets_Id" FOREIGN KEY ("Id") REFERENCES "Baskets" ("Id") ON DELETE CASCADE;
2024-11-13 01:49:03.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241112224857_add_mig_15', '6.0.35');
2024-11-13 03:00:51.053 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:00:51.402 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:00:51.403 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:00:51.406 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:00:51.406 +03:00 [INF] Hosting environment: Development
2024-11-13 03:00:51.407 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:01:03.340 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:01:03.427 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:01:03.468 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:01:04.783 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:01:05.237 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:01:06.008 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:01:06.027 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:01:06.161 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:01:06.215 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:01:06.252 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2778.5815ms
2024-11-13 03:01:06.255 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:01:06.274 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2936.7176ms
2024-11-13 03:01:10.401 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-13 03:01:10.647 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:01:10.655 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-13 03:01:10.702 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:01:10.746 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-13 03:01:10.766 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:01:10.767 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:01:10.787 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-13 03:01:10.796 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-13 03:01:10.818 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 161.5487ms
2024-11-13 03:01:10.819 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:01:10.820 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 419.4774ms
2024-11-13 03:01:51.911 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-13 03:01:51.916 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:01:51.921 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-13 03:01:51.931 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:01:51.937 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-13 03:01:51.939 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:01:51.940 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:01:51.944 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-13 03:01:51.946 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-13 03:01:51.948 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 25.3699ms
2024-11-13 03:01:51.949 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:01:51.950 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 39.5341ms
2024-11-13 03:06:18.335 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:06:18.337 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:06:18.341 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:06:18.516 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 174.0025ms
2024-11-13 03:06:18.519 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:06:18.547 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ETicaretServer.Persistence.Services.BasketService.ContextUser() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 69
   at ETicaretServer.Persistence.Services.BasketService.GetBasketItemsAsync() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 102
   at ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryHandler.Handle(GetBasketItemsQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Basket\GetBasketItems\GetBasketItemsQueruHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.BasketsController.GetBasketItem(GetBasketItemsQueryRequest getBasketItemsQueryRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-13 03:06:18.626 +03:00 [ERR] Beklenmeyen bir hata ile karşılaşıldı
2024-11-13 03:06:18.634 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 500 - application/json 299.0456ms
2024-11-13 03:06:25.364 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:06:25.366 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:06:25.369 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:06:25.373 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:06:25.380 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:06:25.386 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:06:25.391 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:06:25.395 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:06:25.399 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:06:25.401 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 30.852ms
2024-11-13 03:06:25.402 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:06:25.404 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 39.1749ms
2024-11-13 03:06:28.266 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:06:28.267 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:06:28.269 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:06:28.372 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 101.5907ms
2024-11-13 03:06:28.373 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:06:28.393 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ETicaretServer.Persistence.Services.BasketService.ContextUser() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 69
   at ETicaretServer.Persistence.Services.BasketService.GetBasketItemsAsync() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 102
   at ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryHandler.Handle(GetBasketItemsQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Basket\GetBasketItems\GetBasketItemsQueruHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.BasketsController.GetBasketItem(GetBasketItemsQueryRequest getBasketItemsQueryRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-13 03:06:28.400 +03:00 [ERR] Beklenmeyen bir hata ile karşılaşıldı
2024-11-13 03:06:28.401 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 500 - application/json 134.4470ms
2024-11-13 03:08:14.061 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets?productId=c185ab26-7c85-478e-9263-e15e8c445543&Quantity=4 - 0
2024-11-13 03:08:14.067 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:08:14.071 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:08:14.077 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-11-13 03:08:14.086 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 13.4327ms
2024-11-13 03:08:14.087 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:08:14.088 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets?productId=c185ab26-7c85-478e-9263-e15e8c445543&Quantity=4 - 0 - 415 - application/problem+json;+charset=utf-8 29.8842ms
2024-11-13 03:08:39.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-13 03:08:39.381 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 132.6221ms
2024-11-13 03:08:42.263 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-13 03:08:42.263 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-13 03:08:42.272 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 8.7755ms
2024-11-13 03:08:42.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.6244ms
2024-11-13 03:08:42.421 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-13 03:08:42.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.5442ms
2024-11-13 03:08:51.827 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/api/Baskets - -
2024-11-13 03:08:51.828 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:08:51.829 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:08:51.926 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 96.0724ms
2024-11-13 03:08:51.928 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:08:51.945 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ETicaretServer.Persistence.Services.BasketService.ContextUser() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 69
   at ETicaretServer.Persistence.Services.BasketService.GetBasketItemsAsync() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 102
   at ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryHandler.Handle(GetBasketItemsQueryRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Queries\Basket\GetBasketItems\GetBasketItemsQueruHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.BasketsController.GetBasketItem(GetBasketItemsQueryRequest getBasketItemsQueryRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-13 03:08:51.953 +03:00 [ERR] Beklenmeyen bir hata ile karşılaşıldı
2024-11-13 03:08:51.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/api/Baskets - - - 500 - application/json 127.5508ms
2024-11-13 03:09:21.024 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:09:21.026 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:09:21.026 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:09:21.134 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 106.6645ms
2024-11-13 03:09:21.136 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:09:21.155 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ETicaretServer.Persistence.Services.BasketService.ContextUser() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 69
   at ETicaretServer.Persistence.Services.BasketService.AddItemToBasketAsync(VM_Create_BasketItem model) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 76
   at ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandHandler.Handle(AddItemToBasketCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Basket\AddItemToBasket\AddItemToBasketCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.BasketsController.AddItemToBasket(AddItemToBasketCommandRequest addItemToBasketCommandRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-13 03:09:21.162 +03:00 [ERR] Beklenmeyen bir hata ile karşılaşıldı
2024-11-13 03:09:21.162 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 500 - application/json 137.8684ms
2024-11-13 03:09:33.152 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:09:33.407 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:09:33.407 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:09:33.410 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:09:33.410 +03:00 [INF] Hosting environment: Development
2024-11-13 03:09:33.411 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:09:40.292 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:09:40.358 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:09:40.390 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:09:41.666 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:09:42.118 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:09:42.416 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:09:42.431 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:09:42.557 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:09:42.609 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:09:42.645 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2249.4015ms
2024-11-13 03:09:42.648 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:09:42.669 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2379.9909ms
2024-11-13 03:09:46.858 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:09:46.862 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:09:46.866 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:09:47.038 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 170.1231ms
2024-11-13 03:09:47.040 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:09:47.064 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ETicaretServer.Persistence.Services.BasketService.ContextUser() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 69
   at ETicaretServer.Persistence.Services.BasketService.AddItemToBasketAsync(VM_Create_BasketItem model) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\BasketService.cs:line 76
   at ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandHandler.Handle(AddItemToBasketCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Basket\AddItemToBasket\AddItemToBasketCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.BasketsController.AddItemToBasket(AddItemToBasketCommandRequest addItemToBasketCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\BasketsController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-13 03:09:47.122 +03:00 [ERR] Beklenmeyen bir hata ile karşılaşıldı
2024-11-13 03:09:47.133 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 500 - application/json 274.1522ms
2024-11-13 03:09:58.514 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:09:58.518 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:09:58.519 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:11:20.440 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:11:20.753 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:11:20.754 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:11:20.758 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:11:20.758 +03:00 [INF] Hosting environment: Development
2024-11-13 03:11:20.759 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:11:27.676 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:11:27.760 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:11:27.803 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:11:29.134 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:11:29.565 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:11:29.860 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:11:29.877 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:11:30.035 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:11:30.093 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:11:30.126 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2316.8194ms
2024-11-13 03:11:30.128 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:11:30.148 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2475.2505ms
2024-11-13 03:11:33.725 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:11:33.727 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:11:33.731 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:13:23.156 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:13:23.462 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:13:23.462 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:13:23.465 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:13:23.466 +03:00 [INF] Hosting environment: Development
2024-11-13 03:13:23.467 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:13:26.981 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:13:27.127 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:13:27.135 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:13:27.149 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 401 0 - 171.5662ms
2024-11-13 03:13:33.194 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:13:33.202 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:13:33.234 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:13:34.481 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:13:34.946 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:13:35.207 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:13:35.223 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:13:35.350 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:13:35.406 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:13:35.436 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2195.9487ms
2024-11-13 03:13:35.438 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:13:35.455 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2261.5605ms
2024-11-13 03:13:37.571 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:13:37.574 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:13:37.576 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:13:37.577 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 401 0 - 5.4697ms
2024-11-13 03:13:49.851 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-13 03:13:49.927 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:13:49.934 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-13 03:13:49.984 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:13:50.026 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-13 03:13:50.041 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:13:50.042 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-13 03:13:50.059 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-13 03:13:50.066 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-13 03:13:50.083 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 146.7026ms
2024-11-13 03:13:50.084 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:13:50.085 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 233.7806ms
2024-11-13 03:13:53.118 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:13:53.119 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:13:53.120 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:13:53.121 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 401 0 - 3.0510ms
2024-11-13 03:14:09.483 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:14:09.484 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:14:09.485 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:14:09.486 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 401 0 - 3.0512ms
2024-11-13 03:14:45.095 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:14:45.096 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:14:45.100 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:14:47.334 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:14:47.503 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:14:47.605 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2024-11-13 03:14:47.644 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 03:14:47.648 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 03:14:47.651 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 2549.9655ms
2024-11-13 03:14:47.652 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:14:47.654 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 2559.2166ms
2024-11-13 03:14:54.163 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:14:54.165 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:14:54.169 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:15:02.831 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:15:02.845 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:15:02.855 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:15:02.861 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:15:02.864 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:15:02.865 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 8694.846ms
2024-11-13 03:15:02.866 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:15:02.867 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 8703.8068ms
2024-11-13 03:15:07.143 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:15:07.144 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:15:07.145 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:15:09.098 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:15:09.103 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:15:09.108 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:15:09.111 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:15:09.116 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 03:15:09.118 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 03:15:09.119 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 1972.8085ms
2024-11-13 03:15:09.121 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:15:09.122 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 1979.0808ms
2024-11-13 03:17:01.629 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:17:01.993 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:17:01.994 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:17:01.997 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:17:01.998 +03:00 [INF] Hosting environment: Development
2024-11-13 03:17:01.998 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:17:47.388 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:17:47.692 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:17:47.726 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:18:00.151 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:18:00.815 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:18:01.013 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:18:01.021 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:18:01.090 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:18:01.116 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 13383.0913ms
2024-11-13 03:18:01.119 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:18:01.141 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 13754.7278ms
2024-11-13 03:18:37.033 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:18:37.050 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:18:37.051 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:18:37.086 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:18:37.093 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:18:37.100 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:18:37.103 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:19:01.198 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:19:01.201 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 24147.4258ms
2024-11-13 03:19:01.202 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:19:01.204 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 24171.0806ms
2024-11-13 03:19:02.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-13 03:19:02.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 120.5888ms
2024-11-13 03:19:02.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-13 03:19:02.443 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 8.2455ms
2024-11-13 03:19:02.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-13 03:19:02.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.8387ms
2024-11-13 03:19:02.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-13 03:19:02.768 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.9994ms
2024-11-13 03:19:03.610 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:19:03.613 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:19:03.617 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:19:03.637 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:19:03.649 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:19:03.655 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:19:03.657 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:19:03.684 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:19:03.823 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-13 03:19:03.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:19:03.862 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 242.6451ms
2024-11-13 03:19:03.862 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:19:03.864 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 253.8598ms
2024-11-13 03:19:18.169 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:19:18.171 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:19:18.174 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:19:18.181 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:19:18.184 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:19:18.189 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:19:18.192 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:19:18.222 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 03:19:18.241 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 03:19:18.249 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 73.048ms
2024-11-13 03:19:18.250 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:19:18.251 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 82.1751ms
2024-11-13 03:20:20.216 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-13 03:20:20.229 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 12.8445ms
2024-11-13 03:20:20.275 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-13 03:20:20.278 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-13 03:20:20.284 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.4393ms
2024-11-13 03:20:20.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.1079ms
2024-11-13 03:20:20.361 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-13 03:20:20.368 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.2676ms
2024-11-13 03:21:06.337 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80
2024-11-13 03:21:06.338 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:21:06.345 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:21:06.346 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80 - 401 0 - 9.1189ms
2024-11-13 03:21:09.847 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:21:09.849 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:21:09.852 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:21:09.864 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:21:09.872 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:21:09.917 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:21:09.935 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:21:09.960 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:21:09.974 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:21:09.983 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 129.2064ms
2024-11-13 03:21:09.985 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:21:09.987 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 139.7493ms
2024-11-13 03:21:12.378 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80
2024-11-13 03:21:12.379 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:21:12.380 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:21:12.381 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80 - 401 0 - 2.8011ms
2024-11-13 03:21:25.978 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/15cdb3d0-3792-43d0-8a8d-2af5887e7949 - -
2024-11-13 03:21:25.980 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:21:25.985 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetById.GetByIdProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-13 03:21:25.994 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:21:26.003 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2024-11-13 03:21:26.008 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetById.GetByIdProductQueryResponse'.
2024-11-13 03:21:26.012 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 25.5598ms
2024-11-13 03:21:26.013 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-13 03:21:26.014 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/15cdb3d0-3792-43d0-8a8d-2af5887e7949 - - - 200 - application/json;+charset=utf-8 36.4533ms
2024-11-13 03:21:30.281 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80
2024-11-13 03:21:30.282 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:21:30.283 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:21:30.284 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80 - 401 0 - 2.5841ms
2024-11-13 03:22:25.332 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets?BasketItemId=6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:22:25.337 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-13 03:22:25.338 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-13 03:22:25.339 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets?BasketItemId=6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 405 0 - 7.3030ms
2024-11-13 03:22:28.469 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:22:28.470 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:22:28.471 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:22:28.473 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:22:28.479 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:22:28.482 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:22:28.485 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:22:28.493 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 03:22:28.495 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 03:22:28.496 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 23.3563ms
2024-11-13 03:22:28.497 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:22:28.498 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 28.9425ms
2024-11-13 03:22:52.194 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets?BasketItemId=6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:22:52.195 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-13 03:22:52.196 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-13 03:22:52.197 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets?BasketItemId=6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 405 0 - 2.7818ms
2024-11-13 03:23:30.055 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:23:30.056 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:23:30.057 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:23:30.058 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 401 0 - 2.8840ms
2024-11-13 03:23:34.523 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:23:34.525 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:23:34.526 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:23:34.529 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:23:34.537 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:23:34.544 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:23:34.547 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:23:34.557 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:23:34.562 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:23:34.563 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 35.9161ms
2024-11-13 03:23:34.565 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:23:34.566 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 43.2482ms
2024-11-13 03:23:36.954 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:23:36.955 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:23:36.956 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:23:36.957 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 401 0 - 2.7200ms
2024-11-13 03:23:45.599 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 03:23:45.845 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 03:23:45.846 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 03:23:45.848 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 03:23:45.848 +03:00 [INF] Hosting environment: Development
2024-11-13 03:23:45.849 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 03:23:53.528 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 03:23:53.606 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:23:53.647 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 03:23:54.882 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:23:55.328 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:23:55.610 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 03:23:55.625 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 03:23:55.754 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 03:23:55.810 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 03:23:55.840 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2187.4989ms
2024-11-13 03:23:55.842 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 03:23:55.860 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2334.8550ms
2024-11-13 03:23:57.962 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:23:57.997 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-13 03:23:58.006 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2024-11-13 03:23:58.008 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 401 0 - 45.7143ms
2024-11-13 03:24:27.330 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:24:27.401 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:24:27.407 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:24:27.446 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:24:27.608 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:24:27.662 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:24:27.669 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:24:27.698 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:24:27.721 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2024-11-13 03:24:27.727 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:24:27.729 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 320.28ms
2024-11-13 03:24:27.730 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:24:27.732 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 402.2664ms
2024-11-13 03:24:39.523 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:24:39.525 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:24:39.527 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:24:39.536 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:24:39.542 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:24:39.547 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:24:39.549 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:24:39.554 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:24:39.558 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2024-11-13 03:24:39.562 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:24:39.563 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 34.6527ms
2024-11-13 03:24:39.564 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:24:39.565 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 41.6217ms
2024-11-13 03:25:04.407 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:25:04.409 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:04.410 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:04.421 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:04.430 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:25:04.434 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:04.438 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:04.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:25:04.504 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-13 03:25:04.514 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:25:04.515 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 104.233ms
2024-11-13 03:25:04.517 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:04.518 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 110.4836ms
2024-11-13 03:25:08.684 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:25:08.685 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:08.686 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:08.687 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:08.698 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:25:08.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:08.703 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:08.706 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:25:08.711 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-13 03:25:08.716 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:25:08.717 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 29.9671ms
2024-11-13 03:25:08.718 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:08.719 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 34.8239ms
2024-11-13 03:25:13.128 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-13 03:25:13.129 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:13.130 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:13.132 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:13.141 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:25:13.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:13.148 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:13.153 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-13 03:25:13.156 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-13 03:25:13.166 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-13 03:25:13.168 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 35.8883ms
2024-11-13 03:25:13.169 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-13 03:25:13.170 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 41.8804ms
2024-11-13 03:25:14.998 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 03:25:15.005 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:25:15.011 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:15.018 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:15.021 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 03:25:15.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:15.029 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 03:25:15.060 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 03:25:15.078 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 03:25:15.086 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 74.0561ms
2024-11-13 03:25:15.087 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 03:25:15.088 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 90.4213ms
2024-11-13 03:25:33.832 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80
2024-11-13 03:25:33.834 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API)'
2024-11-13 03:25:33.839 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretServer.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:33.849 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:33.859 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2024-11-13 03:25:33.864 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2024-11-13 03:25:33.868 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2024-11-13 03:25:33.870 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API) in 28.3106ms
2024-11-13 03:25:33.871 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API)'
2024-11-13 03:25:33.872 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80 - 200 - application/json;+charset=utf-8 39.8722ms
2024-11-13 03:25:42.325 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80
2024-11-13 03:25:42.327 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API)'
2024-11-13 03:25:42.328 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretServer.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:42.330 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:42.334 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2024-11-13 03:25:42.342 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2024-11-13 03:25:42.347 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2024-11-13 03:25:42.348 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API) in 19.4895ms
2024-11-13 03:25:42.350 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.UpdateQuantity (ETicaretServer.API)'
2024-11-13 03:25:42.351 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7091/api/baskets application/json 80 - 200 - application/json;+charset=utf-8 25.4989ms
2024-11-13 03:25:48.204 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - -
2024-11-13 03:25:48.205 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.RemoveBasketItem (ETicaretServer.API)'
2024-11-13 03:25:48.209 +03:00 [INF] Route matched with {action = "RemoveBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveBasketItem(ETicaretServer.Application.Features.Commands.Basket.RemoveBasket.RemoveBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 03:25:52.869 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 03:25:52.913 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2024-11-13 03:25:52.928 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BasketItems"
WHERE "Id" = @p0;
2024-11-13 03:25:52.936 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.RemoveBasket.RemoveBasketCommandResponse'.
2024-11-13 03:25:52.938 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.RemoveBasketItem (ETicaretServer.API) in 4727.5001ms
2024-11-13 03:25:52.939 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.RemoveBasketItem (ETicaretServer.API)'
2024-11-13 03:25:52.940 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7091/api/baskets/6eb12fa6-19fc-4a3b-b643-723bee059b21 - - - 200 - application/json;+charset=utf-8 4735.4998ms
2024-11-13 17:33:22.038 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 17:33:29.106 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 17:33:29.290 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 17:33:29.303 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 17:33:29.314 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 17:33:29.331 +03:00 [INF] Applying migration '20241113143322_add_mig_16'.
2024-11-13 17:33:29.382 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2024-11-13 17:33:29.386 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "OrderProduct";
2024-11-13 17:33:29.387 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ALTER COLUMN "CustomerId" DROP NOT NULL;
2024-11-13 17:33:29.395 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_Customers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "Customers" ("Id");
2024-11-13 17:33:29.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241113143322_add_mig_16', '6.0.35');
2024-11-13 17:35:27.204 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 17:35:33.563 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 17:35:33.753 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 17:35:33.765 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 17:35:33.774 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 17:35:33.789 +03:00 [INF] Applying migration '20241113143527_add_mig_17'.
2024-11-13 17:35:33.826 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2024-11-13 17:35:33.827 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Orders_CustomerId";
2024-11-13 17:35:33.828 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId";
2024-11-13 17:35:33.829 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "BasketId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2024-11-13 17:35:33.830 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241113143527_add_mig_17', '6.0.35');
2024-11-13 18:09:05.382 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 18:09:05.951 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 18:09:05.952 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 18:09:05.955 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 18:09:05.955 +03:00 [INF] Hosting environment: Development
2024-11-13 18:09:05.956 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 18:09:07.914 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/index.html - -
2024-11-13 18:09:08.197 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/index.html - - - 200 - text/html;charset=utf-8 286.8362ms
2024-11-13 18:09:08.611 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-13 18:09:08.611 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-13 18:09:08.617 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 5.5547ms
2024-11-13 18:09:08.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.2571ms
2024-11-13 18:09:08.785 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-13 18:09:08.930 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.3298ms
2024-11-13 18:12:38.310 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:12:44.825 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:12:45.029 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 18:12:45.044 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-13 18:12:45.054 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-13 18:12:45.070 +03:00 [INF] Applying migration '20241113151238_add_mig_18'.
2024-11-13 18:12:45.107 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "BasketId";
2024-11-13 18:12:45.108 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241113151238_add_mig_18', '6.0.35');
2024-11-13 18:14:26.706 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-13 18:14:27.070 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-13 18:14:27.072 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-13 18:14:27.076 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-13 18:14:27.077 +03:00 [INF] Hosting environment: Development
2024-11-13 18:14:27.078 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-13 18:14:28.269 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-13 18:14:28.366 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 18:14:28.409 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-13 18:14:29.650 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:14:30.171 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 18:14:30.983 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-13 18:14:31.005 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-13 18:14:31.155 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-13 18:14:31.212 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-13 18:14:31.252 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2837.6193ms
2024-11-13 18:14:31.254 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-13 18:14:31.278 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 3011.2799ms
2024-11-13 18:14:38.683 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 18:14:38.921 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 18:14:38.926 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 18:14:38.964 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:14:39.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 18:14:39.165 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 18:14:39.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 18:14:39.219 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 18:14:39.253 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 18:14:39.262 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 334.4814ms
2024-11-13 18:14:39.263 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 18:14:39.265 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 582.2092ms
2024-11-13 18:15:11.324 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders - -
2024-11-13 18:15:11.327 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-13 18:15:11.328 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-13 18:15:11.329 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders - - - 405 0 - 5.0946ms
2024-11-13 18:15:48.733 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - -
2024-11-13 18:15:48.740 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/_vs/browserLink - -
2024-11-13 18:15:48.758 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_framework/aspnetcore-browser-refresh.js - - - 200 12368 application/javascript;+charset=utf-8 25.4182ms
2024-11-13 18:15:48.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 96.2345ms
2024-11-13 18:15:49.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - -
2024-11-13 18:15:49.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7091/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 325.4568ms
2024-11-13 18:16:15.622 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-13 18:16:15.623 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-13 18:16:15.626 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-13 18:16:15.639 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:16:15.644 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 18:16:15.647 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 18:16:15.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 18:16:15.704 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-11-13 18:16:15.711 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandResponse'.
2024-11-13 18:16:15.713 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 85.3009ms
2024-11-13 18:16:15.714 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-13 18:16:15.715 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 93.3020ms
2024-11-13 18:16:27.530 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-13 18:16:27.533 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 18:16:27.534 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-13 18:16:27.538 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-13 18:16:27.542 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-13 18:16:27.548 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2024-11-13 18:16:27.586 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2024-11-13 18:16:27.594 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-13 18:16:27.597 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-13 18:16:27.599 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 62.7789ms
2024-11-13 18:16:27.600 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-13 18:16:27.601 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 70.7770ms
2024-11-14 01:12:35.013 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:12:41.853 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:15:44.589 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:15:44.856 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-14 01:15:44.877 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-14 01:15:44.887 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-14 01:15:44.910 +03:00 [INF] Applying migration '20241113221235_add_mig_19'.
2024-11-14 01:15:44.961 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "OrderCode" text NOT NULL DEFAULT '';
2024-11-14 01:15:44.964 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241113221235_add_mig_19', '6.0.35');
2024-11-14 01:15:53.148 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:15:57.335 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:15:57.522 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-14 01:15:57.535 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-14 01:15:57.543 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-14 01:15:57.557 +03:00 [INF] Applying migration '20241113221553_add_mig_20'.
2024-11-14 01:15:57.596 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Orders_OrderCode" ON "Orders" ("OrderCode");
2024-11-14 01:15:57.597 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241113221553_add_mig_20', '6.0.35');
2024-11-14 01:27:44.584 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:27:44.982 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:27:44.982 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:27:44.985 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:27:44.986 +03:00 [INF] Hosting environment: Development
2024-11-14 01:27:44.987 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:29:10.643 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-14 01:29:10.734 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:29:10.781 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-14 01:29:12.122 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:29:12.567 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:29:13.347 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:29:13.363 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-14 01:29:13.494 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-14 01:29:13.547 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-14 01:29:13.581 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2794.2419ms
2024-11-14 01:29:13.583 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:29:13.601 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2962.0672ms
2024-11-14 01:29:19.325 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-14 01:29:19.561 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:29:19.567 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-14 01:29:19.608 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:29:19.768 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:29:19.897 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2024-11-14 01:29:19.942 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-14 01:29:19.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 01:29:19.955 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 386.8847ms
2024-11-14 01:29:19.956 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:29:19.959 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 634.7476ms
2024-11-14 01:29:22.748 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77
2024-11-14 01:29:22.757 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-14 01:29:22.760 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-14 01:29:22.777 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:29:22.782 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:29:22.799 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:22.806 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:22.822 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2024-11-14 01:29:22.861 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-14 01:29:22.865 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2024-11-14 01:29:22.866 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API) in 104.2009ms
2024-11-14 01:29:22.867 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.AddItemToBasket (ETicaretServer.API)'
2024-11-14 01:29:22.868 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/baskets application/json 77 - 200 - application/json;+charset=utf-8 119.5099ms
2024-11-14 01:29:25.857 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-14 01:29:25.859 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:29:25.860 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-14 01:29:25.863 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:29:25.866 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:29:25.870 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:25.872 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:25.876 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-14 01:29:25.894 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 01:29:25.901 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 39.5173ms
2024-11-14 01:29:25.902 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:29:25.903 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 45.6081ms
2024-11-14 01:29:34.184 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:29:34.185 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:29:34.190 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:29:34.195 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:29:34.199 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:29:34.202 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:34.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:29:34.347 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 156.366ms
2024-11-14 01:29:34.349 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:29:34.369 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:29:34.459 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:29:34.469 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 285.4228ms
2024-11-14 01:30:18.780 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:30:18.781 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:30:18.782 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:30:18.785 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:30:18.789 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:30:18.791 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:30:18.794 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:30:18.863 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 79.2583ms
2024-11-14 01:30:18.864 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:30:18.883 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:30:18.890 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:30:18.890 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 110.0869ms
2024-11-14 01:30:50.518 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:30:50.773 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:30:50.774 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:30:50.777 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:30:50.778 +03:00 [INF] Hosting environment: Development
2024-11-14 01:30:50.779 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:30:53.502 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-14 01:30:53.573 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:30:53.604 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-14 01:30:54.785 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:30:55.196 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:30:55.472 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:30:55.486 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-14 01:30:55.610 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-14 01:30:55.660 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-14 01:30:55.695 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2085.0525ms
2024-11-14 01:30:55.698 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:30:55.716 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2217.1432ms
2024-11-14 01:30:59.435 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:30:59.526 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:30:59.529 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:30:59.565 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:30:59.710 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:30:59.770 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:30:59.782 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:30:59.926 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 395.576ms
2024-11-14 01:30:59.927 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:30:59.955 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:30:59.995 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:31:00.009 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 573.8931ms
2024-11-14 01:31:16.700 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:31:16.703 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:31:16.704 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:31:56.420 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:31:56.425 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:31:56.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:31:56.430 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:31:56.612 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 39906.1139ms
2024-11-14 01:31:56.617 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:31:56.680 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:31:56.703 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:31:56.706 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 40006.1869ms
2024-11-14 01:33:27.112 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:33:27.380 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:33:27.381 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:33:27.384 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:33:27.385 +03:00 [INF] Hosting environment: Development
2024-11-14 01:33:27.386 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:33:34.584 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-14 01:33:34.869 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:34.904 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-14 01:33:36.087 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:33:36.398 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-14 01:33:36.449 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-14 01:33:36.450 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-14 01:33:36.485 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-14 01:33:36.502 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-14 01:33:36.544 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 1634.0474ms
2024-11-14 01:33:36.546 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:36.557 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 1975.1219ms
2024-11-14 01:33:41.409 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-14 01:33:41.413 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:33:41.417 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-14 01:33:41.468 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:33:41.572 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:33:41.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 01:33:41.735 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-14 01:33:41.855 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-14 01:33:41.907 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-14 01:33:41.909 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 490.6565ms
2024-11-14 01:33:41.911 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 01:33:41.918 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 508.9550ms
2024-11-14 01:33:44.745 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/15cdb3d0-3792-43d0-8a8d-2af5887e7949 - -
2024-11-14 01:33:44.748 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:44.751 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetById.GetByIdProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-14 01:33:44.763 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:33:44.777 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2024-11-14 01:33:44.810 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetById.GetByIdProductQueryResponse'.
2024-11-14 01:33:44.812 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 59.3577ms
2024-11-14 01:33:44.813 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:44.814 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/15cdb3d0-3792-43d0-8a8d-2af5887e7949 - - - 200 - application/json;+charset=utf-8 69.1833ms
2024-11-14 01:33:47.502 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-14 01:33:47.504 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:47.505 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-14 01:33:47.507 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:33:47.510 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-14 01:33:47.514 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-14 01:33:47.516 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-14 01:33:47.521 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 14.7934ms
2024-11-14 01:33:47.522 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:33:47.523 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 20.6080ms
2024-11-14 01:33:53.606 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:33:53.607 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:33:53.610 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:33:59.907 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:34:00.067 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:34:00.097 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:34:00.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:34:00.191 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 6579.4314ms
2024-11-14 01:34:00.192 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:34:00.210 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:34:00.246 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:34:00.253 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 6646.8269ms
2024-11-14 01:34:41.600 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:34:41.969 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:34:41.970 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:34:41.973 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:34:41.974 +03:00 [INF] Hosting environment: Development
2024-11-14 01:34:41.975 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:35:59.116 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:35:59.424 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:35:59.425 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:35:59.428 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:35:59.429 +03:00 [INF] Hosting environment: Development
2024-11-14 01:35:59.430 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:36:03.577 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:36:03.860 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:36:03.893 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:37:08.496 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:37:09.067 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:37:09.229 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:37:09.236 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:37:39.163 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 95264.3369ms
2024-11-14 01:37:39.166 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:37:39.192 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Length cannot be less than zero. (Parameter 'length')
   at System.String.Substring(Int32 startIndex, Int32 length)
   at ETicaretServer.Persistence.Services.OrderService.CreateOrderAsync(CreateOrderDto createOrderDto) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Infrastructure\ETicaretServer.Persistence\Services\OrderService.cs:line 24
   at ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Core\ETicaretServer.Application\Features\Commands\Order\CreateOrderCommandHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretServer.API.Controllers.OrdersController.CreateProduct(CreateOrderCommandRequest createOrderCommandRequest) in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Controllers\OrdersController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-11-14 01:37:39.239 +03:00 [ERR] Length cannot be less than zero. (Parameter 'length')
2024-11-14 01:37:39.275 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 500 - application/json 95701.3372ms
2024-11-14 01:37:41.711 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:37:41.715 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:37:41.717 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:37:49.347 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:37:49.354 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:37:49.357 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:37:49.359 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:38:26.064 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 01:38:26.354 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 01:38:26.355 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 01:38:26.358 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 01:38:26.359 +03:00 [INF] Hosting environment: Development
2024-11-14 01:38:26.360 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 01:38:30.587 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/orders application/json 59
2024-11-14 01:38:30.875 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:38:30.908 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 01:38:33.930 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:38:34.554 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:38:34.729 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:38:34.736 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:38:39.341 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-14 01:38:39.394 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.Order.CreateOrderCommandResponse'.
2024-11-14 01:38:39.418 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API) in 8504.0346ms
2024-11-14 01:38:39.420 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.CreateProduct (ETicaretServer.API)'
2024-11-14 01:38:39.439 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 8855.2977ms
2024-11-14 01:39:15.135 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-14 01:39:15.145 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:39:15.150 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-14 01:39:15.187 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:39:15.195 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 01:39:15.200 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 01:39:15.233 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2024-11-14 01:39:15.270 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-14 01:39:15.273 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 01:39:15.278 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 126.4025ms
2024-11-14 01:39:15.279 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 01:39:15.280 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 145.7440ms
2024-11-14 01:39:18.839 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - -
2024-11-14 01:39:18.842 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:39:18.849 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretServer.API.Controllers.ProductsController (ETicaretServer.API).
2024-11-14 01:39:18.871 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 01:39:18.895 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2024-11-14 01:39:18.906 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-14 01:39:18.907 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-11-14 01:39:18.913 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2024-11-14 01:39:18.917 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-11-14 01:39:18.941 +03:00 [INF] Executed action ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API) in 90.4625ms
2024-11-14 01:39:18.943 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.ProductsController.Get (ETicaretServer.API)'
2024-11-14 01:39:18.944 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/products/?Pagination.Page=0&Pagination.Size=15 - - - 200 - application/json;+charset=utf-8 104.7855ms
2024-11-14 03:20:05.545 +03:00 [INF] User profile is available. Using 'C:\Users\F3\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-14 03:20:05.897 +03:00 [INF] Now listening on: https://localhost:7091
2024-11-14 03:20:05.898 +03:00 [INF] Now listening on: http://localhost:5170
2024-11-14 03:20:05.901 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-14 03:20:05.902 +03:00 [INF] Hosting environment: Development
2024-11-14 03:20:05.903 +03:00 [INF] Content root path: D:\Code\CSharp\ETicaretApp\ETicaretServer\Presentation\ETicaretServer.API\
2024-11-14 03:20:09.836 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59
2024-11-14 03:20:09.927 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 03:20:09.976 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretServer.API.Controllers.AuthController (ETicaretServer.API).
2024-11-14 03:20:11.254 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 03:20:11.695 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 03:20:12.014 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-14 03:20:12.032 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2024-11-14 03:20:12.195 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2024-11-14 03:20:12.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretServer.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2024-11-14 03:20:12.306 +03:00 [INF] Executed action ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API) in 2321.9419ms
2024-11-14 03:20:12.310 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.AuthController.Login (ETicaretServer.API)'
2024-11-14 03:20:12.334 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7091/api/auth/login application/json 59 - 200 - application/json;+charset=utf-8 2501.9326ms
2024-11-14 03:20:27.230 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/orders application/json 59
2024-11-14 03:20:27.350 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-14 03:20:27.354 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryRequest) on controller ETicaretServer.API.Controllers.OrdersController (ETicaretServer.API).
2024-11-14 03:20:27.391 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 03:20:27.592 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."CreatedDate", o."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::bigint), 0.0)::bigint
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId")::real AS "TotalPrice", a."UserName" AS "Username"
FROM "Orders" AS o
INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2024-11-14 03:20:27.603 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Order.GetAllOrders.GetAllOrderQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 03:20:27.612 +03:00 [INF] Executed action ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API) in 257.0375ms
2024-11-14 03:20:27.614 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.OrdersController.GetAllOrders (ETicaretServer.API)'
2024-11-14 03:20:27.617 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/orders application/json 59 - 200 - application/json;+charset=utf-8 386.9320ms
2024-11-14 03:28:03.433 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7091/api/baskets - -
2024-11-14 03:28:03.438 +03:00 [INF] Executing endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 03:28:03.443 +03:00 [INF] Route matched with {action = "GetBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItem(ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretServer.API.Controllers.BasketsController (ETicaretServer.API).
2024-11-14 03:28:03.464 +03:00 [INF] Entity Framework Core 6.0.35 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2024-11-14 03:28:03.581 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2024-11-14 03:28:03.636 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 03:28:03.658 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2024-11-14 03:28:03.695 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2024-11-14 03:28:03.699 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretServer.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretServer.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-14 03:28:03.700 +03:00 [INF] Executed action ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API) in 254.944ms
2024-11-14 03:28:03.701 +03:00 [INF] Executed endpoint 'ETicaretServer.API.Controllers.BasketsController.GetBasketItem (ETicaretServer.API)'
2024-11-14 03:28:03.702 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7091/api/baskets - - - 200 - application/json;+charset=utf-8 269.2782ms
